#!/bin/bash

# add, commit & push with  message
function f_acp() {
	MSG="$*"
	git add . 
	printf "Commit message:" ; read -r -p MSG ; git commit -m "$MSG"
	git push
}

#
function f_clean_history() {
    if [ "$1" = "--zsh" ] ; then printf "\n" > .zsh_history
    elif [ "$1" = "--bash" ] ; then printf "\n" > .bash_history
    else 
        printf "\n" > .zsh_history
        printf "\n" > .bash_history 
    fi
}

# create a new localhost with specific port
function f_host() {
    if [ "$*" ] ; then php -S localhost:"$1" ; 
    else php -S localhost:8000 ; fi
}

# create a new folder and go into it
function f_mkdir() { mkdir -p "$@" ; cd "$_" || exit ; }

# open pwd directory by default, or specified file, directory or application
function f_open() {
	if [ $# -eq 0 ] ; then open . ;
	else open "$@" ; fi ;
}

function f_rmdll() {
    DLL="$HOME/Downloads/*"
	DLL_DOT="$HOME/Downloads/.*"
	if [ "${#DLL[@]}" -gt 0 ] ; then rm -rf ~/Downloads/* ; fi
	if [ "${#DLL_DOT[@]}" -gt 0 ] ; then rm -rf ~/Downloads/.* ; fi
}

# delete all trash content
function f_trash() {
	TRASH="$HOME/.Trash/*"
	TRASH_DOT="$HOME/.Trash/.*"
	if [ "${#TRASH[@]}" -gt 0 ] ; then rm -rf ~/.Trash/* ; fi
	if [ "${#TRASH_DOT[@]}" -gt 0 ] ; then rm -rf ~/.Trash/.* ; fi
}

# open Visual Studio code with given param, otherwise open the current directory
function f_code() {
	if [ $# -eq 0 ] ; then code . ;
	else code "$@" ; fi ;
}

# zip the given folder
function f_zip() {
	zip -r "$1.zip" "$1";
}

# create a new bash script
function newsh() {
	FILE=/usr/local/bin/"$1"
	touch "$FILE" ; chmod a+rx "$FILE"
	echo "#!/usr/local/bin/bash" > "$FILE"
}

# custom commit for https://github.com/blyndusk/wdilt repository
function wdilt() {
	NEW_DATE=$(date +"%m-%d-%y")
	yarn deploy
	git add .
	git commit -m ":speech_balloon: $NEW_DATE"
	gp
}

