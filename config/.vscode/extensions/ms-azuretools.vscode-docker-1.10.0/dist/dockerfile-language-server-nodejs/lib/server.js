module.exports=function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1912)}({10:function(e,t){e.exports=require("fs")},122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(149),a=n(313),o=n(237),s=n(886),c=n(51);class Instruction extends a.Line{constructor(e,t,n,r,i,a){super(e,t),this.dockerfile=n,this.escapeChar=r,this.instruction=i,this.instructionRange=a}toString(){let e=this.getKeyword();for(let t of this.getRawArguments())e+=" ",e+=t.getValue();return e}getRangeContent(e){return null===e?null:this.document.getText().substring(this.document.offsetAt(e.start),this.document.offsetAt(e.end))}getInstructionRange(){return this.instructionRange}getInstruction(){return this.instruction}getKeyword(){return this.getInstruction().toUpperCase()}getArgumentsRange(){let e=this.getArguments();return 0===e.length?null:r.Range.create(e[0].getRange().start,e[e.length-1].getRange().end)}getArgumentsRanges(){let e=this.getArguments();if(0===e.length)return[];if(e[0].getRange().start.line===e[e.length-1].getRange().end.line)return[r.Range.create(e[0].getRange().start,e[e.length-1].getRange().end)];let t=[],n=-1,a=e[0].getRange().start,o=this.getInstructionRange(),s=this.document.offsetAt(a)-this.document.offsetAt(o.start),c=this.getTextContent().substring(s,this.document.offsetAt(e[e.length-1].getRange().end)-this.document.offsetAt(o.start)),u=this.document.offsetAt(o.start)+s,l=!1,g=!1;for(let e=0;e<c.length;e++){let o=c.charAt(e);if(o===this.escapeChar){let i=c.charAt(e+1);if(" "===i||"\t"===i)e:for(let i=e+2;i<c.length;i++)switch(c.charAt(i)){case" ":case"\t":continue;case"\r":i++;case"\n":null!==a&&t.push(r.Range.create(a,this.document.positionAt(u+n+1))),a=null,l=!0,g=!1,e=i;break e;default:break e}else"\r"===i?(null!==a&&(t.push(r.Range.create(a,this.document.positionAt(u+n+1))),a=null),l=!0,g=!1,e+=2):"\n"===i?(null!==a&&t.push(r.Range.create(a,this.document.positionAt(u+n+1))),a=null,l=!0,g=!1,e++):e++}else if(i.Util.isNewline(o))g&&(a=null,l=!0,g=!1);else if(!g){if(null===a){if("#"===o){g=!0;continue}let t=this.document.positionAt(u+e);0!==t.character&&(a=r.Position.create(t.line,0))}n=e}}return null===a?t.push(r.Range.create(this.document.positionAt(u+n),this.document.positionAt(u+n+1))):t.push(r.Range.create(a,this.document.positionAt(u+n+1))),t}getRawArgumentsContent(){let e=this.getArguments();return 0===e.length?null:this.getRangeContent(r.Range.create(e[0].getRange().start,e[e.length-1].getRange().end))}getArgumentsContent(){if(0===this.getArguments().length)return null;let e="",t=this.getArgumentsRanges(),n=this.document.getText();for(let r of t)e+=n.substring(this.document.offsetAt(r.start),this.document.offsetAt(r.end));return e}getArguments(){return this.getRawArguments()}getRawArguments(){let e=[],t=this.getInstructionRange(),n=this.document.offsetAt(t.end)-this.document.offsetAt(t.start),a=this.getTextContent().substring(n),s=this.document.offsetAt(t.start)+n,c=!1,u=!1,l=-1,g=!1,d=!1,h=-1,m="";for(let t=0;t<a.length;t++){let n=a.charAt(t);if(i.Util.isWhitespace(n)){if(d){g=!0,i.Util.isNewline(n)&&(g=!1,u&&(u=!1,c=!0));continue}-1!==l&&(-1===h?e.push(new o.Argument(m,r.Range.create(this.document.positionAt(s+l),this.document.positionAt(s+t)))):e.push(new o.Argument(m,r.Range.create(this.document.positionAt(s+l),this.document.positionAt(s+h)))),h=-1,m="",l=-1)}else if(n===this.escapeChar){let i=a.charAt(t+1);if(" "===i||"\t"===i)e:for(let e=t+2;e<a.length;e++){switch(a.charAt(e)){case" ":case"\t":continue;case"\r":e++;case"\n":u=!1,d=!0,c=!0,-1!==l&&(h=t),t=e;break e;default:h=t,-1===l&&(t=e-1);break e}}else if("\r"===i)u=!1,d=!0,c=!0,-1!==l&&-1===h&&(h=t),t+=2;else if("\n"===i)u=!1,d=!0,c=!0,-1!==l&&-1===h&&(h=t),t++;else{if(g&&-1!==h&&(e.push(new o.Argument(m,r.Range.create(this.document.positionAt(s+l),this.document.positionAt(s+h)))),m="",l=-1),h=-1,g=!1,d=!1,"$"===i)m=m+n+i;else{if(""===i)break;m+=i}-1===l&&(l=t),t++}}else u||(c&&"#"===n?u=!0:(g&&-1!==h&&(e.push(new o.Argument(m,r.Range.create(this.document.positionAt(s+l),this.document.positionAt(s+h)))),m="",l=-1),g=!1,d=!1,h=-1,m+=n,-1===l&&(l=t)),c=!1)}return-1!==l&&(-1===h?e.push(new o.Argument(m,r.Range.create(this.document.positionAt(s+l),this.document.positionAt(s+a.length)))):e.push(new o.Argument(m,r.Range.create(this.document.positionAt(s+l),this.document.positionAt(s+h))))),e}getExpandedArguments(){let e=this.getArguments();for(let t=0;t<e.length;t++){const n=e[t].getRange();let r=this.document.offsetAt(n.start);const i=this.parseVariables(r,e[t].getValue()),a=[];let s=!1;for(let e of i){const t=this.dockerfile.resolveVariable(e.getName(),e.getNameRange().start.line);a.push(t),s=s||void 0!==t}if(s){let s="";for(let e=0;e<a.length;e++){const t=i[e].getRange(),n=this.document.offsetAt(t.start),o=this.document.offsetAt(t.end);a[e]?(s+=this.document.getText().substring(r,n),s+=a[e],r=o):(s+=this.document.getText().substring(r,o),r=o)}const c=this.document.offsetAt(n.end);c!==r&&(s+=this.document.getText().substring(r,c)),e[t]=new o.Argument(s,n)}}return e}getVariables(){const e=[],t=this.getRawArguments();for(const n of t){let t=n.getRange(),r=this.document.getText().substring(this.document.offsetAt(t.start),this.document.offsetAt(t.end));const i=this.parseVariables(this.document.offsetAt(n.getRange().start),r);for(const t of i)e.push(t)}return e}parseVariables(e,t){let n=[];e:for(let a=0;a<t.length;a++)switch(t.charAt(a)){case this.escapeChar:"$"===t.charAt(a+1)&&a++;break;case"$":if("{"===t.charAt(a+1)){let i="${",o="",c=-1,u="",l=-1,g=-1,d=-1;t:for(let h=a+2;h<t.length;h++){let m=t.charAt(h);switch(m){case this.escapeChar:for(let e=h+1;e<t.length;e++)switch(t.charAt(e)){case" ":case"\t":case"\r":continue;case"\n":h=e;continue t}break;case"}":i+="}";let f=null,p=null,_=-1!==d?u:null,R=null;-1===c?c=h:c+1===h?(f="",p=r.Range.create(this.document.positionAt(e+c+1),this.document.positionAt(e+c+1))):(-1===l?(l=d+1,g=d+1):g+=1,f=t.substring(d,d+1),p=r.Range.create(this.document.positionAt(e+d),this.document.positionAt(e+d+1)),R=r.Range.create(this.document.positionAt(e+l),this.document.positionAt(e+g)));let v=this.document.positionAt(e+a);n.push(new s.Variable(o,r.Range.create(this.document.positionAt(e+a+2),this.document.positionAt(e+c)),r.Range.create(v,this.document.positionAt(e+h+1)),f,p,_,R,void 0!==this.dockerfile.resolveVariable(o,v.line),this.isBuildVariable(o,v.line),i)),a=h;continue e;case":":-1===c?c=h:-1!==d?(-1===l?(l=h,g=h):g=h,u+=":"):d=h,i+=":";break;case"\n":case"\r":case" ":case"\t":break;default:-1===c?o+=m:-1!==d?(-1===l?(l=h,g=h):g=h,u+=m):d=h,i+=m}}break e}if(i.Util.isWhitespace(t.charAt(a+1))||a===t.length-1)continue;{let i="";t:for(let o=a+1;o<t.length;o++){let c=t.charAt(o);switch(c){case"\r":case"\n":case" ":case"\t":continue;case"$":case"'":case'"':let c=this.document.positionAt(e+a);n.push(new s.Variable(i,r.Range.create(this.document.positionAt(e+a+1),this.document.positionAt(e+o)),r.Range.create(c,this.document.positionAt(e+o)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(i,c.line),this.isBuildVariable(i,c.line),"$"+i)),a=o-1;continue e;case this.escapeChar:for(let e=o+1;e<t.length;e++)switch(t.charAt(e)){case" ":case"\t":case"\r":continue;case"\n":o=e;continue t}let u=this.document.positionAt(e+a);n.push(new s.Variable(i,r.Range.create(this.document.positionAt(e+a+1),this.document.positionAt(e+o)),r.Range.create(u,this.document.positionAt(e+o)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(i,u.line),this.isBuildVariable(i,u.line),"$"+i));break e}if(null===c.match(/^[a-z0-9_]+$/i)){let t=this.document.positionAt(e+a);n.push(new s.Variable(i,r.Range.create(this.document.positionAt(e+a+1),this.document.positionAt(e+o)),r.Range.create(t,this.document.positionAt(e+o)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(i,t.line),this.isBuildVariable(i,t.line),"$"+i)),a=o-1;continue e}i+=c}let o=this.document.positionAt(e+a);n.push(new s.Variable(i,r.Range.create(this.document.positionAt(e+a+1),this.document.positionAt(e+t.length)),r.Range.create(o,this.document.positionAt(e+t.length)),null,null,null,null,void 0!==this.dockerfile.resolveVariable(i,o.line),this.isBuildVariable(i,o.line),"$"+i))}break e}return n}isBuildVariable(e,t){if(this.getKeyword()===c.Keyword.FROM){for(const t of this.dockerfile.getInitialARGs()){const n=t.getProperty();if(n&&e===n.getName())return!0}return}let n=this.dockerfile.getContainingImage(r.Position.create(t,0)),i=n.getENVs();for(let n=i.length-1;n>=0;n--)if(i[n].isBefore(t))for(let t of i[n].getProperties())if(t.getName()===e)return!1;let a=n.getARGs();for(let n=a.length-1;n>=0;n--)if(a[n].isBefore(t)){let t=a[n].getProperty();if(t&&t.getName()===e)return!0}}}t.Instruction=Instruction},123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(237),a=n(882),o=n(314);class JSONInstruction extends o.ModifiableInstruction{constructor(e,t,n,o,s,c){super(e,t,n,o,s,c),this.openingBracket=null,this.closingBracket=null,this.jsonStrings=[];const u=this.getRawArgumentsContent();if(null===u)return;const l=this.getArguments();if(1===l.length&&"[]"===l[0].getValue()){let e=l[0].getRange();return this.openingBracket=new i.Argument("[",r.Range.create(e.start.line,e.start.character,e.start.line,e.start.character+1)),void(this.closingBracket=new i.Argument("]",r.Range.create(e.start.line,e.start.character+1,e.end.line,e.end.character)))}if(2===l.length&&"["===l[0].getValue()&&"]"===l[1].getValue())return this.openingBracket=l[0],void(this.closingBracket=l[1]);const g=e.offsetAt(this.getArgumentsRange().start);let d=-1,h="",m=!1,f="";e:for(let t=0;t<u.length;t++){let n=u.charAt(t);switch(n){case"[":if(""===h)this.openingBracket=new i.Argument("[",r.Range.create(e.positionAt(g+t),e.positionAt(g+t+1))),h="[";else{if(!m)break e;f+=n}break;case'"':if("["===h||","===h){d=t,m=!0,h='"',f+=n;continue}if('"'!==h)break e;if(!m)break e;f+=n,m=!1,this.jsonStrings.push(new a.JSONArgument(f,r.Range.create(e.positionAt(g+d),e.positionAt(g+t+1)),r.Range.create(e.positionAt(g+d+1),e.positionAt(g+t)))),f="";break;case",":if(m)f+=n;else{if('"'!==h)break e;h=","}break;case"]":if(m)f+=n;else if(""!==h){this.closingBracket=new i.Argument("]",r.Range.create(e.positionAt(g+t),e.positionAt(g+t+1)));break e}break;case" ":case"\t":break;case"\\":if(m)switch(u.charAt(t+1)){case'"':case"\\":f+=u.charAt(t+1),t++;continue;case" ":case"\t":t:for(let e=t+2;e<u.length;e++)switch(u.charAt(e)){case"\r":e++;case"\n":t=e;continue e;case" ":case"\t":break;default:break t}break;case"\r":t++;default:t++;continue}else t:for(let e=t+1;e<u.length;e++)switch(u.charAt(e)){case"\r":e++;case"\n":t=e;continue e;case" ":case"\t":break;default:break t}break e;default:if(!m)break e;f+=n}}}stopSearchingForFlags(e){return!0}getOpeningBracket(){return this.openingBracket}getJSONStrings(){return this.jsonStrings}getClosingBracket(){return this.closingBracket}}t.JSONInstruction=JSONInstruction},13:function(e,t){e.exports=require("crypto")},14:function(e,t){e.exports=require("os")},149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class Util{static isWhitespace(e){return" "===e||"\t"===e||Util.isNewline(e)}static isNewline(e){return"\r"===e||"\n"===e}static findLeadingNonWhitespace(e,t){e:for(let n=0;n<e.length;n++)switch(e.charAt(n)){case" ":case"\t":continue;case t:t:for(let t=n+1;t<e.length;t++)switch(e.charAt(t)){case" ":case"\t":continue;case"\r":n=t+1;continue e;case"\n":n=t;continue e;default:break t}return-1;default:return n}return-1}static isInsideRange(e,t){return t.start.line===t.end.line?t.start.line===e.line&&t.start.character<=e.character&&e.character<=t.end.character:t.start.line===e.line?t.start.character<=e.character:t.end.line===e.line?e.character<=t.end.character:t.start.line<e.line&&e.line<t.end.line}}t.Util=Util},150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.KEYWORDS=void 0,t.KEYWORDS=["ADD","ARG","CMD","COPY","ENTRYPOINT","ENV","EXPOSE","FROM","HEALTHCHECK","LABEL","MAINTAINER","ONBUILD","RUN","SHELL","STOPSIGNAL","USER","VOLUME","WORKDIR"];var r=function(){function Util(){}return Util.isWhitespace=function(e){return" "===e||"\t"===e||Util.isNewline(e)},Util.isNewline=function(e){return"\r"===e||"\n"===e},Util.isInsideRange=function(e,t){return null!==t&&(t.start.line===t.end.line?t.start.line===e.line&&t.start.character<=e.character&&e.character<=t.end.character:t.start.line===e.line?t.start.character<=e.character:t.end.line===e.line?e.character<=t.end.character:t.start.line<e.line&&e.line<t.end.line)},Util.rangeEquals=function(e,t){return Util.positionEquals(e.start,t.start)&&Util.positionEquals(e.end,t.end)},Util.positionEquals=function(e,t){return e.line==t.line&&e.character===t.character},Util.positionBefore=function(e,t){return e.line<t.line||!(e.line>t.line)&&e.character<t.character},Util}();t.Util=r},19:function(e,t){e.exports=require("url")},1912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(1913),a=n(881),o=n(312),s=n(895);let c=null,u=new Map,l=i.createConnection(i.ProposedFeatures.all),g=s.DockerfileLanguageServiceFactory.createLanguageService();g.setLogger({log(e){l.console.log(e)}});let d=!1,h=!1,m=!1,f=!1,p={};function getDocument(e){return p[e]?Promise.resolve(p[e]):new Promise((t,n)=>{let o=a.uriToFilePath(e);void 0===o?t(null):r.exists(o,n=>{n?r.readFile(o,(n,r)=>{t(i.TextDocument.create(e,"dockerfile",1,r.toString()))}):t(null)})})}function supportsDeprecatedItems(e){return e.textDocument&&e.textDocument.completion&&e.textDocument.completion.completionItem&&e.textDocument.completion.completionItem.deprecatedSupport}function supportsSnippets(e){return e.textDocument&&e.textDocument.completion&&e.textDocument.completion.completionItem&&e.textDocument.completion.completionItem.snippetSupport}function getCompletionItemDocumentationFormat(e){return e.textDocument&&e.textDocument.completion&&e.textDocument.completion.completionItem&&e.textDocument.completion.completionItem.documentationFormat}function getHoverContentFormat(e){return e.textDocument&&e.textDocument.hover&&e.textDocument.hover.contentFormat}function getLineFoldingOnly(e){return e.textDocument&&e.textDocument.foldingRange&&e.textDocument.foldingRange.lineFoldingOnly}function getRangeLimit(e){let t=e.textDocument&&e.textDocument.foldingRange&&e.textDocument.foldingRange.rangeLimit;return null==t||"boolean"==typeof t||isNaN(t)?t=Number.MAX_VALUE:"number"!=typeof t&&(t=Number(t)),t}function convertValidatorConfiguration(e){let t=o.ValidationSeverity.WARNING,n=o.ValidationSeverity.WARNING,r=o.ValidationSeverity.WARNING,i=o.ValidationSeverity.WARNING,a=o.ValidationSeverity.WARNING,s=o.ValidationSeverity.WARNING,c=o.ValidationSeverity.WARNING,u=o.ValidationSeverity.WARNING,l=o.ValidationSeverity.WARNING;return e&&(t=getSeverity(e.deprecatedMaintainer),n=getSeverity(e.directiveCasing),r=getSeverity(e.emptyContinuationLine),i=getSeverity(e.instructionCasing),a=getSeverity(e.instructionCmdMultiple),s=getSeverity(e.instructionEntrypointMultiple),c=getSeverity(e.instructionHealthcheckMultiple),u=getSeverity(e.instructionJSONInSingleQuotes),l=getSeverity(e.instructionWorkdirRelative)),{deprecatedMaintainer:t,directiveCasing:n,emptyContinuationLine:r,instructionCasing:i,instructionCmdMultiple:a,instructionEntrypointMultiple:s,instructionHealthcheckMultiple:c,instructionJSONInSingleQuotes:u,instructionWorkdirRelative:l}}function validateTextDocument(e){if(h)(function getConfiguration(e){let t=u.get(e);t||(t=l.workspace.getConfiguration({section:"docker.languageserver.diagnostics",scopeUri:e}),u.set(e,t));return t})(e.uri).then(t=>{const n=convertValidatorConfiguration(t),r=g.validate(e.getText(),n);l.sendDiagnostics({uri:e.uri,diagnostics:r})});else{const t=g.validate(e.getText(),c);l.sendDiagnostics({uri:e.uri,diagnostics:t})}}function getSeverity(e){switch(e){case"ignore":return o.ValidationSeverity.IGNORE;case"warning":return o.ValidationSeverity.WARNING;case"error":return o.ValidationSeverity.ERROR}return null}function refreshConfigurations(){const e=[];for(let t in p)e.push({section:"docker.languageserver.diagnostics",scopeUri:t});u.clear(),l.workspace.getConfiguration(e).then(t=>{const n=[];for(let r=0;r<t.length;r++){const i=e[r].scopeUri;t[r]&&!u.has(i)&&(u.set(i,Promise.resolve(t[r])),n.push(i))}for(const e of n)validateTextDocument(p[e])})}function computeWorkspaceEdit(e,t,n,r){let a=g.computeCommandEdits(t.getText(),n,r);if(a){if(m){let n=i.VersionedTextDocumentIdentifier.create(e,t.version);return{documentChanges:[i.TextDocumentEdit.create(n,a)]}}return{changes:{[e]:a}}}return null}l.onInitialized(()=>{h&&l.client.register(i.DidChangeConfigurationNotification.type)}),l.onInitialize(e=>{!function setServiceCapabilities(e){g.setCapabilities({completion:{completionItem:{deprecatedSupport:supportsDeprecatedItems(e),documentationFormat:getCompletionItemDocumentationFormat(e),snippetSupport:supportsSnippets(e)}},hover:{contentFormat:getHoverContentFormat(e)},foldingRange:{lineFoldingOnly:getLineFoldingOnly(e),rangeLimit:getRangeLimit(e)}})}(e.capabilities),d=e.capabilities.workspace&&!0===e.capabilities.workspace.applyEdit,m=e.capabilities.workspace&&e.capabilities.workspace.workspaceEdit&&!0===e.capabilities.workspace.workspaceEdit.documentChanges,h=e.capabilities.workspace&&!0===e.capabilities.workspace.configuration;const t=e.capabilities.textDocument&&e.capabilities.textDocument.rename&&!0===e.capabilities.textDocument.rename.prepareSupport,n=e.capabilities.textDocument&&e.capabilities.textDocument.semanticTokens;return f=function supportsCodeActionQuickFixes(e){let t=e.textDocument&&e.textDocument.codeAction&&e.textDocument.codeAction.codeActionLiteralSupport&&e.textDocument.codeAction.codeActionLiteralSupport.codeActionKind&&e.textDocument.codeAction.codeActionLiteralSupport.codeActionKind.valueSet;if(null==t)return!1;for(let e of t)if(e===i.CodeActionKind.QuickFix)return!0;return!1}(e.capabilities),{capabilities:{textDocumentSync:i.TextDocumentSyncKind.Incremental,codeActionProvider:d,completionProvider:{resolveProvider:!0,triggerCharacters:["="," ","$","-"]},executeCommandProvider:d?{commands:[s.CommandIds.LOWERCASE,s.CommandIds.UPPERCASE,s.CommandIds.EXTRA_ARGUMENT,s.CommandIds.DIRECTIVE_TO_BACKSLASH,s.CommandIds.DIRECTIVE_TO_BACKTICK,s.CommandIds.FLAG_TO_CHOWN,s.CommandIds.FLAG_TO_COPY_FROM,s.CommandIds.FLAG_TO_HEALTHCHECK_INTERVAL,s.CommandIds.FLAG_TO_HEALTHCHECK_RETRIES,s.CommandIds.FLAG_TO_HEALTHCHECK_START_PERIOD,s.CommandIds.FLAG_TO_HEALTHCHECK_TIMEOUT,s.CommandIds.CONVERT_TO_AS,s.CommandIds.REMOVE_EMPTY_CONTINUATION_LINE]}:void 0,documentFormattingProvider:!0,documentRangeFormattingProvider:!0,documentOnTypeFormattingProvider:{firstTriggerCharacter:"\\",moreTriggerCharacter:["`"]},hoverProvider:!0,documentSymbolProvider:!0,documentHighlightProvider:!0,renameProvider:!t||{prepareProvider:!0},definitionProvider:!0,signatureHelpProvider:{triggerCharacters:["-","[",","," ","="]},documentLinkProvider:{resolveProvider:!0},semanticTokensProvider:n?{full:{delta:!1},legend:{tokenTypes:[i.SemanticTokenTypes.keyword,i.SemanticTokenTypes.comment,i.SemanticTokenTypes.parameter,i.SemanticTokenTypes.property,i.SemanticTokenTypes.namespace,i.SemanticTokenTypes.class,i.SemanticTokenTypes.macro,i.SemanticTokenTypes.string,i.SemanticTokenTypes.variable,i.SemanticTokenTypes.operator],tokenModifiers:[i.SemanticTokenModifiers.declaration,i.SemanticTokenModifiers.definition,i.SemanticTokenModifiers.deprecated]}}:void 0,foldingRangeProvider:!0}}}),l.onNotification(i.DidChangeConfigurationNotification.type,()=>{refreshConfigurations()}),l.onDidChangeConfiguration(e=>{if(h)refreshConfigurations();else{let t=e.settings;c=t.docker&&t.docker.languageserver&&t.docker.languageserver.diagnostics?convertValidatorConfiguration(t.docker.languageserver.diagnostics):convertValidatorConfiguration(null),Object.keys(p).forEach(e=>{validateTextDocument(p[e])})}}),l.onCompletion(e=>getDocument(e.textDocument.uri).then(t=>t?g.computeCompletionItems(t.getText(),e.position):null)),l.onSignatureHelp(e=>getDocument(e.textDocument.uri).then(t=>null!==t?g.computeSignatureHelp(t.getText(),e.position):{signatures:[],activeSignature:null,activeParameter:null})),l.onCompletionResolve(e=>g.resolveCompletionItem(e)),l.onHover(e=>getDocument(e.textDocument.uri).then(t=>t?g.computeHover(t.getText(),e.position):null)),l.onDocumentHighlight(e=>getDocument(e.textDocument.uri).then(t=>t?g.computeHighlightRanges(t.getText(),e.position):[])),l.onCodeAction(e=>{if(d&&e.context.diagnostics.length>0){let t=g.computeCodeActions(e.textDocument,e.range,e.context);return f?getDocument(e.textDocument.uri).then(n=>{let r=[];for(let a of t){let t={title:a.title,kind:i.CodeActionKind.QuickFix},o=computeWorkspaceEdit(e.textDocument.uri,n,a.command,a.arguments);o&&(t.edit=o),r.push(t)}return r}):t}return[]}),l.onExecuteCommand(e=>{if(d){let t=e.arguments[0];getDocument(t).then(n=>{if(n){let r=computeWorkspaceEdit(t,n,e.command,e.arguments);r&&l.workspace.applyEdit(r)}return null})}}),l.onDefinition(e=>getDocument(e.textDocument.uri).then(t=>t?g.computeDefinition(e.textDocument,t.getText(),e.position):null)),l.onRenameRequest(e=>getDocument(e.textDocument.uri).then(t=>{if(t){let n=g.computeRename(e.textDocument,t.getText(),e.position,e.newName);return{changes:{[e.textDocument.uri]:n}}}return null})),l.onPrepareRename(e=>getDocument(e.textDocument.uri).then(t=>t?g.prepareRename(t.getText(),e.position):null)),l.onDocumentSymbol(e=>getDocument(e.textDocument.uri).then(t=>t?g.computeSymbols(e.textDocument,t.getText()):[])),l.onDocumentFormatting(e=>getDocument(e.textDocument.uri).then(t=>t?g.format(t.getText(),e.options):[])),l.onDocumentRangeFormatting(e=>getDocument(e.textDocument.uri).then(t=>t?g.formatRange(t.getText(),e.range,e.options):[])),l.onDocumentOnTypeFormatting(e=>getDocument(e.textDocument.uri).then(t=>t?g.formatOnType(t.getText(),e.position,e.ch,e.options):[])),l.onDocumentLinks(e=>getDocument(e.textDocument.uri).then(e=>e?g.computeLinks(e.getText()):[])),l.onDocumentLinkResolve(e=>g.resolveLink(e)),l.onFoldingRanges(e=>getDocument(e.textDocument.uri).then(e=>e?g.computeFoldingRanges(e.getText()):[])),l.onDidOpenTextDocument(e=>{let t=i.TextDocument.create(e.textDocument.uri,e.textDocument.languageId,e.textDocument.version,e.textDocument.text);p[e.textDocument.uri]=t,validateTextDocument(t)}),l.languages.semanticTokens.on(e=>getDocument(e.textDocument.uri).then(e=>e?g.computeSemanticTokens(e.getText()):{data:[]})),l.onDidChangeTextDocument(e=>{let t=p[e.textDocument.uri],n=t.getText(),r=n,a=e.contentChanges;for(let r=0;r<a.length;r++){const o=a[r];if(!o.range&&!o.rangeLength){n=o.text,t=i.TextDocument.create(e.textDocument.uri,t.languageId,e.textDocument.version,n);break}let s=t.offsetAt(o.range.start),c=null;c=o.range.end?t.offsetAt(o.range.end):s+o.rangeLength,n=n.substring(0,s)+o.text+n.substring(c),t=i.TextDocument.create(e.textDocument.uri,t.languageId,e.textDocument.version,n)}p[e.textDocument.uri]=t,r!==n&&validateTextDocument(t)}),l.onDidCloseTextDocument(e=>{u.delete(e.textDocument.uri),l.sendDiagnostics({uri:e.textDocument.uri,diagnostics:[]}),delete p[e.textDocument.uri]}),l.listen()},1913:function(e,t,n){"use strict";e.exports=n(1914)},1914:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=t.Files=void 0;const a=n(503),o=n(878),s=n(881),c=n(205);i(n(205),t),i(n(1923),t),function(e){e.uriToFilePath=s.uriToFilePath,e.resolveGlobalNodePath=s.resolveGlobalNodePath,e.resolveGlobalYarnPath=s.resolveGlobalYarnPath,e.resolve=s.resolve,e.resolveModulePath=s.resolveModulePath}(t.Files||(t.Files={}));let u=!1,l=void 0;!function setupExitTimer(){function runTimer(e){try{let t=parseInt(e);isNaN(t)||(l=setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(u?0:1)}},3e3))}catch(e){}}for(let e=2;e<process.argv.length;e++){let t=process.argv[e];if("--clientProcessId"===t&&e+1<process.argv.length)return void runTimer(process.argv[e+1]);{let e=t.split("=");"--clientProcessId"===e[0]&&runTimer(e[1])}}}();const g={initialize:e=>{const t=e.processId;a.number(t)&&void 0===l&&setInterval(()=>{try{process.kill(t,0)}catch(e){process.exit(u?0:1)}},3e3)},get shutdownReceived(){return u},set shutdownReceived(e){u=e},exit:e=>{process.exit(e)}};t.createConnection=function createConnection(e,t,n,r){let i,s,l,d;return void 0!==e&&"features"===e.__brand&&(i=e,e=t,t=n,n=r),c.ConnectionStrategy.is(e)||c.ConnectionOptions.is(e)?d=e:(s=e,l=t,d=n),function _createConnection(e,t,n,r){if(!e&&!t&&process.argv.length>2){let n=void 0,r=void 0,a=process.argv.slice(2);for(let o=0;o<a.length;o++){let s=a[o];if("--node-ipc"===s){e=new c.IPCMessageReader(process),t=new c.IPCMessageWriter(process);break}if("--stdio"===s){e=process.stdin,t=process.stdout;break}if("--socket"===s){n=parseInt(a[o+1]);break}if("--pipe"===s){r=a[o+1];break}var i=s.split("=");if("--socket"===i[0]){n=parseInt(i[1]);break}if("--pipe"===i[0]){r=i[1];break}}if(n){let r=c.createServerSocketTransport(n);e=r[0],t=r[1]}else if(r){let n=c.createServerPipeTransport(r);e=n[0],t=n[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+s);if(!t)throw new Error("Connection output stream is not set. "+s);if(a.func(e.read)&&a.func(e.on)){let t=e;t.on("end",()=>{process.exit(u?0:1)}),t.on("close",()=>{process.exit(u?0:1)})}return o.createConnection(r=>c.createProtocolConnection(e,t,r,n),g,r)}(s,l,d,i)}},1915:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachPartialResult=t.ProgressFeature=t.attachWorkDone=void 0;const r=n(21),i=n(879);class WorkDoneProgressReporterImpl{constructor(e,t){this._connection=e,this._token=t,WorkDoneProgressReporterImpl.Instances.set(this._token,this)}begin(e,t,n,i){let a={kind:"begin",title:e,percentage:t,message:n,cancellable:i};this._connection.sendProgress(r.WorkDoneProgress.type,this._token,a)}report(e,t){let n={kind:"report"};"number"==typeof e?(n.percentage=e,void 0!==t&&(n.message=t)):n.message=e,this._connection.sendProgress(r.WorkDoneProgress.type,this._token,n)}done(){WorkDoneProgressReporterImpl.Instances.delete(this._token),this._connection.sendProgress(r.WorkDoneProgress.type,this._token,{kind:"end"})}}WorkDoneProgressReporterImpl.Instances=new Map;class WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl{constructor(e,t){super(e,t),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class NullProgressReporter{constructor(){}begin(){}report(){}done(){}}class NullProgressServerReporter extends NullProgressReporter{constructor(){super(),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}t.attachWorkDone=function attachWorkDone(e,t){if(void 0===t||void 0===t.workDoneToken)return new NullProgressReporter;const n=t.workDoneToken;return delete t.workDoneToken,new WorkDoneProgressReporterImpl(e,n)};var a;t.ProgressFeature=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(e){var t;!0===(null===(t=null==e?void 0:e.window)||void 0===t?void 0:t.workDoneProgress)&&(this._progressSupported=!0,this.connection.onNotification(r.WorkDoneProgressCancelNotification.type,e=>{let t=WorkDoneProgressReporterImpl.Instances.get(e.token);(t instanceof WorkDoneProgressServerReporterImpl||t instanceof NullProgressServerReporter)&&t.cancel()}))}attachWorkDoneProgress(e){return void 0===e?new NullProgressReporter:new WorkDoneProgressReporterImpl(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=i.generateUuid();return this.connection.sendRequest(r.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new WorkDoneProgressServerReporterImpl(this.connection,e))}return Promise.resolve(new NullProgressServerReporter)}},function(e){e.type=new r.ProgressType}(a||(a={}));class ResultProgressReporterImpl{constructor(e,t){this._connection=e,this._token=t}report(e){this._connection.sendProgress(a.type,this._token,e)}}t.attachPartialResult=function attachPartialResult(e,t){if(void 0===t||void 0===t.partialResultToken)return;const n=t.partialResultToken;return delete t.partialResultToken,new ResultProgressReporterImpl(e,n)}},1916:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationFeature=void 0;const r=n(21),i=n(503);t.ConfigurationFeature=e=>class extends e{getConfiguration(e){return e?i.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let t={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(r.ConfigurationRequest.type,t).then(t=>Array.isArray(e)?t:t[0])}}},1917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=void 0;const r=n(21);t.WorkspaceFoldersFeature=e=>class extends e{initialize(e){let t=e.workspace;t&&t.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new r.Emitter,this.connection.onNotification(r.DidChangeWorkspaceFoldersNotification.type,e=>{this._onDidChangeWorkspaceFolders.fire(e.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(r.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(r.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}},1918:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const r=n(21);t.CallHierarchyFeature=e=>class extends e{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(r.CallHierarchyPrepareRequest.type,(t,n)=>e(t,n,this.attachWorkDoneProgress(t),void 0))},onIncomingCalls:e=>{const t=r.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))},onOutgoingCalls:e=>{const t=r.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))}}}}},1919:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentFeature=void 0;const r=n(21);t.ShowDocumentFeature=e=>class extends e{showDocument(e){return this.connection.sendRequest(r.ShowDocumentRequest.type,e)}}},1920:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileOperationsFeature=void 0;const r=n(21);t.FileOperationsFeature=e=>class extends e{onDidCreateFiles(e){this.connection.onNotification(r.DidCreateFilesNotification.type,t=>{e(t)})}onDidRenameFiles(e){this.connection.onNotification(r.DidRenameFilesNotification.type,t=>{e(t)})}onDidDeleteFiles(e){this.connection.onNotification(r.DidDeleteFilesNotification.type,t=>{e(t)})}onWillCreateFiles(e){return this.connection.onRequest(r.WillCreateFilesRequest.type,(t,n)=>e(t,n))}onWillRenameFiles(e){return this.connection.onRequest(r.WillRenameFilesRequest.type,(t,n)=>e(t,n))}onWillDeleteFiles(e){return this.connection.onRequest(r.WillDeleteFilesRequest.type,(t,n)=>e(t,n))}}},1921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeFeature=void 0;const r=n(21);t.LinkedEditingRangeFeature=e=>class extends e{onLinkedEditingRange(e){this.connection.onRequest(r.LinkedEditingRangeRequest.type,(t,n)=>e(t,n,this.attachWorkDoneProgress(t),void 0))}}},1922:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerFeature=void 0;const r=n(21);t.MonikerFeature=e=>class extends e{get moniker(){return{on:e=>{const t=r.MonikerRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))}}}}},1923:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.SemanticTokensBuilder=void 0;const a=n(880);Object.defineProperty(t,"SemanticTokensBuilder",{enumerable:!0,get:function(){return a.SemanticTokensBuilder}}),i(n(21),t),i(n(878),t),function(e){e.all={__brand:"features"}}(t.ProposedFeatures||(t.ProposedFeatures={}))},1924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(51);t.DockerFormatter=class DockerFormatter{getIndentation(e){let t="\t";if(e&&e.insertSpaces){t="";for(let n=0;n<e.tabSize;n++)t+=" "}return t}createFormattingEdit(e,t,n,i,a){return i?r.TextEdit.replace({start:e.positionAt(t),end:e.positionAt(n)},a):r.TextEdit.del({start:e.positionAt(t),end:e.positionAt(n)})}formatOnType(e,t,n,r){const a=i.DockerfileParser.parse(e.getText());if(a.getEscapeCharacter()===n){for(let e of a.getComments())if(e.getRange().start.line===t.line)return[];if(a.getDirective()&&0===t.line)return[];const n=e.getText();e:for(let r=e.offsetAt(t);r<n.length;r++)switch(n.charAt(r)){case" ":case"\t":break;case"\r":case"\n":break e;default:return[]}const i=[t.line+1],o=[];return o[i[0]]=!0,this.formatLines(e,e.getText(),i,o,r)}return[]}formatRange(e,t,n){const r=[];for(let e=t.start.line;e<=t.end.line;e++)r.push(e);return this.format(e,r,n)}formatDocument(e,t){const n=[];for(let t=0;t<e.lineCount;t++)n.push(t);return this.format(e,n,t)}format(e,t,n){let r=e.getText(),a=i.DockerfileParser.parse(r);const o=[];for(let t=0;t<e.lineCount;t++)o[t]=!1;for(let e of a.getInstructions()){let t=e.getRange();o[t.start.line]=!1;for(let e=t.start.line+1;e<=t.end.line;e++)o[e]=!0}return this.formatLines(e,r,t,o,n)}formatLines(e,t,n,i,a){const o=this.getIndentation(a),s=[];e:for(let a of n){let n=e.offsetAt(r.Position.create(a,0));for(let c=n;c<t.length;c++)switch(t.charAt(c)){case" ":case"\t":break;case"\r":case"\n":if(c!==n){let t=r.TextEdit.del({start:e.positionAt(n),end:e.positionAt(c)});s.push(t)}continue e;default:if(i[a]){if(e.getText().substring(n,c)!==o){const t=this.createFormattingEdit(e,n,c,i[a],o);s.push(t)}}else if(c!==n){const t=this.createFormattingEdit(e,n,c,i[a],o);s.push(t)}continue e}if(n<t.length){let i=r.TextEdit.del({start:e.positionAt(n),end:e.positionAt(t.length)});s.push(i)}}return s}}},1925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FlagOption=class FlagOption{constructor(e,t,n,r,i){this.range=e,this.name=t,this.nameRange=n,this.value=r,this.valueRange=i}toString(){return null!==this.valueRange?this.name+"="+this.value:this.name}getRange(){return this.range}getName(){return this.name}getNameRange(){return this.nameRange}getValue(){return this.value}getValueRange(){return this.valueRange}}},1926:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123);class Run extends r.JSONInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}stopSearchingForFlags(e){return-1===e.indexOf("--")}}t.Run=Run},1927:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(51),a=n(1928),o=n(316),s=n(149),c=n(51);class Dockerfile extends a.ImageTemplate{constructor(e){super(),this.initialInstructions=new a.ImageTemplate,this.buildStages=[],this.directives=[],this.foundFrom=!1,this.document=e}getEscapeCharacter(){for(const e of this.directives)if(e.getDirective()===i.Directive.escape){const t=e.getValue();if("\\"===t||"`"===t)return t}return"\\"}getInitialARGs(){return this.initialInstructions.getARGs()}getContainingImage(e){let t=r.Range.create(r.Position.create(0,0),this.document.positionAt(this.document.getText().length));if(!s.Util.isInsideRange(e,t))return null;if((this.initialInstructions.getComments().length>0||this.initialInstructions.getInstructions().length>0)&&s.Util.isInsideRange(e,this.initialInstructions.getRange()))return this.initialInstructions;for(const t of this.buildStages)if(s.Util.isInsideRange(e,t.getRange()))return t;return this}addInstruction(e){e.getKeyword()===c.Keyword.FROM?(this.currentBuildStage=new a.ImageTemplate,this.buildStages.push(this.currentBuildStage),this.foundFrom=!0):this.foundFrom||this.initialInstructions.addInstruction(e),this.foundFrom&&this.currentBuildStage.addInstruction(e),super.addInstruction(e)}setDirectives(e){this.directives=e}getDirective(){return 0===this.directives.length?null:this.directives[0]}getDirectives(){return this.directives}resolveVariable(e,t){for(let n of this.getFROMs()){let r=n.getRange();if(r.start.line<=t&&t<=r.end.line){let n=new a.ImageTemplate;for(let e of this.initialInstructions.getARGs())n.addInstruction(e);return n.resolveVariable(e,t)}}let n=this.getContainingImage(r.Position.create(t,0));if(null===n)return;let i=n.resolveVariable(e,t);if(null===i){let n=new a.ImageTemplate;for(let e of this.initialInstructions.getARGs())n.addInstruction(e);return n.resolveVariable(e,t)}return i}getAvailableVariables(e){if(this.getInstructionAt(e)instanceof o.From){let e=[];for(let t of this.getInitialARGs()){let n=t.getProperty();n&&e.push(n.getName())}return e}let t=this.getContainingImage(r.Position.create(e,0));return t?t.getAvailableVariables(e):[]}organizeComments(){const e=this.getComments();for(let t=0;t<e.length;t++)if(s.Util.isInsideRange(e[t].getRange().end,this.initialInstructions.getRange()))this.initialInstructions.addComment(e[t]);else for(const n of this.buildStages)s.Util.isInsideRange(e[t].getRange().start,n.getRange())&&n.addComment(e[t])}getRange(){const e=this.getComments(),t=this.getInstructions();let n=null;if(0===e.length)t.length>0&&(n=r.Range.create(t[0].getRange().start,t[t.length-1].getRange().end));else if(0===t.length)n=r.Range.create(e[0].getRange().start,e[e.length-1].getRange().end);else{const i=e[0].getRange().start,a=e[e.length-1].getRange().end,o=t[0].getRange().start,s=t[t.length-1].getRange().end;i.line<o.line?(a.line<s.line&&(n=r.Range.create(i,s)),n=r.Range.create(i,a)):n=a.line<s.line?r.Range.create(o,s):r.Range.create(o,a)}return null===n?0===this.directives.length?null:this.directives[0].getRange():0===this.directives.length?n:r.Range.create(this.directives[0].getRange().start,n.end)}}t.Dockerfile=Dockerfile},1928:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(504),a=n(506),o=n(507),s=n(508),c=n(509),u=n(316),l=n(510),g=n(511),d=n(149);t.ImageTemplate=class ImageTemplate{constructor(){this.comments=[],this.instructions=[]}addComment(e){this.comments.push(e)}getComments(){return this.comments}addInstruction(e){this.instructions.push(e)}getInstructions(){return this.instructions}getInstructionAt(e){for(let t of this.instructions)if(d.Util.isInsideRange(r.Position.create(e,0),t.getRange()))return t;return null}getARGs(){let e=[];for(let t of this.instructions)t instanceof i.Arg&&e.push(t);return e}getCMDs(){let e=[];for(let t of this.instructions)t instanceof a.Cmd&&e.push(t);return e}getCOPYs(){let e=[];for(let t of this.instructions)t instanceof o.Copy&&e.push(t);return e}getENTRYPOINTs(){let e=[];for(let t of this.instructions)t instanceof c.Entrypoint&&e.push(t);return e}getENVs(){let e=[];for(let t of this.instructions)t instanceof s.Env&&e.push(t);return e}getFROMs(){let e=[];for(let t of this.instructions)t instanceof u.From&&e.push(t);return e}getHEALTHCHECKs(){let e=[];for(let t of this.instructions)t instanceof l.Healthcheck&&e.push(t);return e}getOnbuildTriggers(){let e=[];for(let t of this.instructions)if(t instanceof g.Onbuild){let n=t.getTriggerInstruction();n&&e.push(n)}return e}getAvailableVariables(e){const t=[];for(const n of this.getARGs())if(n.isBefore(e)){const e=n.getProperty();if(e){const n=e.getName();-1===t.indexOf(n)&&t.push(n)}}for(const n of this.getENVs())if(n.isBefore(e))for(const e of n.getProperties()){const n=e.getName();-1===t.indexOf(n)&&t.push(n)}return t}resolveVariable(e,t){let n=this.getENVs();for(let r=n.length-1;r>=0;r--)if(n[r].isBefore(t))for(let t of n[r].getProperties())if(t.getName()===e)return t.getValue();let r=this.getARGs();for(let n=r.length-1;n>=0;n--)if(r[n].isBefore(t)){let t=r[n].getProperty();if(t&&t.getName()===e)return t.getValue()}}getRange(){const e=this.getInstructions();if(0===e.length)return r.Range.create(0,0,0,0);const t=e[0].getRange().start,n=e[e.length-1].getRange().end;return r.Range.create(t,n)}contains(e){const t=this.getRange();return null!==t&&d.Util.isInsideRange(e,t)}}},1929:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(51),a=n(312);t.KEYWORDS=["ADD","ARG","CMD","COPY","ENTRYPOINT","ENV","EXPOSE","FROM","HEALTHCHECK","LABEL","MAINTAINER","ONBUILD","RUN","SHELL","STOPSIGNAL","USER","VOLUME","WORKDIR"];class Validator{constructor(e){this.settings={deprecatedMaintainer:a.ValidationSeverity.WARNING,directiveCasing:a.ValidationSeverity.WARNING,emptyContinuationLine:a.ValidationSeverity.WARNING,instructionCasing:a.ValidationSeverity.WARNING,instructionCmdMultiple:a.ValidationSeverity.WARNING,instructionEntrypointMultiple:a.ValidationSeverity.WARNING,instructionHealthcheckMultiple:a.ValidationSeverity.WARNING,instructionJSONInSingleQuotes:a.ValidationSeverity.WARNING,instructionWorkdirRelative:a.ValidationSeverity.WARNING},e&&(this.settings=e)}checkDirectives(e,t){const n=[];for(const t of e.getDirectives())t.getDirective()===i.Directive.escape&&n.push(t);if(n.length>1)for(const e of n)t.push(Validator.createDuplicatedEscapeDirective(e.getNameRange().start,e.getValueRange().end));else for(const n of e.getDirectives()){if(n.getDirective()===i.Directive.escape){const e=n.getValue();if("\\"!==e&&"`"!==e&&""!==e){const r=n.getValueRange();t.push(Validator.createInvalidEscapeDirective(r.start,r.end,e))}if(n.getName()!==i.Directive.escape){const e=n.getNameRange(),r=this.createLowercaseDirective(e.start,e.end);r&&t.push(r)}}}}checkArguments(e,t,n,r,a){let o=e instanceof i.PropertyInstruction?e.getPropertyArguments():e.getArguments();if(0===o.length){let n=e.getInstructionRange();t.push(Validator.createMissingArgument(n.start,n.end))}else if(-1===n[0])for(let e=0;e<o.length;e++){let n=r(e,o[e].getValue(),o[e].getRange());if(n){let r=o[e].getRange();t.push(n(r.start,r.end,o[e].getValue()))}}else{for(let e=0;e<n.length;e++)if(n[e]===o.length){for(let e=0;e<o.length;e++){let n=o[e].getRange(),i=r(e,o[e].getValue(),n);i instanceof Function?t.push(i(n.start,n.end,o[e].getValue())):null!==i&&t.push(i)}return}let e=o[o.length-1].getRange();a?t.push(a(e.start,e.end)):t.push(Validator.createExtraArgument(e.start,e.end))}}checkVariables(e,t){for(let n of e.getVariables()){let r=n.getModifier();if(null!==r){if(e.getKeyword()===i.Keyword.RUN)continue;""===r?t.push(Validator.createVariableUnsupportedModifier(n.getRange(),n.toString(),r)):"+"!==r&&"-"!==r&&t.push(Validator.createVariableUnsupportedModifier(n.getModifierRange(),n.toString(),r))}}}checkProperty(e,t,n,r,i,a,o){let s=r.getName();if(""===s){let e=r.getRange();o.push(Validator.createSyntaxMissingNames(e.start,e.end,n))}else if(-1!==s.indexOf("=")){let t=r.getNameRange(),n=e.getText(t),i=n.indexOf("=");return void("'"===n.charAt(0)?o.push(Validator.createSyntaxMissingSingleQuote(t.start,e.positionAt(e.offsetAt(t.start)+i),n.substring(0,n.indexOf("=")))):'"'===n.charAt(0)&&o.push(Validator.createSyntaxMissingDoubleQuote(t.start,e.positionAt(e.offsetAt(t.start)+i),n.substring(0,n.indexOf("=")))))}let c=r.getValue();if(null===c){if(!a){let e=r.getNameRange();i?o.push(Validator.createENVRequiresTwoArguments(e.start,e.end)):o.push(Validator.createSyntaxMissingEquals(e.start,e.end,s))}}else if('"'===c.charAt(0)){let e=!1;for(let n=1;n<c.length;n++)switch(c.charAt(n)){case t:n++;break;case'"':n===c.length-1&&(e=!0)}if(!e){let e=r.getValueRange();o.push(Validator.createSyntaxMissingDoubleQuote(e.start,e.end,r.getUnescapedValue()))}}else if("'"===c.charAt(0)&&"'"!==c.charAt(c.length-1)){let e=r.getValueRange();o.push(Validator.createSyntaxMissingSingleQuote(e.start,e.end,c))}}validate(e){this.document=e;let t=[],n=i.DockerfileParser.parse(e.getText());this.checkDirectives(n,t);let r=n.getInstructions();0!==r.length&&n.getARGs().length!==r.length||t.push(Validator.createNoSourceImage(e.positionAt(0),e.positionAt(0)));let a=[],o=[],s=[],c=[];for(let e of r)e instanceof i.Cmd?a.push(e):e instanceof i.Entrypoint?o.push(e):e instanceof i.Healthcheck?s.push(e):e instanceof i.From&&(a.length>1&&(c=c.concat(a)),o.length>1&&(c=c.concat(o)),s.length>1&&(c=c.concat(s)),a=[],o=[],s=[]);a.length>1&&(c=c.concat(a)),o.length>1&&(c=c.concat(o)),s.length>1&&(c=c.concat(s));for(let e of c)if(e instanceof i.Cmd){let n=this.createMultipleInstructions(e.getInstructionRange(),this.settings.instructionCmdMultiple,"CMD");n&&t.push(n)}else if(e instanceof i.Entrypoint){let n=this.createMultipleInstructions(e.getInstructionRange(),this.settings.instructionEntrypointMultiple,"ENTRYPOINT");n&&t.push(n)}else{let n=this.createMultipleInstructions(e.getInstructionRange(),this.settings.instructionHealthcheckMultiple,"HEALTHCHECK");n&&t.push(n)}const u={},l=n.getFROMs();for(let e of l){let t=e.getBuildStage();t&&(t=t.toLowerCase(),u[t]||(u[t]=[]),u[t].push(e.getBuildStageRange()))}for(let e in u)if(u[e].length>1)for(let n of u[e])t.push(Validator.createDuplicateBuildStageName(n,e));let g=n.getEscapeCharacter(),d=!1;for(let r of n.getInstructions()){let n=r.getKeyword();if("FROM"===n)d=!0;else if(!d&&"ARG"!==n){let e=r.getInstructionRange();t.push(Validator.createNoSourceImage(e.start,e.end)),d=!0}this.validateInstruction(e,g,r,n,!1,t),this.checkVariables(r,t)}for(let r of n.getOnbuildTriggers())this.validateInstruction(e,g,r,r.getKeyword(),!0,t);return t}validateInstruction(e,n,i,a,o,s){if(-1===t.KEYWORDS.indexOf(a)){let e=i.getInstructionRange();s.push(Validator.createUnknownInstruction(e.start,e.end,a))}else{if(a!==i.getInstruction()){let e=i.getInstructionRange(),t=this.createUppercaseInstruction(e.start,e.end);t&&s.push(t)}if("MAINTAINER"===a){let e=i.getInstructionRange(),t=this.createMaintainerDeprecated(e.start,e.end);t&&s.push(t)}const t=i.getRange();if(t.start.line!==t.end.line&&!o){const n=e.getText(),i=t.end.line;let a=-1;for(let o=t.start.line;o<=i;o++){if(0===n.substring(e.offsetAt(r.Position.create(o,0)),e.offsetAt(r.Position.create(o+1,0))).trim().length){if(-1===a){a=o;continue}}else if(-1!==a){const e=Validator.createEmptyContinuationLine(r.Position.create(a,0),r.Position.create(o,0),this.settings.emptyContinuationLine);e&&s.push(e),a=-1}}if(-1!==a){const e=Validator.createEmptyContinuationLine(r.Position.create(a,0),r.Position.create(i+1,0),this.settings.emptyContinuationLine);e&&s.push(e),a=-1}}switch(a){case"CMD":this.checkJSONQuotes(i,s);break;case"ENTRYPOINT":case"RUN":case"VOLUME":this.checkArguments(i,s,[-1],(function(){return null})),this.checkJSONQuotes(i,s);break;case"ARG":this.checkArguments(i,s,[-1],(function(e){return e>0?Validator.createARGRequiresOneArgument:null}),Validator.createARGRequiresOneArgument);let t=i.getProperty();t&&this.checkProperty(e,n,a,t,!0,!0,s);break;case"ENV":case"LABEL":this.checkArguments(i,s,[-1],(function(){return null}));let r=i.getProperties();if(1===r.length)this.checkProperty(e,n,a,r[0],!0,!1,s);else if(0!==r.length)for(let t of r)this.checkProperty(e,n,a,t,!1,!1,s);break;case"FROM":const o=i.getFlags();for(const e of o){const t=e.getName();if("platform"!==t){const n=e.getRange();s.push(Validator.createUnknownFromFlag(n.start,""===t?n.end:e.getNameRange().end,e.getName()))}}this.checkFlagValue(o,["platform"],s),this.checkArguments(i,s,[1,3],(function(t,n,r){switch(t){case 0:let t=i.getVariables();if(t.length>0){let e=t[0].getRange();return e.start.line!==r.start.line||e.start.character!==r.start.character||e.end.line!==r.end.line||e.end.character!==r.end.character||t[0].isDefined()?null:Validator.createBaseNameEmpty(e,t[0].toString())}let a=i,o=a.getImageDigestRange();if(null===o){let t=a.getImageTagRange();if(null===t)return null;let n=e.getText(t);return""===n?Validator.createInvalidReferenceFormat(r):new RegExp(/^[\w][\w.-]{0,127}$/).test(n)?null:Validator.createInvalidReferenceFormat(a.getImageTagRange())}let s=e.getText(o),c=s.indexOf(":");if(-1===c)return""===s?Validator.createInvalidReferenceFormat(r):Validator.createInvalidReferenceFormat(a.getImageDigestRange());let u=new RegExp(/[A-Fa-f0-9_+.-]+/),l=s.substring(0,c);if(!u.test(l))return Validator.createInvalidReferenceFormat(a.getImageDigestRange());let g=s.substring(c+1);return new RegExp(/[A-Fa-f0-9]+/).test(g)?null:Validator.createInvalidReferenceFormat(a.getImageDigestRange());case 1:return"AS"===n.toUpperCase()?null:Validator.createInvalidAs;case 2:return n=n.toLowerCase(),new RegExp(/^[a-z]([a-z0-9_\-.]*)*$/).test(n)?null:Validator.createInvalidBuildStageName(r,n);default:return null}}),Validator.createRequiresOneOrThreeArguments);break;case"HEALTHCHECK":let c=i.getArguments();const u=i.getFlags();if(0===c.length)s.push(Validator.createHEALTHCHECKRequiresAtLeastOneArgument(i.getInstructionRange()));else{const e=c[0].getValue().toUpperCase();if("NONE"===e){if(c.length>1){const e=c[1].getRange().start,t=c[c.length-1].getRange().end;s.push(Validator.createHealthcheckNoneUnnecessaryArgument(e,t))}break}if("CMD"===e){if(1===c.length){const e=c[0].getRange();s.push(Validator.createHealthcheckCmdArgumentMissing(e.start,e.end))}}else s.push(Validator.createHealthcheckTypeUnknown(c[0].getRange(),e))}const l=["interval","retries","start-period","timeout"];for(const e of u){const t=e.getName();if(-1===l.indexOf(t)){const n=e.getRange();s.push(Validator.createUnknownHealthcheckFlag(n.start,""===t?n.end:e.getNameRange().end,e.getName()))}else if("retries"===t){const t=e.getValue();if(t){const n=e.getValueRange(),r=parseInt(t);isNaN(r)||-1!==t.indexOf(".")?s.push(Validator.createInvalidSyntax(n.start,n.end,t)):r<1&&s.push(Validator.createFlagAtLeastOne(n.start,n.end,"--retries",r.toString()))}}}this.checkFlagValue(u,l,s),this.checkFlagDuration(u,["interval","start-period","timeout"],s),this.checkDuplicateFlags(u,l,s);break;case"ONBUILD":this.checkArguments(i,s,[-1],(function(){return null}));let g=i,d=g.getTrigger();switch(d){case"FROM":case"MAINTAINER":s.push(Validator.createOnbuildTriggerDisallowed(g.getTriggerRange(),d));break;case"ONBUILD":s.push(Validator.createOnbuildChainingDisallowed(g.getTriggerRange()))}break;case"SHELL":this.checkArguments(i,s,[-1],(function(){return null})),this.checkJSON(e,i,s);break;case"STOPSIGNAL":this.checkArguments(i,s,[1],(function(e,t){if(0===t.indexOf("SIG")||-1!=t.indexOf("$"))return null;for(var n=0;n<t.length;n++)if("0">t.charAt(n)||"9"<t.charAt(n))return Validator.createInvalidStopSignal;return null}));let h=i.getExpandedArguments();if(1===h.length){let e=h[0].getValue(),t=i.getVariables();if(0===t.length){if(-1!==e.indexOf("$")){let t=h[0].getRange();s.push(Validator.createInvalidStopSignal(t.start,t.end,e))}}else for(let n of t){let t=n.getRange(),r=this.document.getText().substring(this.document.offsetAt(t.start),this.document.offsetAt(t.end));if(e.includes(r)&&!n.isBuildVariable()&&!n.isDefined()){let e=h[0].getRange();s.push(Validator.createInvalidStopSignal(e.start,e.end,""));break}}}break;case"EXPOSE":i.getArguments();let m=i.getExpandedArguments();if(0===m.length){let e=i.getInstructionRange();s.push(Validator.createMissingArgument(e.start,e.end))}else{const e=/^([0-9])+(-[0-9]+)?(:([0-9])+(-[0-9]*)?)?(\/(\w*))?(\/\w*)*$/;e:for(let t=0;t<m.length;t++){let n=m[t].getValue();'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1));const r=e.exec(n);if(r){if(r[7]){const e=r[7].toLowerCase();if(""!==e&&"tcp"!==e&&"udp"!==e&&"sctp"!==e){const n=m[t].getRange(),i=this.document.offsetAt(n.start),a=this.document.getText().substring(i,this.document.offsetAt(n.end)),o=i+a.indexOf(r[7].substring(0,1)),c=1===e.length?i+o+1:i+a.length;s.push(Validator.createInvalidProto(this.document.positionAt(o),this.document.positionAt(c),r[7]))}}}else{if("$"===n.charAt(0))continue e;s.push(Validator.createInvalidPort(m[t].getRange(),n))}}}break;case"ADD":const f=i,p=f.getFlags();for(let e of p){const t=e.getName(),n=e.getRange();if(""===t)s.push(Validator.createUnknownAddFlag(n.start,n.end,t));else if("chmod"!==t&&"chown"!==t){let r=e.getNameRange();s.push(Validator.createUnknownAddFlag(n.start,r.end,t))}}const _=this.checkDestinationIsDirectory(f,Validator.createADDRequiresAtLeastTwoArguments,Validator.createADDDestinationNotDirectory);null!==_&&s.push(_),this.checkFlagValue(p,["chmod","chown"],s),this.checkDuplicateFlags(p,["chmod","chown"],s),this.checkJSONQuotes(i,s);break;case"COPY":let R=i,v=R.getFlags();if(v.length>0){for(let e of v){const t=e.getName(),n=e.getRange();if(""===t)s.push(Validator.createUnknownCopyFlag(n.start,n.end,t));else if("chmod"!==t&&"chown"!==t&&"from"!==t){let r=e.getNameRange();s.push(Validator.createUnknownCopyFlag(n.start,r.end,t))}}let e=R.getFromFlag();if(e){let t=e.getValue();if(null!==t){if(!new RegExp(/^[a-zA-Z0-9].*$/).test(t)){let n=""===t?e.getRange():e.getValueRange();s.push(Validator.createFlagInvalidFrom(n.start,n.end,t))}}}}const S=this.checkDestinationIsDirectory(R,Validator.createCOPYRequiresAtLeastTwoArguments,Validator.createCOPYDestinationNotDirectory);null!==S&&s.push(S),this.checkFlagValue(v,["chmod","chown","from"],s),this.checkDuplicateFlags(v,["chmod","chown","from"],s),this.checkJSONQuotes(i,s);break;case"WORKDIR":this.checkArguments(i,s,[-1],(function(){return null}));let k=i.getArgumentsContent();if(k){const e=k.substring(0,1),t=k.substring(k.length-1);("'"===e&&"'"===t||'"'===e&&'"'===t)&&(k=k.substring(1,k.length-1));let n=new RegExp(/^(\$|([a-zA-Z](\$|:(\$|\\|\/)))).*$/);if(!k.startsWith("/")&&!n.test(k)){let e=this.createWORKDIRNotAbsolute(i.getArgumentsRange());e&&s.push(e)}}break;default:this.checkArguments(i,s,[-1],(function(){return null}))}}}checkDestinationIsDirectory(e,t,n){if(e.getClosingBracket())return this.checkJsonDestinationIsDirectory(e,t,n);const r=e.getArguments();if(1===r.length)return t(r[0].getRange());if(0===r.length)return t(e.getInstructionRange());if(r.length>2){const t=r[r.length-1],i=e.getVariables();if(0!==i.length){const e=this.document.offsetAt(t.getRange().end),n=this.document.offsetAt(i[i.length-1].getRange().end);if(e===n||e-1===n)return null}const a=t.getValue(),o=a.charAt(a.length-1);if("\\"!==o&&"/"!==o)return n(t.getRange())}return null}checkJsonDestinationIsDirectory(e,t,n){const r=e.getJSONStrings();if(0===r.length)return t(e.getArgumentsRange());if(1===r.length)return t(r[0].getJSONRange());if(r.length>2){const t=r[r.length-1],i=e.getVariables();if(0!==i.length){const e=i[i.length-1],n=this.document.offsetAt(t.getRange().end),r=this.document.offsetAt(e.getRange().end);if(n===r||n-1===r)return null}const a=t.getValue(),o=a.charAt(a.length-2);if("\\"!==o&&"/"!==o)return n(r[r.length-1].getJSONRange())}return null}checkFlagValue(e,t,n){for(let r of e){let e=r.getName();if(null===r.getValue()&&-1!==t.indexOf(e)){let t=r.getNameRange();n.push(Validator.createFlagMissingValue(t.start,t.end,e))}}}checkFlagDuration(e,t,n){e:for(let r of e){let e=r.getName();if(-1!==t.indexOf(e)){let t=r.getValue();if(null!==t&&0!==t.length){switch(t.charAt(0)){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case".":case"-":break;default:let e=r.getValueRange();n.push(Validator.createFlagInvalidDuration(e.start,e.end,t));continue e}let i=!1,a=0,o=0,s=!1,c=!1,u=0;t:for(let l=0;l<t.length;l++)switch(i=!1,t.charAt(l)){case"-":if(s){let e=r.getValueRange();n.push(Validator.createFlagUnknownUnit(e,t.charAt(l),t));continue e}if(c){let e=r.getValueRange();n.push(Validator.createFlagInvalidDuration(e.start,e.end,t));continue e}c=!0;continue;case".":u++;continue;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":s=!0;continue;default:if(u>1){let e=r.getValueRange();n.push(Validator.createFlagMissingDuration(e.start,e.end,t));continue e}u=0;let g=parseFloat(t.substring(a,l));for(let s=l+1;s<t.length;s++)if(Validator.isNumberRelated(t.charAt(s))){let c=t.substring(l,s);if(g<0||"-"===t.charAt(a)&&0===g){let t=r.getNameRange();n.push(Validator.createFlagLessThan1ms(t.start,t.end,e));continue e}switch(c){case"h":o+=1e3*g*60*60,l=s-1,a=l,i=!0;continue t;case"m":o+=1e3*g*60,l=s-1,a=l,i=!0;continue t;case"s":o+=1e3*g,l=s-1,a=l,i=!0;continue t;case"ms":o+=g,l=s-1,a=l,i=!0;continue t;case"us":case"µs":o+=g/1e3,l=s-1,a=l,i=!0;continue t;case"ns":o+=g/1e6,l=s-1,a=l,i=!0;continue t;default:let e=r.getValueRange();n.push(Validator.createFlagUnknownUnit(e,c,t));continue e}}if(g<0||"-"===t.charAt(a)&&0===g){let t=r.getNameRange();n.push(Validator.createFlagLessThan1ms(t.start,t.end,e));continue e}let d=t.substring(l,t.length);switch(d){case"h":o+=1e3*g*60*60,i=!0;break t;case"m":o+=1e3*g*60,i=!0;break t;case"s":o+=1e3*g,i=!0;break t;case"ms":o+=g,i=!0;break t;case"us":case"µs":o+=g/1e3,i=!0;break t;case"ns":o+=g/1e6,i=!0;break t;default:let e=r.getValueRange();n.push(Validator.createFlagUnknownUnit(e,d,t))}continue e}if(i){if(o<1){let t=r.getNameRange();n.push(Validator.createFlagLessThan1ms(t.start,t.end,e))}}else{let e=r.getValueRange();n.push(Validator.createFlagMissingDuration(e.start,e.end,t))}}}}}static isNumberRelated(e){switch(e){case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return!0}return!1}checkDuplicateFlags(e,t,n){let r=e.map((function(e){return e.getName()}));for(let i of t){let t=r.indexOf(i),a=r.lastIndexOf(i);if(t!==a){let i=e[t].getNameRange();n.push(Validator.createFlagDuplicate(i.start,i.end,r[t])),i=e[a].getNameRange(),n.push(Validator.createFlagDuplicate(i.start,i.end,r[t]))}}}checkJSON(e,t,n){if(null===t.getArgumentsContent())return;let r=t.getArgumentsRange(),i=t.getArguments();if(1===i.length&&"[]"===i[0].getValue()||2===i.length&&"["===i[0].getValue()&&"]"===i[1].getValue())return void n.push(Validator.createShellRequiresOne(r));const a=t.getClosingBracket();if(a){let i=e.getText();i=i.substring(e.offsetAt(t.getOpeningBracket().getRange().end),e.offsetAt(a.getRange().start)),i=i.trim(),'"'!==i.charAt(i.length-1)&&n.push(Validator.createShellJsonForm(r))}else n.push(Validator.createShellJsonForm(r))}checkJSONQuotes(e,t){let n=e.getArgumentsContent();if(null===n)return;let r=e.getArgumentsRange(),i=e.getArguments();if(1===i.length&&"[]"===i[0].getValue()||2===i.length&&"["===i[0].getValue()&&"]"===i[1].getValue())return;let a=!1,o=null,s=!1;e:for(let e=0;e<n.length;e++)switch(n.charAt(e)){case"[":null===o&&(o="[",a=!0);break;case"'":if("["===o||","===o){s=!0,o="'";continue}if("'"!==o)break e;if(!s)break e;s=!1;break;case",":if(!a)break e;if(!s){if("'"!==o)break e;o=","}break;case"]":if(!s){if("'"===o||","===o){o=null;const e=Validator.createJSONInSingleQuotes(r,this.settings.instructionJSONInSingleQuotes);e&&t.push(e)}break e}break;case" ":case"\t":break;default:if(!s)break e}}static formatMessage(e,...t){for(let n=0;n<t.length;n++)e=e.replace("${"+n+"}",t[n]);return e}static getDiagnosticMessage_DirectiveCasing(){return Validator.dockerProblems.directiveCasing}static getDiagnosticMessage_DirectiveEscapeDuplicated(){return Validator.dockerProblems.directiveEscapeDuplicated}static getDiagnosticMessage_DirectiveEscapeInvalid(e){return Validator.formatMessage(Validator.dockerProblems.directiveEscapeInvalid,e)}static getDiagnosticMessage_NoSourceImage(){return Validator.dockerProblems.noSourceImage}static getDiagnosticMessage_EmptyContinuationLine(){return Validator.dockerProblems.emptyContinuationLine}static getDiagnosticMessage_DuplicateBuildStageName(e){return Validator.formatMessage(Validator.dockerProblems.duplicateBuildStageName,e)}static getDiagnosticMessage_InvalidBuildStageName(e){return Validator.formatMessage(Validator.dockerProblems.invalidBuildStageName,e)}static getDiagnosticMessage_FlagAtLeastOne(e,t){return Validator.formatMessage(Validator.dockerProblems.flagAtLeastOne,e,t)}static getDiagnosticMessage_FlagDuplicate(e){return Validator.formatMessage(Validator.dockerProblems.flagDuplicate,e)}static getDiagnosticMessage_FlagInvalidDuration(e){return Validator.formatMessage(Validator.dockerProblems.flagInvalidDuration,e)}static getDiagnosticMessage_FlagLessThan1ms(e){return Validator.formatMessage(Validator.dockerProblems.flagLessThan1ms,e)}static getDiagnosticMessage_FlagMissingDuration(e){return Validator.formatMessage(Validator.dockerProblems.flagMissingDuration,e)}static getDiagnosticMessage_FlagInvalidFromValue(e){return Validator.formatMessage(Validator.dockerProblems.flagInvalidFrom,e)}static getDiagnosticMessage_FlagMissingValue(e){return Validator.formatMessage(Validator.dockerProblems.flagMissingValue,e)}static getDiagnosticMessage_FlagUnknown(e){return Validator.formatMessage(Validator.dockerProblems.flagUnknown,e)}static getDiagnosticMessage_FlagUnknownUnit(e,t){return Validator.formatMessage(Validator.dockerProblems.flagUnknownUnit,e,t)}static getDiagnosticMessage_BaseNameEmpty(e){return Validator.formatMessage(Validator.dockerProblems.baseNameEmpty,e)}static getDiagnosticMessage_InvalidAs(){return Validator.dockerProblems.invalidAs}static getDiagnosticMessage_InvalidPort(e){return Validator.formatMessage(Validator.dockerProblems.invalidPort,e)}static getDiagnosticMessage_InvalidProto(e){return Validator.formatMessage(Validator.dockerProblems.invalidProtocol,e)}static getDiagnosticMessage_InvalidReferenceFormat(){return Validator.dockerProblems.invalidReferenceFormat}static getDiagnosticMessage_InvalidSignal(e){return Validator.formatMessage(Validator.dockerProblems.invalidStopSignal,e)}static getDiagnosticMessage_InvalidSyntax(e){return Validator.formatMessage(Validator.dockerProblems.invalidSyntax,e)}static getDiagnosticMessage_InstructionExtraArgument(){return Validator.dockerProblems.instructionExtraArgument}static getDiagnosticMessage_InstructionMissingArgument(){return Validator.dockerProblems.instructionMissingArgument}static getDiagnosticMessage_ADDDestinationNotDirectory(){return Validator.formatMessage(Validator.dockerProblems.invalidDestination,"ADD")}static getDiagnosticMessage_ADDRequiresAtLeastTwoArguments(){return Validator.formatMessage(Validator.dockerProblems.instructionRequiresAtLeastTwoArguments,"ADD")}static getDiagnosticMessage_ARGRequiresOneArgument(){return Validator.formatMessage(Validator.dockerProblems.instructionRequiresOneArgument,"ARG")}static getDiagnosticMessage_COPYDestinationNotDirectory(){return Validator.formatMessage(Validator.dockerProblems.invalidDestination,"COPY")}static getDiagnosticMessage_COPYRequiresAtLeastTwoArguments(){return Validator.formatMessage(Validator.dockerProblems.instructionRequiresAtLeastTwoArguments,"COPY")}static getDiagnosticMessage_HEALTHCHECKRequiresAtLeastOneArgument(){return Validator.formatMessage(Validator.dockerProblems.instructionRequiresAtLeastOneArgument,"HEALTHCHECK")}static getDiagnosticMessage_ENVRequiresTwoArguments(){return Validator.formatMessage(Validator.dockerProblems.instructionRequiresTwoArguments,"ENV")}static getDiagnosticMessage_InstructionRequiresOneOrThreeArguments(){return Validator.dockerProblems.fromRequiresOneOrThreeArguments}static getDiagnosticMessage_HealthcheckNoneUnnecessaryArgument(){return Validator.formatMessage(Validator.dockerProblems.instructionUnnecessaryArgument,"HEALTHCHECK NONE")}static getDiagnosticMessage_InstructionMultiple(e){return Validator.formatMessage(Validator.dockerProblems.instructionMultiple,e)}static getDiagnosticMessage_InstructionUnknown(e){return Validator.formatMessage(Validator.dockerProblems.instructionUnknown,e)}static getDiagnosticMessage_SyntaxMissingEquals(e){return Validator.formatMessage(Validator.dockerProblems.syntaxMissingEquals,e)}static getDiagnosticMessage_SyntaxMissingNames(e){return Validator.formatMessage(Validator.dockerProblems.syntaxMissingNames,e)}static getDiagnosticMessage_SyntaxMissingSingleQuote(e){return Validator.formatMessage(Validator.dockerProblems.syntaxMissingSingleQuote,e)}static getDiagnosticMessage_SyntaxMissingDoubleQuote(e){return Validator.formatMessage(Validator.dockerProblems.syntaxMissingDoubleQuote,e)}static getDiagnosticMessage_InstructionCasing(){return Validator.dockerProblems.instructionCasing}static getDiagnosticMessage_InstructionJSONInSingleQuotes(){return Validator.dockerProblems.instructionJSONInSingleQuotes}static getDiagnosticMessage_OnbuildChainingDisallowed(){return Validator.dockerProblems.onbuildChainingDisallowed}static getDiagnosticMessage_OnbuildTriggerDisallowed(e){return Validator.formatMessage(Validator.dockerProblems.onbuildTriggerDisallowed,e)}static getDiagnosticMessage_VariableModifierUnsupported(e,t){return Validator.formatMessage(Validator.dockerProblems.variableModifierUnsupported,e,t)}static getDiagnosticMessage_ShellJsonForm(){return Validator.dockerProblems.shellJsonForm}static getDiagnosticMessage_ShellRequiresOne(){return Validator.dockerProblems.shellRequiresOne}static getDiagnosticMessage_DeprecatedMaintainer(){return Validator.dockerProblems.deprecatedMaintainer}static getDiagnosticMessage_HealthcheckCmdArgumentMissing(){return Validator.dockerProblems.healthcheckCmdArgumentMissing}static getDiagnosticMessage_HealthcheckTypeUnknown(e){return Validator.formatMessage(Validator.dockerProblems.healthcheckTypeUnknown,e)}static getDiagnosticMessage_WORKDIRPathNotAbsolute(){return Validator.formatMessage(Validator.dockerProblems.workdirPathNotAbsolute)}static createDuplicatedEscapeDirective(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_DirectiveEscapeDuplicated(),a.ValidationCode.DUPLICATED_ESCAPE_DIRECTIVE)}static createInvalidEscapeDirective(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_DirectiveEscapeInvalid(n),a.ValidationCode.INVALID_ESCAPE_DIRECTIVE)}static createDuplicateBuildStageName(e,t){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_DuplicateBuildStageName(t),a.ValidationCode.DUPLICATE_BUILD_STAGE_NAME)}static createInvalidBuildStageName(e,t){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_InvalidBuildStageName(t),a.ValidationCode.INVALID_BUILD_STAGE_NAME)}static createFlagAtLeastOne(e,t,n,r){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagAtLeastOne(n,r),a.ValidationCode.FLAG_AT_LEAST_ONE)}static createFlagDuplicate(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagDuplicate(n),a.ValidationCode.FLAG_DUPLICATE)}static createFlagInvalidDuration(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagInvalidDuration(n),a.ValidationCode.FLAG_INVALID_DURATION)}static createFlagLessThan1ms(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagLessThan1ms(n),a.ValidationCode.FLAG_LESS_THAN_1MS)}static createFlagMissingDuration(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagMissingDuration(n),a.ValidationCode.FLAG_MISSING_DURATION)}static createFlagInvalidFrom(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagInvalidFromValue(n),a.ValidationCode.FLAG_INVALID_FROM_VALUE)}static createFlagMissingValue(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagMissingValue(n),a.ValidationCode.FLAG_MISSING_VALUE)}static createUnknownAddFlag(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagUnknown(n),a.ValidationCode.UNKNOWN_ADD_FLAG)}static createUnknownCopyFlag(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagUnknown(n),a.ValidationCode.UNKNOWN_COPY_FLAG)}static createUnknownFromFlag(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagUnknown(n),a.ValidationCode.UNKNOWN_FROM_FLAG)}static createUnknownHealthcheckFlag(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_FlagUnknown(n),a.ValidationCode.UNKNOWN_HEALTHCHECK_FLAG)}static createFlagUnknownUnit(e,t,n){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_FlagUnknownUnit(t,n),a.ValidationCode.FLAG_UNKNOWN_UNIT)}static createBaseNameEmpty(e,t){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_BaseNameEmpty(t),a.ValidationCode.BASE_NAME_EMPTY)}static createInvalidAs(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_InvalidAs(),a.ValidationCode.INVALID_AS)}static createInvalidPort(e,t){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_InvalidPort(t),a.ValidationCode.INVALID_PORT)}static createInvalidProto(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_InvalidProto(n),a.ValidationCode.INVALID_PROTO)}static createInvalidReferenceFormat(e){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_InvalidReferenceFormat(),a.ValidationCode.INVALID_REFERENCE_FORMAT)}static createInvalidStopSignal(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_InvalidSignal(n),a.ValidationCode.INVALID_SIGNAL)}static createInvalidSyntax(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_InvalidSyntax(n),a.ValidationCode.INVALID_SYNTAX)}static createMissingArgument(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_InstructionMissingArgument(),a.ValidationCode.ARGUMENT_MISSING)}static createExtraArgument(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_InstructionExtraArgument(),a.ValidationCode.ARGUMENT_EXTRA)}static createHealthcheckNoneUnnecessaryArgument(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_HealthcheckNoneUnnecessaryArgument(),a.ValidationCode.ARGUMENT_UNNECESSARY)}static createARGRequiresOneArgument(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_ARGRequiresOneArgument(),a.ValidationCode.ARGUMENT_REQUIRES_ONE)}static createADDDestinationNotDirectory(e){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_ADDDestinationNotDirectory(),a.ValidationCode.INVALID_DESTINATION)}static createADDRequiresAtLeastTwoArguments(e){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_ADDRequiresAtLeastTwoArguments(),a.ValidationCode.ARGUMENT_REQUIRES_AT_LEAST_TWO)}static createCOPYDestinationNotDirectory(e){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_COPYDestinationNotDirectory(),a.ValidationCode.INVALID_DESTINATION)}static createCOPYRequiresAtLeastTwoArguments(e){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_COPYRequiresAtLeastTwoArguments(),a.ValidationCode.ARGUMENT_REQUIRES_AT_LEAST_TWO)}static createENVRequiresTwoArguments(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_ENVRequiresTwoArguments(),a.ValidationCode.ARGUMENT_REQUIRES_TWO)}static createHEALTHCHECKRequiresAtLeastOneArgument(e){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_HEALTHCHECKRequiresAtLeastOneArgument(),a.ValidationCode.ARGUMENT_REQUIRES_AT_LEAST_ONE)}static createHealthcheckCmdArgumentMissing(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_HealthcheckCmdArgumentMissing(),a.ValidationCode.HEALTHCHECK_CMD_ARGUMENT_MISSING)}static createHealthcheckTypeUnknown(e,t){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_HealthcheckTypeUnknown(t),a.ValidationCode.UNKNOWN_TYPE)}static createOnbuildChainingDisallowed(e){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_OnbuildChainingDisallowed(),a.ValidationCode.ONBUILD_CHAINING_DISALLOWED)}static createOnbuildTriggerDisallowed(e,t){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_OnbuildTriggerDisallowed(t),a.ValidationCode.ONBUILD_TRIGGER_DISALLOWED)}static createShellJsonForm(e){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_ShellJsonForm(),a.ValidationCode.SHELL_JSON_FORM)}static createShellRequiresOne(e){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_ShellRequiresOne(),a.ValidationCode.SHELL_REQUIRES_ONE)}static createRequiresOneOrThreeArguments(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_InstructionRequiresOneOrThreeArguments(),a.ValidationCode.ARGUMENT_REQUIRES_ONE_OR_THREE)}static createNoSourceImage(e,t){return Validator.createError(e,t,Validator.getDiagnosticMessage_NoSourceImage(),a.ValidationCode.NO_SOURCE_IMAGE)}static createSyntaxMissingEquals(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_SyntaxMissingEquals(n),a.ValidationCode.SYNTAX_MISSING_EQUALS)}static createSyntaxMissingSingleQuote(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_SyntaxMissingSingleQuote(n),a.ValidationCode.SYNTAX_MISSING_SINGLE_QUOTE)}static createSyntaxMissingDoubleQuote(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_SyntaxMissingDoubleQuote(n),a.ValidationCode.SYNTAX_MISSING_DOUBLE_QUOTE)}static createSyntaxMissingNames(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_SyntaxMissingNames(n),a.ValidationCode.SYNTAX_MISSING_NAMES)}static createVariableUnsupportedModifier(e,t,n){return Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_VariableModifierUnsupported(t,n),a.ValidationCode.UNSUPPORTED_MODIFIER)}static createUnknownInstruction(e,t,n){return Validator.createError(e,t,Validator.getDiagnosticMessage_InstructionUnknown(n),a.ValidationCode.UNKNOWN_INSTRUCTION)}static createError(e,t,n,i){return Validator.createDiagnostic(r.DiagnosticSeverity.Error,e,t,n,i)}static createJSONInSingleQuotes(e,t){return t===a.ValidationSeverity.ERROR?Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_InstructionJSONInSingleQuotes(),a.ValidationCode.JSON_IN_SINGLE_QUOTES):t===a.ValidationSeverity.WARNING?Validator.createWarning(e.start,e.end,Validator.getDiagnosticMessage_InstructionJSONInSingleQuotes(),a.ValidationCode.JSON_IN_SINGLE_QUOTES):null}static createEmptyContinuationLine(e,t,n){return n===a.ValidationSeverity.ERROR?Validator.createError(e,t,Validator.getDiagnosticMessage_EmptyContinuationLine(),a.ValidationCode.EMPTY_CONTINUATION_LINE):n===a.ValidationSeverity.WARNING?Validator.createWarning(e,t,Validator.getDiagnosticMessage_EmptyContinuationLine(),a.ValidationCode.EMPTY_CONTINUATION_LINE):null}createMultipleInstructions(e,t,n){return t===a.ValidationSeverity.ERROR?Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_InstructionMultiple(n),a.ValidationCode.MULTIPLE_INSTRUCTIONS):t===a.ValidationSeverity.WARNING?Validator.createWarning(e.start,e.end,Validator.getDiagnosticMessage_InstructionMultiple(n),a.ValidationCode.MULTIPLE_INSTRUCTIONS):null}createLowercaseDirective(e,t){return this.settings.directiveCasing===a.ValidationSeverity.ERROR?Validator.createError(e,t,Validator.getDiagnosticMessage_DirectiveCasing(),a.ValidationCode.CASING_DIRECTIVE):this.settings.directiveCasing===a.ValidationSeverity.WARNING?Validator.createWarning(e,t,Validator.getDiagnosticMessage_DirectiveCasing(),a.ValidationCode.CASING_DIRECTIVE):null}createUppercaseInstruction(e,t){return this.settings.instructionCasing===a.ValidationSeverity.ERROR?Validator.createError(e,t,Validator.getDiagnosticMessage_InstructionCasing(),a.ValidationCode.CASING_INSTRUCTION):this.settings.instructionCasing===a.ValidationSeverity.WARNING?Validator.createWarning(e,t,Validator.getDiagnosticMessage_InstructionCasing(),a.ValidationCode.CASING_INSTRUCTION):null}createMaintainerDeprecated(e,t){if(this.settings.deprecatedMaintainer===a.ValidationSeverity.ERROR){const n=Validator.createError(e,t,Validator.getDiagnosticMessage_DeprecatedMaintainer(),a.ValidationCode.DEPRECATED_MAINTAINER);return n.tags=[r.DiagnosticTag.Deprecated],n}if(this.settings.deprecatedMaintainer===a.ValidationSeverity.WARNING){const n=Validator.createWarning(e,t,Validator.getDiagnosticMessage_DeprecatedMaintainer(),a.ValidationCode.DEPRECATED_MAINTAINER);return n.tags=[r.DiagnosticTag.Deprecated],n}return null}createWORKDIRNotAbsolute(e){return this.settings.instructionWorkdirRelative===a.ValidationSeverity.ERROR?Validator.createError(e.start,e.end,Validator.getDiagnosticMessage_WORKDIRPathNotAbsolute(),a.ValidationCode.WORKDIR_IS_NOT_ABSOLUTE):this.settings.instructionWorkdirRelative===a.ValidationSeverity.WARNING?Validator.createWarning(e.start,e.end,Validator.getDiagnosticMessage_WORKDIRPathNotAbsolute(),a.ValidationCode.WORKDIR_IS_NOT_ABSOLUTE):null}static createWarning(e,t,n,i){return Validator.createDiagnostic(r.DiagnosticSeverity.Warning,e,t,n,i)}static createDiagnostic(e,t,n,r,i){return{range:{start:t,end:n},message:r,severity:e,code:i,source:"dockerfile-utils"}}}t.Validator=Validator,Validator.dockerProblems={baseNameEmpty:"base name (${0}) should not be blank",directiveCasing:"Parser directives should be written in lowercase letters",directiveEscapeDuplicated:"only one escape parser directive can be used",directiveEscapeInvalid:"invalid ESCAPE '${0}'. Must be ` or \\",noSourceImage:"No source image provided with `FROM`",emptyContinuationLine:"Empty continuation line",fromRequiresOneOrThreeArguments:"FROM requires either one or three arguments",invalidAs:"Second argument should be AS",invalidPort:"Invalid containerPort: ${0}",invalidProtocol:"Invalid proto: ${0}",invalidReferenceFormat:"invalid reference format",invalidStopSignal:"Invalid signal: ${0}",invalidSyntax:'parsing "${0}": invalid syntax',invalidDestination:"When using ${0} with more than one source file, the destination must be a directory and end with a / or a \\",syntaxMissingEquals:'Syntax error - can\'t find = in "${0}". Must be of the form: name=value',syntaxMissingNames:"${0} names can not be blank",syntaxMissingSingleQuote:'failed to process "${0}": unexpected end of statement while looking for matching single-quote',syntaxMissingDoubleQuote:'failed to process "${0}": unexpected end of statement while looking for matching double-quote',duplicateBuildStageName:"duplicate name ${0}",invalidBuildStageName:'invalid name for build stage: "${0}", name can\'t start with a number or contain symbols',flagAtLeastOne:"${0} must be at least 1 (not ${1})",flagDuplicate:"Duplicate flag specified: ${0}",flagInvalidDuration:"time: invalid duration ${0}",flagInvalidFrom:"invalid from flag value ${0}: invalid reference format",flagLessThan1ms:'Interval "${0}" cannot be less than 1ms',flagMissingDuration:"time: missing unit in duration ${0}",flagMissingValue:"Missing a value on flag: ${0}",flagUnknown:"Unknown flag: ${0}",flagUnknownUnit:"time: unknown unit ${0} in duration ${1}",instructionExtraArgument:"Instruction has an extra argument",instructionMissingArgument:"Instruction has no arguments",instructionMultiple:"There can only be one ${0} instruction in a Dockerfile",instructionRequiresOneArgument:"${0} requires exactly one argument",instructionRequiresAtLeastOneArgument:"${0} requires at least one argument",instructionRequiresAtLeastTwoArguments:"${0} requires at least two arguments",instructionRequiresTwoArguments:"${0} must have two arguments",instructionUnnecessaryArgument:"${0} takes no arguments",instructionUnknown:"Unknown instruction: ${0}",instructionCasing:"Instructions should be written in uppercase letters",instructionJSONInSingleQuotes:"Instruction written as a JSON array but is using single quotes instead of double quotes",variableModifierUnsupported:'failed to process "${0}": unsupported modifier (${1}) in substitution',onbuildChainingDisallowed:"Chaining ONBUILD via `ONBUILD ONBUILD` isn't allowed",onbuildTriggerDisallowed:"${0} isn't allowed as an ONBUILD trigger",shellJsonForm:"SHELL requires the arguments to be in JSON form",shellRequiresOne:"SHELL requires at least one argument",deprecatedMaintainer:"MAINTAINER has been deprecated",healthcheckCmdArgumentMissing:"Missing command after HEALTHCHECK CMD",healthcheckTypeUnknown:'Unknown type"${0}" in HEALTHCHECK (try CMD)',workdirPathNotAbsolute:"WORKDIR paths should be absolute"}},1930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageService=void 0;var r=n(25),i=n(312),a=n(1931),o=n(1932),s=n(1933),c=n(1934),u=n(896),l=n(897),g=n(1935),d=n(1936),h=n(1937),m=n(512),f=n(1938),p=n(1939),_=n(898),R=n(1940),v=n(1941),S=n(1942),k=function(){function LanguageService(){this.markdownDocumentation=new _.MarkdownDocumentation,this.plainTextDocumentation=new m.PlainTextDocumentation,this.foldingRangeLineFoldingOnly=!1,this.foldingRangeLimit=Number.MAX_VALUE}return LanguageService.prototype.setLogger=function(e){this.logger=e},LanguageService.prototype.setCapabilities=function(e){this.completionItemCapabilities=e&&e.completion&&e.completion.completionItem,this.hoverContentFormat=e&&e.hover&&e.hover.contentFormat,this.foldingRangeLineFoldingOnly=e&&e.foldingRange&&e.foldingRange.lineFoldingOnly,this.foldingRangeLimit=e&&e.foldingRange&&e.foldingRange.rangeLimit},LanguageService.prototype.computeCodeActions=function(e,t,n){return(new s.DockerCommands).analyzeDiagnostics(n.diagnostics,e.uri)},LanguageService.prototype.computeLinks=function(e){return(new h.DockerLinks).getLinks(e)},LanguageService.prototype.resolveLink=function(e){return(new h.DockerLinks).resolveLink(e)},LanguageService.prototype.computeCommandEdits=function(e,t,n){return(new s.DockerCommands).computeCommandEdits(e,t,n)},LanguageService.prototype.computeCompletionItems=function(e,t){var n=r.TextDocument.create("","",0,e);return new a.DockerAssist(n,new o.DockerRegistryClient(this.logger),this.completionItemCapabilities).computeProposals(t)},LanguageService.prototype.resolveCompletionItem=function(e){return e.documentation?e:(new v.DockerCompletion).resolveCompletionItem(e,this.completionItemCapabilities&&this.completionItemCapabilities.documentationFormat)},LanguageService.prototype.computeDefinition=function(e,t,n){return(new u.DockerDefinition).computeDefinition(e,t,n)},LanguageService.prototype.computeFoldingRanges=function(e){return(new c.DockerFolding).computeFoldingRanges(e,this.foldingRangeLineFoldingOnly,this.foldingRangeLimit)},LanguageService.prototype.computeHighlightRanges=function(e,t){return(new l.DockerHighlight).computeHighlightRanges(e,t)},LanguageService.prototype.computeHover=function(e,t){return new p.DockerHover(this.markdownDocumentation,this.plainTextDocumentation).onHover(e,t,this.hoverContentFormat)},LanguageService.prototype.computeSymbols=function(e,t){return(new g.DockerSymbols).parseSymbolInformation(e,t)},LanguageService.prototype.computeSignatureHelp=function(e,t){return(new d.DockerSignatures).computeSignatures(e,t)},LanguageService.prototype.computeRename=function(e,t,n,r){return(new f.DockerRename).rename(e,t,n,r)},LanguageService.prototype.prepareRename=function(e,t){return(new f.DockerRename).prepareRename(e,t)},LanguageService.prototype.computeSemanticTokens=function(e){return new S.DockerSemanticTokens(e).computeSemanticTokens()},LanguageService.prototype.validate=function(e,t){return i.validate(e,t)},LanguageService.prototype.format=function(e,t){return i.format(e,t)},LanguageService.prototype.formatRange=function(e,t,n){return(new R.DockerFormatter).formatRange(e,t,n)},LanguageService.prototype.formatOnType=function(e,t,n,r){return(new R.DockerFormatter).formatOnType(e,t,n,r)},LanguageService}();t.LanguageService=k},1931:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function fulfilled(e){try{step(r.next(e))}catch(e){a(e)}}function rejected(e){try{step(r.throw(e))}catch(e){a(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DockerAssist=void 0;var a=n(25),o=n(150),s=n(51),c=function(){function DockerAssist(e,t,n){this.document=e,this.dockerRegistryClient=t,this.deprecatedSupport=n&&n.deprecatedSupport,this.snippetSupport=n&&n.snippetSupport,this.supportedTags=n&&n.tagSupport&&n.tagSupport.valueSet}return DockerAssist.prototype.computeProposals=function(e){for(var t=this.document.getText(),n=this.document.offsetAt(e),r=s.DockerfileParser.parse(t),i=r.getEscapeCharacter(),a=-1,c=0,u=r.getDirectives();c<u.length;c++){var l=u[c];if(a=(R=l.getNameRange()).start.line,e.line===a){if(e.character<=R.start.character)return[this.createEscape(0,n,s.Directive.escape),this.createSyntax(0,n,s.Directive.syntax)];if(e.character<=R.end.character){var g=l.getName().substring(0,e.character-R.start.character);if(g=g.toLowerCase(),0===s.Directive.escape.indexOf(g))return[this.createEscape(g.length,n,s.Directive.escape)];if(0===s.Directive.syntax.indexOf(g))return[this.createSyntax(g.length,n,s.Directive.syntax)]}return[]}}var d=r.getComments();if(0!==d.length)if(e.line===a+1){var h=d[0].getRange();if(h.start.line===e.line&&h.start.character<e.character){if(null===(R=d[0].getContentRange())||e.character<=R.start.character)return[this.createEscape(0,n,s.Directive.escape),this.createSyntax(0,n,s.Directive.syntax)];var m=d[0].getContent();if(e.character<=R.end.character){var f=m.substring(0,e.character-R.start.character);if(0===s.Directive.escape.indexOf(f.toLowerCase()))return[this.createEscape(f.length,n,s.Directive.escape)];if(0===s.Directive.syntax.indexOf(f.toLowerCase()))return[this.createSyntax(f.length,n,s.Directive.syntax)]}return[]}}else for(var p=0,_=d;p<_.length;p++){var R;if((R=(m=_[p]).getRange()).start.line===e.line&&R.start.character<e.character&&e.character<=R.end.character)return[]}var v=DockerAssist.calculateTruePrefix(t,n,i);if(""!==v){var S=v.lastIndexOf("$");if(-1!==S&&"\\"!==v.charAt(S-1)){var k=v.substring(S+1).toLowerCase(),y=k.length+1,D=[];if(""===k){for(var b=0,T=r.getAvailableVariables(e.line);b<T.length;b++){var C=T[b],A=r.resolveVariable(C,e.line);D.push(this.createVariableCompletionItem(C,y,n,!0,A))}for(var E=0,P=s.DefaultVariables;E<P.length;E++){C=P[E],A=r.resolveVariable(C,e.line);D.push(this.createVariableCompletionItem(C,y,n,!0,A))}}else{var I=!1;"{"===k.charAt(0)&&(I=!0,k=k.substring(1));for(var N=r.getAvailableVariables(e.line),M=0,O=s.DefaultVariables;M<O.length;M++){C=O[M];-1===N.indexOf(C)&&N.push(C)}for(var w=0,x=N;w<x.length;w++){if(0===(C=x[w]).toLowerCase().indexOf(k)){A=r.resolveVariable(C,e.line);D.push(this.createVariableCompletionItem(C,y,n,I,A))}}}return D.sort((function(e,t){return e.label.toLowerCase()===t.label.toLowerCase()?-1*e.label.localeCompare(t.label):e.label.localeCompare(t.label)})),D}}var F="";e:for(var L=0,V=r.getInstructions();L<V.length;L++){var U=V[L];if(o.Util.isInsideRange(e,U.getInstructionRange()))break;if(o.Util.isInsideRange(e,U.getRange()))switch(U.getKeyword()){case"ADD":return this.createAddProposals(U,e,n,v);case"COPY":return this.createCopyProposals(r,U,e,n,v);case"FROM":return this.createFromProposals(U,e,n,v);case"HEALTHCHECK":var H=U.getSubcommand();return H&&H.isBefore(e)?[]:this.createHealthcheckProposals(n,v);case"ONBUILD":var q=U.getArguments();if(0===q.length||o.Util.isInsideRange(e,q[0].getRange())){F="ONBUILD";break e}var W=U.getTriggerInstruction();switch(W.getKeyword()){case"ADD":return this.createAddProposals(W,e,n,v);case"COPY":return this.createCopyProposals(r,W,e,n,v);case"HEALTHCHECK":var j=W.getSubcommand();return j&&j.isBefore(e)?[]:this.createHealthcheckProposals(n,v)}return[];default:return[]}}if(""===v)return 0===r.getInstructions().length?[this.createFROM(0,n,"FROM")]:this.createProposals(o.KEYWORDS,F,0,n);for(var K=[],G=v.toUpperCase(),B=0;B<o.KEYWORDS.length;B++){if(o.KEYWORDS[B]===G)return[];0===o.KEYWORDS[B].indexOf(G)&&K.push(o.KEYWORDS[B])}return 0===K.length?[]:this.createProposals(K,F,v.length,n)},DockerAssist.prototype.createProposals=function(e,t,n,r){for(var i=[],a=0;a<e.length;a++)switch(e[a]){case"ARG":this.snippetSupport?(i.push(this.createARG_NameOnly(n,r)),i.push(this.createARG_DefaultValue(n,r))):i.push(this.createARG(n,r));break;case"HEALTHCHECK":i.push(this.createHEALTHCHECK_CMD(n,r)),i.push(this.createHEALTHCHECK_NONE(n,r));break;case"FROM":case"MAINTAINER":case"ONBUILD":if(t)break;default:i.push(this.createSingleProposals(e[a],n,r))}return i},DockerAssist.prototype.createAddProposals=function(e,t,n,r){var i=e.getFlags(),a=e.getArguments();return 0===a.length&&0===e.getFlags().length?[this.createADD_FlagChown(0,n)]:a.length>0&&o.Util.isInsideRange(t,a[0].getRange())&&"-"===r||i.length>0&&"--"===i[0].toString()||a.length>0&&o.Util.isInsideRange(t,a[0].getRange())&&0==="--chown=".indexOf(r)||i.length>0&&0==="--chown=".indexOf(i[0].toString())?[this.createADD_FlagChown(r.length,n)]:[]},DockerAssist.prototype.createCopyProposals=function(e,t,n,r,i){var a=t.getFromFlag();if(a&&o.Util.isInsideRange(n,a.getValueRange())){for(var s={},c=[],u=0,l=!1,g=this.document.getText().substring(this.document.offsetAt(a.getValueRange().start),r).toLowerCase(),d=0,h=e.getFROMs();d<h.length;d++){var m=h[d];if(!t.isAfter(m))break;var f=m.getImage(),p=m.getBuildStage();if(p){var _=p.toLowerCase();0!==_.indexOf(g)||s[_]||(s[_]=!0,c.push(this.createSourceImageCompletionItem(p,f,u,g.length,r))),l=!1}else s[u]||(s[u]=!0,c.push(this.createSourceImageCompletionItem(u.toString(),f,u,g.length,r)),l=!0);u++}return l&&c.length>0&&c.pop(),c}var R=t.getFlags(),v=t.getArguments();return 0===v.length&&0===t.getFlags().length?[this.createCOPY_FlagChown(0,r),this.createCOPY_FlagFrom(0,r)]:v.length>0&&o.Util.isInsideRange(n,v[0].getRange())&&"-"===i||R.length>0&&"--"===R[0].toString()?[this.createCOPY_FlagChown(i.length,r),this.createCOPY_FlagFrom(i.length,r)]:v.length>0&&o.Util.isInsideRange(n,v[0].getRange())&&0==="--chown=".indexOf(i)||R.length>0&&0==="--chown=".indexOf(R[0].toString())?[this.createCOPY_FlagChown(i.length,r)]:v.length>0&&o.Util.isInsideRange(n,v[0].getRange())&&0==="--from=".indexOf(i)||R.length>0&&0==="--from=".indexOf(R[0].toString())?[this.createCOPY_FlagFrom(i.length,r)]:[]},DockerAssist.prototype.createFromProposals=function(e,t,n,s){var c=this;if(o.Util.isInsideRange(t,e.getImageTagRange())){var u=s.indexOf(":"),l=s.indexOf(":");s=u===l?s.substring(u+1):s.substring(u+1,l);var g=this.dockerRegistryClient;return new Promise((function(n){return r(c,void 0,void 0,(function(){var r,o,c,u,l;return i(this,(function(i){switch(i.label){case 0:return r=[],[4,g.getTags(e.getImageName())];case 1:for(o=i.sent(),c=0,u=o;c<u.length;c++)0===(l=u[c]).indexOf(s)&&r.push({textEdit:this.createTextEdit(s.length,this.document.offsetAt(t),l),label:l,kind:a.CompletionItemKind.Property,insertTextFormat:a.InsertTextFormat.PlainText});return n(r),[2]}}))}))}))}var d=e.getArguments();return d.length>0&&d[0].isBefore(t)?[]:0==="--platform".indexOf(s)?[this.createFROM_FlagPlatform(s.length,n)]:[]},DockerAssist.prototype.createHealthcheckProposals=function(e,t){var n=[];t.length<3&&0==="CMD".indexOf(t.toUpperCase())&&n.push(this.createHEALTHCHECK_CMD_Subcommand(t.length,e)),t.length<4&&0==="NONE".indexOf(t.toUpperCase())&&n.push(this.createHEALTHCHECK_NONE_Subcommand(t.length,e)),0==="--interval".indexOf(t)&&n.push(this.createHEALTHCHECK_FlagInterval(t.length,e)),0==="--retries".indexOf(t)&&n.push(this.createHEALTHCHECK_FlagRetries(t.length,e)),0==="--start-period".indexOf(t)&&n.push(this.createHEALTHCHECK_FlagStartPeriod(t.length,e)),0==="--timeout".indexOf(t)&&n.push(this.createHEALTHCHECK_FlagTimeout(t.length,e));for(var r=0;r<n.length;r++)n[r].sortText=r.toString();return n},DockerAssist.calculateTruePrefix=function(e,t,n){var r=e.charAt(t-1);switch(r){case"\n":for(var i="",a=t-1;a>=0;a--)if("\n"===e.charAt(a))if(e.charAt(a-1)===n)a--;else{if("\r"!==e.charAt(a-1)||e.charAt(a-2)!==n)break;a-=2}else{if(" "===e.charAt(a)||"\t"===e.charAt(a))break;i=e.charAt(a).toUpperCase()+i}if(""!==i)return i;break;case"\r":case" ":case"\t":break;default:for(var s=r,c=t-2;c>=0&&(r=e.charAt(c),!o.Util.isWhitespace(r));c--)s=r+s;return s}return""},DockerAssist.prototype.createSingleProposals=function(e,t,n){switch(e){case"ADD":return this.createADD(t,n,e);case"CMD":return this.createCMD(t,n,e);case"COPY":return this.createCOPY(t,n,e);case"ENTRYPOINT":return this.createENTRYPOINT(t,n,e);case"ENV":return this.createENV(t,n,e);case"EXPOSE":return this.createEXPOSE(t,n,e);case"FROM":return this.createFROM(t,n,e);case"LABEL":return this.createLABEL(t,n,e);case"MAINTAINER":return this.createMAINTAINER(t,n,e);case"ONBUILD":return this.createONBUILD(t,n,e);case"RUN":return this.createRUN(t,n,e);case"SHELL":return this.createSHELL(t,n,e);case"STOPSIGNAL":return this.createSTOPSIGNAL(t,n,e);case"WORKDIR":return this.createWORKDIR(t,n,e);case"VOLUME":return this.createVOLUME(t,n,e);case"USER":return this.createUSER(t,n,e)}throw new Error("Unknown keyword found: "+e)},DockerAssist.prototype.createADD=function(e,t,n){return this.createKeywordCompletionItem("ADD","ADD source dest",e,t,"ADD ${1:source} ${2:dest}",n)},DockerAssist.prototype.createARG=function(e,t){return this.createKeywordCompletionItem("ARG","ARG",e,t,"ARG","ARG")},DockerAssist.prototype.createARG_NameOnly=function(e,t){return this.createKeywordCompletionItem("ARG","ARG name",e,t,"ARG ${1:name}","ARG_NameOnly")},DockerAssist.prototype.createARG_DefaultValue=function(e,t){return this.createKeywordCompletionItem("ARG","ARG name=defaultValue",e,t,"ARG ${1:name}=${2:defaultValue}","ARG_DefaultValue")},DockerAssist.prototype.createCMD=function(e,t,n){return this.createKeywordCompletionItem("CMD",'CMD [ "executable" ]',e,t,'CMD [ "${1:executable}" ]',n)},DockerAssist.prototype.createCOPY=function(e,t,n){return this.createKeywordCompletionItem("COPY","COPY source dest",e,t,"COPY ${1:source} ${2:dest}",n)},DockerAssist.prototype.createENTRYPOINT=function(e,t,n){return this.createKeywordCompletionItem("ENTRYPOINT",'ENTRYPOINT [ "executable" ]',e,t,'ENTRYPOINT [ "${1:executable}" ]',n)},DockerAssist.prototype.createENV=function(e,t,n){return this.createKeywordCompletionItem("ENV","ENV key=value",e,t,"ENV ${1:key}=${2:value}",n)},DockerAssist.prototype.createEXPOSE=function(e,t,n){return this.createKeywordCompletionItem("EXPOSE","EXPOSE port",e,t,"EXPOSE ${1:port}",n)},DockerAssist.prototype.createFROM=function(e,t,n){return this.createKeywordCompletionItem("FROM","FROM baseImage",e,t,"FROM ${1:baseImage}",n)},DockerAssist.prototype.createHEALTHCHECK_CMD=function(e,t){return this.snippetSupport?this.createKeywordCompletionItem("HEALTHCHECK",'HEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 CMD [ "executable" ]',e,t,'HEALTHCHECK --interval=${1:30s} --timeout=${2:30s} --start-period=${3:5s} --retries=${4:3} CMD [ "${5:executable}" ]',"HEALTHCHECK_CMD"):{data:"HEALTHCHECK_CMD",textEdit:this.createTextEdit(e,t,"HEALTHCHECK CMD"),label:"HEALTHCHECK CMD",kind:a.CompletionItemKind.Keyword,insertTextFormat:a.InsertTextFormat.PlainText}},DockerAssist.prototype.createHEALTHCHECK_CMD_Subcommand=function(e,t){return this.snippetSupport?this.createKeywordCompletionItem("CMD",'CMD [ "executable" ]',e,t,'CMD [ "${1:executable}" ]',"HEALTHCHECK_CMD"):{data:"HEALTHCHECK_CMD",textEdit:this.createTextEdit(e,t,"CMD"),label:"CMD",kind:a.CompletionItemKind.Keyword,insertTextFormat:a.InsertTextFormat.PlainText}},DockerAssist.prototype.createADD_FlagChown=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--chown=user:group",e,t,"--chown=${1:user:group}","ADD_FlagChown"):this.createFlagCompletionItem("--chown=",e,t,"--chown=","ADD_FlagChown")},DockerAssist.prototype.createCOPY_FlagChown=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--chown=user:group",e,t,"--chown=${1:user:group}","COPY_FlagChown"):this.createFlagCompletionItem("--chown=",e,t,"--chown=","COPY_FlagChown")},DockerAssist.prototype.createCOPY_FlagFrom=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--from=stage",e,t,"--from=${1:stage}","COPY_FlagFrom"):this.createFlagCompletionItem("--from=",e,t,"--from=","COPY_FlagFrom")},DockerAssist.prototype.createFROM_FlagPlatform=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--platform=arm64",e,t,"--platform=${1:arm64}","FROM_FlagPlatform"):this.createFlagCompletionItem("--platform=",e,t,"--platform=","FROM_FlagPlatform")},DockerAssist.prototype.createHEALTHCHECK_FlagInterval=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--interval=30s",e,t,"--interval=${1:30s}","HEALTHCHECK_FlagInterval"):this.createFlagCompletionItem("--interval=",e,t,"--interval=","HEALTHCHECK_FlagInterval")},DockerAssist.prototype.createHEALTHCHECK_FlagRetries=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--retries=3",e,t,"--retries=${1:3}","HEALTHCHECK_FlagRetries"):this.createFlagCompletionItem("--retries=",e,t,"--retries=","HEALTHCHECK_FlagRetries")},DockerAssist.prototype.createHEALTHCHECK_FlagStartPeriod=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--start-period=5s",e,t,"--start-period=${1:5s}","HEALTHCHECK_FlagStartPeriod"):this.createFlagCompletionItem("--start-period=",e,t,"--start-period=","HEALTHCHECK_FlagStartPeriod")},DockerAssist.prototype.createHEALTHCHECK_FlagTimeout=function(e,t){return this.snippetSupport?this.createFlagCompletionItem("--timeout=30s",e,t,"--timeout=${1:30s}","HEALTHCHECK_FlagTimeout"):this.createFlagCompletionItem("--timeout=",e,t,"--timeout=","HEALTHCHECK_FlagTimeout")},DockerAssist.prototype.createHEALTHCHECK_NONE=function(e,t){return this.createPlainTextCompletionItem("HEALTHCHECK NONE",e,t,"HEALTHCHECK NONE","HEALTHCHECK_NONE")},DockerAssist.prototype.createHEALTHCHECK_NONE_Subcommand=function(e,t){return this.createPlainTextCompletionItem("NONE",e,t,"NONE","HEALTHCHECK_NONE")},DockerAssist.prototype.createLABEL=function(e,t,n){return this.createKeywordCompletionItem("LABEL",'LABEL key="value"',e,t,'LABEL ${1:key}="${2:value}"',n)},DockerAssist.prototype.createMAINTAINER=function(e,t,n){var r=this.createKeywordCompletionItem("MAINTAINER","MAINTAINER name",e,t,"MAINTAINER ${1:name}",n);return void 0!==this.supportedTags&&this.supportedTags.length>0&&this.supportedTags.indexOf(a.CompletionItemTag.Deprecated)>=0&&(r.tags=[a.CompletionItemTag.Deprecated]),this.deprecatedSupport&&(r.deprecated=!0),r},DockerAssist.prototype.createONBUILD=function(e,t,n){return this.createKeywordCompletionItem("ONBUILD","ONBUILD INSTRUCTION",e,t,"ONBUILD ${1:INSTRUCTION}",n)},DockerAssist.prototype.createRUN=function(e,t,n){return this.createKeywordCompletionItem("RUN","RUN command",e,t,"RUN ${1:command}",n)},DockerAssist.prototype.createSHELL=function(e,t,n){return this.createKeywordCompletionItem("SHELL",'SHELL [ "executable" ]',e,t,'SHELL [ "${1:executable}" ]',n)},DockerAssist.prototype.createSTOPSIGNAL=function(e,t,n){return this.createKeywordCompletionItem("STOPSIGNAL","STOPSIGNAL signal",e,t,"STOPSIGNAL ${1:signal}",n)},DockerAssist.prototype.createUSER=function(e,t,n){return this.createKeywordCompletionItem("USER","USER daemon",e,t,"USER ${1:daemon}",n)},DockerAssist.prototype.createVOLUME=function(e,t,n){return this.createKeywordCompletionItem("VOLUME",'VOLUME [ "/data" ]',e,t,'VOLUME [ "${1:/data}" ]',n)},DockerAssist.prototype.createWORKDIR=function(e,t,n){return this.createKeywordCompletionItem("WORKDIR","WORKDIR /the/workdir/path",e,t,"WORKDIR ${1:/the/workdir/path}",n)},DockerAssist.prototype.createEscape=function(e,t,n){return this.createKeywordCompletionItem(s.Directive.escape,"escape=`",e,t,"escape=${1:`}",n)},DockerAssist.prototype.createSyntax=function(e,t,n){return this.createKeywordCompletionItem(s.Directive.syntax,"syntax=docker/dockerfile:experimental",e,t,"syntax=${1:docker/dockerfile:experimental}",n)},DockerAssist.prototype.createKeywordCompletionItem=function(e,t,n,r,i,o){return this.snippetSupport||(t=e,i=e),{data:o,textEdit:this.createTextEdit(n,r,i),label:t,kind:a.CompletionItemKind.Keyword,insertTextFormat:this.snippetSupport?a.InsertTextFormat.Snippet:a.InsertTextFormat.PlainText}},DockerAssist.prototype.createPlainTextCompletionItem=function(e,t,n,r,i){return{data:i,textEdit:this.createTextEdit(t,n,r),label:e,kind:a.CompletionItemKind.Keyword,insertTextFormat:a.InsertTextFormat.PlainText}},DockerAssist.prototype.createFlagCompletionItem=function(e,t,n,r,i){return{data:i,textEdit:this.createTextEdit(t,n,r),label:e,kind:a.CompletionItemKind.Field,insertTextFormat:this.snippetSupport?a.InsertTextFormat.Snippet:a.InsertTextFormat.PlainText}},DockerAssist.prototype.createSourceImageCompletionItem=function(e,t,n,r,i){return{textEdit:this.createTextEdit(r,i,e),label:e,documentation:t,kind:a.CompletionItemKind.Reference,insertTextFormat:a.InsertTextFormat.PlainText,sortText:n.toString()}},DockerAssist.prototype.createVariableCompletionItem=function(e,t,n,r,i){return e=r?"${"+e+"}":"$"+e,{textEdit:this.createTextEdit(t,n,e),label:e,kind:a.CompletionItemKind.Variable,insertTextFormat:a.InsertTextFormat.PlainText,documentation:i}},DockerAssist.prototype.createTextEdit=function(e,t,n){return 0===e?a.TextEdit.insert(this.document.positionAt(t),n):a.TextEdit.replace(a.Range.create(this.document.positionAt(t-e),this.document.positionAt(t)),n)},DockerAssist}();t.DockerAssist=c},1932:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerRegistryClient=void 0;var r=n(29),i=function(){function DockerRegistryClient(e){this.logger=e}return DockerRegistryClient.prototype.getTags=function(e,t){var n=this;return-1===e.indexOf("/")&&(e="library/"+e),this.requestToken(e).then((function(r){return null===r?[]:n.listTags(r.token,e).then((function(e){if(!t)return e.tags;for(var n=[],r=0,i=e.tags;r<i.length;r++){var a=i[r];0===a.indexOf(t)&&n.push(a)}return n}))}))},DockerRegistryClient.prototype.requestToken=function(e){var t=this;return this.performHttpsGet({hostname:"auth.docker.io",port:443,path:"/token?service=registry.docker.io&scope=repository:"+e+":pull",headers:{Accept:"application/json"}}).catch((function(e){return t.log(e),null}))},DockerRegistryClient.prototype.listTags=function(e,t){var n=this;return this.performHttpsGet({hostname:"registry-1.docker.io",port:443,path:"/v2/"+t+"/tags/list",headers:{Accept:"application/json",Authorization:"Bearer "+e}}).catch((function(e){return n.log(e),{tags:[]}}))},DockerRegistryClient.prototype.performHttpsGet=function(e){return new Promise((function(t,n){var i=r.get(e,(function(e){if(200!==e.statusCode){var r=new Error(e.statusMessage);r.statusCode=e.statusCode,n(r)}else{var i="";e.on("data",(function(e){i+=e})),e.on("end",(function(){t(JSON.parse(i))}))}}));i.end(),i.on("error",(function(e){n(e)}))}))},DockerRegistryClient.prototype.log=function(e){this.logger&&this.logger.log(e.toString())},DockerRegistryClient}();t.DockerRegistryClient=i},1933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerCommands=void 0;var r=n(25),i=n(312),a=n(895),o=function(){function DockerCommands(){}return DockerCommands.prototype.analyzeDiagnostics=function(e,t){for(var n=[],r=0;r<e.length;r++)switch("string"==typeof e[r].code&&(e[r].code=parseInt(e[r].code)),e[r].code){case i.ValidationCode.CASING_DIRECTIVE:n.push({title:"Convert directive to lowercase",command:a.CommandIds.LOWERCASE,arguments:[t,e[r].range]});break;case i.ValidationCode.CASING_INSTRUCTION:n.push({title:"Convert instruction to uppercase",command:a.CommandIds.UPPERCASE,arguments:[t,e[r].range]});break;case i.ValidationCode.ARGUMENT_EXTRA:n.push({title:"Remove extra argument",command:a.CommandIds.EXTRA_ARGUMENT,arguments:[t,e[r].range]});break;case i.ValidationCode.INVALID_ESCAPE_DIRECTIVE:n.push({title:"Convert to backslash",command:a.CommandIds.DIRECTIVE_TO_BACKSLASH,arguments:[t,e[r].range]}),n.push({title:"Convert to backtick",command:a.CommandIds.DIRECTIVE_TO_BACKTICK,arguments:[t,e[r].range]});break;case i.ValidationCode.INVALID_AS:n.push({title:"Convert to AS",command:a.CommandIds.CONVERT_TO_AS,arguments:[t,e[r].range]});break;case i.ValidationCode.UNKNOWN_HEALTHCHECK_FLAG:n.push({title:"Convert to --interval",command:a.CommandIds.FLAG_TO_HEALTHCHECK_INTERVAL,arguments:[t,e[r].range]}),n.push({title:"Convert to --retries",command:a.CommandIds.FLAG_TO_HEALTHCHECK_RETRIES,arguments:[t,e[r].range]}),n.push({title:"Convert to --start-period",command:a.CommandIds.FLAG_TO_HEALTHCHECK_START_PERIOD,arguments:[t,e[r].range]}),n.push({title:"Convert to --timeout",command:a.CommandIds.FLAG_TO_HEALTHCHECK_TIMEOUT,arguments:[t,e[r].range]});break;case i.ValidationCode.UNKNOWN_ADD_FLAG:n.push({title:"Convert to --chown",command:a.CommandIds.FLAG_TO_CHOWN,arguments:[t,e[r].range]});break;case i.ValidationCode.UNKNOWN_COPY_FLAG:n.push({title:"Convert to --chown",command:a.CommandIds.FLAG_TO_CHOWN,arguments:[t,e[r].range]}),n.push({title:"Convert to --from",command:a.CommandIds.FLAG_TO_COPY_FROM,arguments:[t,e[r].range]});break;case i.ValidationCode.EMPTY_CONTINUATION_LINE:e[r].range.start.line+1===e[r].range.end.line?n.push({title:"Remove empty continuation line",command:a.CommandIds.REMOVE_EMPTY_CONTINUATION_LINE,arguments:[t,e[r].range]}):n.push({title:"Remove empty continuation lines",command:a.CommandIds.REMOVE_EMPTY_CONTINUATION_LINE,arguments:[t,e[r].range]})}return n},DockerCommands.prototype.computeCommandEdits=function(e,t,n){var i=r.TextDocument.create("","",0,e),o=n[1];switch(t){case a.CommandIds.LOWERCASE:var s=i.getText().substring(i.offsetAt(o.start),i.offsetAt(o.end));return[r.TextEdit.replace(o,s.toLowerCase())];case a.CommandIds.UPPERCASE:var c=i.getText().substring(i.offsetAt(o.start),i.offsetAt(o.end));return[r.TextEdit.replace(o,c.toUpperCase())];case a.CommandIds.EXTRA_ARGUMENT:return[r.TextEdit.del(o)];case a.CommandIds.DIRECTIVE_TO_BACKSLASH:return[r.TextEdit.replace(o,"\\")];case a.CommandIds.DIRECTIVE_TO_BACKTICK:return[r.TextEdit.replace(o,"`")];case a.CommandIds.CONVERT_TO_AS:return[r.TextEdit.replace(o,"AS")];case a.CommandIds.FLAG_TO_CHOWN:return[r.TextEdit.replace(o,"--chown")];case a.CommandIds.FLAG_TO_HEALTHCHECK_INTERVAL:return[r.TextEdit.replace(o,"--interval")];case a.CommandIds.FLAG_TO_HEALTHCHECK_RETRIES:return[r.TextEdit.replace(o,"--retries")];case a.CommandIds.FLAG_TO_HEALTHCHECK_START_PERIOD:return[r.TextEdit.replace(o,"--start-period")];case a.CommandIds.FLAG_TO_HEALTHCHECK_TIMEOUT:return[r.TextEdit.replace(o,"--timeout")];case a.CommandIds.FLAG_TO_COPY_FROM:return[r.TextEdit.replace(o,"--from")];case a.CommandIds.REMOVE_EMPTY_CONTINUATION_LINE:return[r.TextEdit.del(o)]}return null},DockerCommands}();t.DockerCommands=o},1934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerFolding=void 0;var r=n(25),i=n(51),a=function(){function DockerFolding(){}return DockerFolding.prototype.createFoldingRange=function(e,t,n,i,a,o){return e?{startLine:t,endLine:n,kind:o}:r.FoldingRange.create(t,n,i,a,o)},DockerFolding.prototype.getLineLength=function(e,t){for(var n=e.getText(r.Range.create(t,0,t,r.uinteger.MAX_VALUE)),i=n.length,a=n.charAt(i-1);"\r"===a||"\n"===a;)i--,a=n.charAt(i-1);return i},DockerFolding.prototype.computeFoldingRanges=function(e,t,n){if(n<1)return[];for(var a=[],o=i.DockerfileParser.parse(e),s=r.TextDocument.create("","",0,e),c=0,u=o.getInstructions();c<u.length;c++){if((_=u[c].getRange()).start.line!==_.end.line){var l=this.getLineLength(s,_.start.line),g=this.getLineLength(s,_.end.line);if(a.push(this.createFoldingRange(t,_.start.line,_.end.line,l,g)),a.length===n)return a}}var d=o.getComments();if(d.length<2)return a;for(var h=!1,m=d[0].getRange(),f=r.Position.create(m.start.line+1,m.start.character),p=1;p<d.length;p++){var _;if((_=d[p].getRange()).start.line===f.line)f=r.Position.create(_.end.line+1,_.end.character),h=!0;else{if(h&&(a.push(this.createFoldingRange(t,m.start.line,f.line-1,m.end.character,f.character,r.FoldingRangeKind.Comment)),a.length===n))return a;m=_,f=r.Position.create(m.start.line+1,m.start.character),h=!1}}return h&&a.push(this.createFoldingRange(t,m.start.line,f.line-1,m.end.character,f.character,r.FoldingRangeKind.Comment)),a},DockerFolding}();t.DockerFolding=a},1935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerSymbols=void 0;var r=n(25),i=n(51),a=function(){function DockerSymbols(){}return DockerSymbols.prototype.createSymbolInformation=function(e,t,n,r,i){return i?{name:e,location:{uri:t,range:n},kind:r,deprecated:!0}:{name:e,location:{uri:t,range:n},kind:r}},DockerSymbols.prototype.parseSymbolInformation=function(e,t){for(var n=i.DockerfileParser.parse(t),a=[],o=0,s=n.getDirectives();o<s.length;o++){var c=s[o];a.push(this.createSymbolInformation(c.getName(),e.uri,c.getNameRange(),r.SymbolKind.Property,!1))}for(var u=0,l=n.getInstructions();u<l.length;u++){var g=l[u],d=g.getKeyword();a.push(this.createSymbolInformation(g.getInstruction(),e.uri,g.getInstructionRange(),r.SymbolKind.Function,d===i.Keyword.MAINTAINER))}return a},DockerSymbols}();t.DockerSymbols=a},1936:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerSignatures=void 0;var r=n(25),i=n(512),a=n(51),o=n(150),s=function(){function DockerSignatures(){this.documentation=new i.PlainTextDocumentation}return DockerSignatures.prototype.computeSignatures=function(e,t){var n=r.TextDocument.create("","",0,e),i=a.DockerfileParser.parse(n.getText());if(0===t.line){var s=i.getDirective();if(null!==s&&s.getDirective()===a.Directive.escape)return{signatures:[{label:"escape=\\",documentation:this.documentation.getDocumentation("signatureEscape"),parameters:[{label:"\\",documentation:this.documentation.getDocumentation("signatureEscape_Param")}]}],activeSignature:0,activeParameter:0}}for(var c=0,u=i.getComments();c<u.length;c++){var l=u[c];if(o.Util.isInsideRange(t,l.getRange()))return{signatures:[],activeSignature:null,activeParameter:null}}var g=this.getInstructionSignatures(n,i.getOnbuildTriggers(),t);return g||(g=this.getInstructionSignatures(n,i.getInstructions(),t))||(g={signatures:[],activeSignature:null,activeParameter:null}),g},DockerSignatures.prototype.getInstructionSignatures=function(e,t,n){for(var r=0,i=t;r<i.length;r++){var a=i[r];if(o.Util.isInsideRange(n,a.getRange())){if(o.Util.isInsideRange(n,a.getInstructionRange()))return null;switch(a.getKeyword()){case"ADD":var s=a,c={label:"ADD [flags] source ... dest",documentation:this.documentation.getDocumentation("signatureAdd_Signature0"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureAdd_Signature0_Param0")},{label:"source",documentation:this.documentation.getDocumentation("signatureAdd_Signature0_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureAdd_Signature0_Param2")},{label:"dest",documentation:this.documentation.getDocumentation("signatureAdd_Signature0_Param3")}]},u={label:'ADD [flags] [ "source", ..., "dest" ]',documentation:this.documentation.getDocumentation("signatureAdd_Signature1"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureAdd_Signature1_Param0")},{label:"["},{label:'"source"',documentation:this.documentation.getDocumentation("signatureAdd_Signature1_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureAdd_Signature1_Param3")},{label:'"dest"',documentation:this.documentation.getDocumentation("signatureAdd_Signature1_Param4")},{label:"]"}]};return this.getJSONInstructionSignatureHelp(e,s,n,[u],c,!0,!1,!1,!1);case"ARG":var l={signatures:[{label:"ARG name",documentation:this.documentation.getDocumentation("signatureArg_Signature0"),parameters:[{label:"name",documentation:this.documentation.getDocumentation("signatureArg_Signature0_Param")}]},{label:"ARG name=defaultValue",documentation:this.documentation.getDocumentation("signatureArg_Signature1"),parameters:[{label:"name",documentation:this.documentation.getDocumentation("signatureArg_Signature1_Param0")},{label:"defaultValue",documentation:this.documentation.getDocumentation("signatureArg_Signature1_Param1")}]}],activeSignature:0,activeParameter:0},g=a.getTextContent().indexOf("=");return-1!==g&&(l={signatures:[{label:"ARG name=defaultValue",documentation:this.documentation.getDocumentation("signatureArg_Signature1"),parameters:[{label:"name",documentation:this.documentation.getDocumentation("signatureArg_Signature1_Param0")},{label:"defaultValue",documentation:this.documentation.getDocumentation("signatureArg_Signature1_Param1")}]}],activeSignature:0,activeParameter:0},e.offsetAt(n)>e.offsetAt(a.getRange().start)+g&&(l.activeParameter=1)),l;case"CMD":var d=a,h={label:'CMD [ "executable", "parameter", ... ]',documentation:this.documentation.getDocumentation("signatureCmd_Signature0"),parameters:[{label:"["},{label:'"executable"',documentation:this.documentation.getDocumentation("signatureCmd_Signature0_Param1")},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureCmd_Signature0_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureCmd_Signature0_Param3")},{label:"]"}]},m={label:'CMD [ "parameter", "parameter2", ... ]',documentation:this.documentation.getDocumentation("signatureCmd_Signature1"),parameters:[{label:"["},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureCmd_Signature1_Param1")},{label:'"parameter2"',documentation:this.documentation.getDocumentation("signatureCmd_Signature1_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureCmd_Signature1_Param3")},{label:"]"}]},f={label:"CMD executable parameter ...",documentation:this.documentation.getDocumentation("signatureCmd_Signature2"),parameters:[{label:"executable",documentation:this.documentation.getDocumentation("signatureCmd_Signature2_Param0")},{label:"parameter",documentation:this.documentation.getDocumentation("signatureCmd_Signature2_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureCmd_Signature2_Param2")}]};return this.getJSONInstructionSignatureHelp(e,d,n,[h,m],f,!1,!0,!1,!0);case"COPY":var p=a,_=p.getFromFlag();if(null!==_)if(null!==(O=_.getValueRange())&&o.Util.isInsideRange(n,O))return{signatures:[{label:"--from=stage",documentation:this.documentation.getDocumentation("signatureCopyFlagFrom"),parameters:[{label:"stage",documentation:this.documentation.getDocumentation("signatureCopyFlagFrom_Param")}]}],activeSignature:0,activeParameter:0};var R={label:"COPY [flags] source ... dest",documentation:this.documentation.getDocumentation("signatureCopy_Signature0"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureCopy_Signature0_Param0")},{label:"source",documentation:this.documentation.getDocumentation("signatureCopy_Signature0_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureCopy_Signature0_Param2")},{label:"dest",documentation:this.documentation.getDocumentation("signatureCopy_Signature0_Param3")}]},v={label:'COPY [flags] [ "source", ..., "dest" ]',documentation:this.documentation.getDocumentation("signatureCopy_Signature1"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureCopy_Signature1_Param0")},{label:"["},{label:'"source"',documentation:this.documentation.getDocumentation("signatureCopy_Signature1_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureCopy_Signature1_Param3")},{label:'"dest"',documentation:this.documentation.getDocumentation("signatureCopy_Signature1_Param4")},{label:"]"}]};return this.getJSONInstructionSignatureHelp(e,p,n,[v],R,!0,!1,!1,!1);case"ENTRYPOINT":var S=a,k={label:'ENTRYPOINT [ "executable", "parameter", ... ]',documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature0"),parameters:[{label:"["},{label:'"executable"',documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature0_Param1")},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature0_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature0_Param3")},{label:"]"}]},y={label:"ENTRYPOINT executable parameter ...",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature1"),parameters:[{label:"executable",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature1_Param0")},{label:"parameter",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature1_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureEntrypoint_Signature1_Param2")}]};return this.getJSONInstructionSignatureHelp(e,S,n,[k],y,!1,!0,!1,!0);case"ENV":var D=[{label:"ENV key value",documentation:this.documentation.getDocumentation("signatureEnv_Signature0"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureEnv_Signature0_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureEnv_Signature0_Param1")}]},{label:"ENV key=value",documentation:this.documentation.getDocumentation("signatureEnv_Signature1"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureEnv_Signature1_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureEnv_Signature1_Param1")}]},{label:"ENV key=value key2=value2",documentation:this.documentation.getDocumentation("signatureEnv_Signature2"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureEnv_Signature2_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureEnv_Signature2_Param1")},{label:"key2",documentation:this.documentation.getDocumentation("signatureEnv_Signature2_Param2")},{label:"value2",documentation:this.documentation.getDocumentation("signatureEnv_Signature2_Param3")}]}];return this.getPropertySignatureHelp(e,n,D,a.getProperties());case"EXPOSE":var b={signatures:[{label:"EXPOSE port ...",documentation:this.documentation.getDocumentation("signatureExpose"),parameters:[{label:"port",documentation:this.documentation.getDocumentation("signatureExpose_Param0")},{label:"...",documentation:this.documentation.getDocumentation("signatureExpose_Param1")}]}],activeSignature:0,activeParameter:0},T=a.getArguments();return T.length>0&&e.offsetAt(n)>e.offsetAt(T[0].getRange().end)&&(b.activeParameter=1),b;case"FROM":return this.getFromSignatureHelp(n,a);case"HEALTHCHECK":for(var C={label:"HEALTHCHECK [flags] CMD ...",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature0"),parameters:[{label:"CMD"}]},A={label:"HEALTHCHECK [flags] CMD ...",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature1"),parameters:[{label:"[flags]",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature1_Param0")},{label:"CMD"},{label:"...",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature1_Param2")}]},E={label:"HEALTHCHECK NONE",documentation:this.documentation.getDocumentation("signatureHealthcheck_Signature2"),parameters:[{label:"NONE"}]},P=a,I=P.getFlags(),N=0,M=I;N<M.length;N++){var O,w=M[N];if(null!==(O=w.getValueRange())&&o.Util.isInsideRange(n,O)){switch(w.getName()){case"interval":return{signatures:[{label:"HEALTHCHECK --interval=30s ...",documentation:this.documentation.getDocumentation("signatureHealthcheck"),parameters:[{label:"30s",documentation:this.documentation.getDocumentation("signatureHealthcheckFlagInterval_Param")}]}],activeSignature:0,activeParameter:0};case"retries":return{signatures:[{label:"HEALTHCHECK --retries=3 ...",documentation:this.documentation.getDocumentation("signatureHealthcheck"),parameters:[{label:"3",documentation:this.documentation.getDocumentation("signatureHealthcheckFlagRetries_Param")}]}],activeSignature:0,activeParameter:0};case"start-period":return{signatures:[{label:"HEALTHCHECK --start-period=5s ...",documentation:this.documentation.getDocumentation("signatureHealthcheck"),parameters:[{label:"5s",documentation:this.documentation.getDocumentation("signatureHealthcheckFlagStartPeriod_Param")}]}],activeSignature:0,activeParameter:0};case"timeout":return{signatures:[{label:"HEALTHCHECK --timeout=30s ...",documentation:this.documentation.getDocumentation("signatureHealthcheck"),parameters:[{label:"30s",documentation:this.documentation.getDocumentation("signatureHealthcheckFlagTimeout_Param")}]}],activeSignature:0,activeParameter:0}}break}}var x=P.getArguments();if(0==I.length&&0===x.length)return{signatures:[C,E],activeSignature:0,activeParameter:0};var F=P.getSubcommand();if(null===F)return{signatures:[A],activeSignature:0,activeParameter:0};var L=F.isBefore(n),V=F.isAfter(n),U=F.getValue();return 0==="NONE".indexOf(U.toUpperCase())?L?null:{signatures:[E],activeSignature:0,activeParameter:0}:{signatures:[A],activeSignature:0,activeParameter:L?2:V?0:1};case"LABEL":var H=[{label:"LABEL key value",documentation:this.documentation.getDocumentation("signatureLabel_Signature0"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureLabel_Signature0_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureLabel_Signature0_Param1")}]},{label:"LABEL key=value",documentation:this.documentation.getDocumentation("signatureLabel_Signature1"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureLabel_Signature1_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureLabel_Signature1_Param1")}]},{label:"LABEL key=value key2=value2",documentation:this.documentation.getDocumentation("signatureLabel_Signature2"),parameters:[{label:"key",documentation:this.documentation.getDocumentation("signatureLabel_Signature2_Param0")},{label:"value",documentation:this.documentation.getDocumentation("signatureLabel_Signature2_Param1")},{label:"key2",documentation:this.documentation.getDocumentation("signatureLabel_Signature2_Param2")},{label:"value2",documentation:this.documentation.getDocumentation("signatureLabel_Signature2_Param3")}]}];return this.getPropertySignatureHelp(e,n,H,a.getProperties());case"MAINTAINER":return{signatures:[{label:"MAINTAINER name",documentation:this.documentation.getDocumentation("signatureMaintainer"),parameters:[{label:"name",documentation:this.documentation.getDocumentation("signatureMaintainer_Param")}]}],activeSignature:0,activeParameter:0};case"ONBUILD":var q=a.getArguments();return q.length>0&&q[0].isBefore(n)?null:{signatures:[{label:"ONBUILD INSTRUCTION",documentation:this.documentation.getDocumentation("signatureOnbuild"),parameters:[{label:"INSTRUCTION",documentation:this.documentation.getDocumentation("signatureOnbuild_Param")}]}],activeSignature:0,activeParameter:0};case"RUN":var W=a,j={label:"RUN command parameter ...",documentation:this.documentation.getDocumentation("signatureRun_Signature0"),parameters:[{label:"command",documentation:this.documentation.getDocumentation("signatureRun_Signature0_Param0")},{label:"parameter",documentation:this.documentation.getDocumentation("signatureRun_Signature0_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureRun_Signature0_Param2")}]},K={label:'RUN [ "command", "parameter", ... ]',documentation:this.documentation.getDocumentation("signatureRun_Signature1"),parameters:[{label:"["},{label:'"command"',documentation:this.documentation.getDocumentation("signatureRun_Signature1_Param1")},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureRun_Signature1_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureRun_Signature1_Param3")},{label:"]"}]};return this.getJSONInstructionSignatureHelp(e,W,n,[K],j,!1,!1,!1,!0);case"SHELL":var G=a,B={signatures:[{label:'SHELL [ "executable", "parameter", ... ]',documentation:this.documentation.getDocumentation("signatureShell"),parameters:[{label:"["},{label:'"executable"',documentation:this.documentation.getDocumentation("signatureShell_Param1")},{label:'"parameter"',documentation:this.documentation.getDocumentation("signatureShell_Param2")},{label:"...",documentation:this.documentation.getDocumentation("signatureShell_Param3")},{label:"]"}]}],activeSignature:0,activeParameter:null};return B.activeParameter=this.getJSONSignatureActiveParameter(e,G,n,!1,!1,!0),-1===B.activeParameter?null:B;case"STOPSIGNAL":return{signatures:[{label:"STOPSIGNAL signal",documentation:this.documentation.getDocumentation("signatureStopsignal"),parameters:[{label:"signal",documentation:this.documentation.getDocumentation("signatureStopsignal_Param")}]}],activeSignature:0,activeParameter:0};case"USER":var $={signatures:[{label:"USER user",documentation:this.documentation.getDocumentation("signatureUser_Signature0"),parameters:[{label:"user",documentation:this.documentation.getDocumentation("signatureUser_Signature0_Param")}]},{label:"USER user:group",documentation:this.documentation.getDocumentation("signatureUser_Signature1"),parameters:[{label:"user",documentation:this.documentation.getDocumentation("signatureUser_Signature1_Param0")},{label:"group",documentation:this.documentation.getDocumentation("signatureUser_Signature1_Param1")}]},{label:"USER uid",documentation:this.documentation.getDocumentation("signatureUser_Signature2"),parameters:[{label:"uid",documentation:this.documentation.getDocumentation("signatureUser_Signature2_Param")}]},{label:"USER uid:gid",documentation:this.documentation.getDocumentation("signatureUser_Signature3"),parameters:[{label:"uid",documentation:this.documentation.getDocumentation("signatureUser_Signature3_Param0")},{label:"gid",documentation:this.documentation.getDocumentation("signatureUser_Signature3_Param1")}]}],activeSignature:0,activeParameter:0},Y=a.getTextContent().indexOf(":");return-1!==Y&&($={signatures:[{label:"USER user:group",documentation:this.documentation.getDocumentation("signatureUser_Signature1"),parameters:[{label:"user",documentation:this.documentation.getDocumentation("signatureUser_Signature1_Param0")},{label:"group",documentation:this.documentation.getDocumentation("signatureUser_Signature1_Param1")}]},{label:"USER uid:gid",documentation:this.documentation.getDocumentation("signatureUser_Signature3"),parameters:[{label:"uid",documentation:this.documentation.getDocumentation("signatureUser_Signature3_Param0")},{label:"gid",documentation:this.documentation.getDocumentation("signatureUser_Signature3_Param1")}]}],activeSignature:0,activeParameter:0},e.offsetAt(n)>e.offsetAt(a.getRange().start)+Y&&($.activeParameter=1)),$;case"VOLUME":var J=a,z={label:'VOLUME [ "/vol", ... ]',documentation:this.documentation.getDocumentation("signatureVolume_Signature1"),parameters:[{label:"["},{label:'"/vol"',documentation:this.documentation.getDocumentation("signatureVolume_Signature1_Param1")},{label:"...",documentation:this.documentation.getDocumentation("signatureVolume_Signature1_Param2")},{label:"]"}]},Q={label:"VOLUME /vol ...",documentation:this.documentation.getDocumentation("signatureVolume_Signature0"),parameters:[{label:"/vol",documentation:this.documentation.getDocumentation("signatureVolume_Signature0_Param0")},{label:"...",documentation:this.documentation.getDocumentation("signatureVolume_Signature0_Param1")}]};return this.getJSONInstructionSignatureHelp(e,J,n,[z],Q,!1,!0,!0,!0);case"WORKDIR":return{signatures:[{label:"WORKDIR /the/workdir/path",documentation:this.documentation.getDocumentation("signatureWorkdir"),parameters:[{label:"/the/workdir/path",documentation:this.documentation.getDocumentation("signatureWorkdir_Param")}]}],activeSignature:0,activeParameter:0}}}}return null},DockerSignatures.prototype.getFromSignatureHelp=function(e,t){var n=[{label:"FROM baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature0"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature0_Param")}]},{label:"FROM baseImage:tag",documentation:this.documentation.getDocumentation("signatureFrom_Signature1"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature1_Param0")},{label:"tag",documentation:this.documentation.getDocumentation("signatureFrom_Signature1_Param1")}]},{label:"FROM baseImage@digest",documentation:this.documentation.getDocumentation("signatureFrom_Signature2"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature2_Param0")},{label:"digest",documentation:this.documentation.getDocumentation("signatureFrom_Signature2_Param1")}]},{label:"FROM baseImage AS stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature3"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature3_Param0")},{label:""},{label:"AS"},{label:"stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature3_Param2")}]},{label:"FROM baseImage:tag AS stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature4"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature4_Param0")},{label:"tag",documentation:this.documentation.getDocumentation("signatureFrom_Signature4_Param1")},{label:"AS"},{label:"stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature4_Param3")}]},{label:"FROM baseImage@digest AS stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature5"),parameters:[{label:"baseImage",documentation:this.documentation.getDocumentation("signatureFrom_Signature5_Param0")},{label:"digest",documentation:this.documentation.getDocumentation("signatureFrom_Signature5_Param1")},{label:"AS"},{label:"stage",documentation:this.documentation.getDocumentation("signatureFrom_Signature5_Param3")}]}],r=t.getArguments();if(r.length>=3&&r[2].isBefore(e))return null;if(0===r.length)return{signatures:n,activeSignature:0,activeParameter:0};var i=r[0].getValue(),a=-1!==i.indexOf("@"),o=!a&&-1!==i.indexOf(":"),s=r.length>1||r[0].isBefore(e);return{signatures:this.getFromSignatures(n,o,a,s),activeSignature:0,activeParameter:this.getFromActiveParameter(e,t,o,a,r)}},DockerSignatures.prototype.getFromSignatures=function(e,t,n,r){return n?r?[e[5]]:[e[2],e[5]]:t?r?[e[4]]:[e[1],e[4]]:r?[e[3],e[4],e[5]]:e},DockerSignatures.prototype.getFromActiveParameter=function(e,t,n,r,i){var a=n&&o.Util.isInsideRange(e,t.getImageTagRange()),s=r&&o.Util.isInsideRange(e,t.getImageDigestRange());if(1===i.length){if(i[0].isBefore(e))return 2}else if(2===i.length){if(i[1].isBefore(e))return 3;if(o.Util.isInsideRange(e,i[1].getRange())||i[0].isBefore(e))return 2}else{if(o.Util.isInsideRange(e,i[2].getRange())||i[1].isBefore(e))return 3;if(o.Util.isInsideRange(e,i[1].getRange())||i[0].isBefore(e))return 2}return a||s?1:0},DockerSignatures.prototype.getJSONInstructionSignatureHelp=function(e,t,n,r,i,a,o,s,c){var u=this.getJSONSignatureActiveParameter(e,t,n,a,s,c);return-1===u?{signatures:[i],activeSignature:0,activeParameter:u=this.getSignatureActiveParameter(t,n,a,s?1:2,c)}:0===u?o?(r.push(i),{signatures:r,activeSignature:0,activeParameter:0}):(r.unshift(i),{signatures:r,activeSignature:0,activeParameter:0}):1===u&&a?o?(r.push(i),{signatures:r,activeSignature:0,activeParameter:1}):(r.unshift(i),{signatures:r,activeSignature:0,activeParameter:1}):{signatures:r,activeSignature:0,activeParameter:u}},DockerSignatures.prototype.getJSONSignatureActiveParameter=function(e,t,n,r,i,a){var s=r?1:0;if(r){var c=t.getFlags();if(c.length>0){var u=c[c.length-1].getRange().end;if(o.Util.positionBefore(n,u)||o.Util.positionEquals(n,u))return 0}}var l=t.getClosingBracket();if(l){if((m=l.getRange()).end.line===n.line&&m.end.character===n.character)return i?3+s:4+s;if(l.isBefore(n))return-1}var g=t.getJSONStrings();if(!i&&g.length>1&&g[1].isBefore(n))return 2===g.length||a||o.Util.isInsideRange(n,g[g.length-1].getRange())?3+s:2+s;if(g.length>0&&g[0].isBefore(n)){if(g.length>2)return 2+s;var d=e.offsetAt(g[0].getRange().end),h=e.offsetAt(n);return-1===e.getText().substring(d,h).indexOf(",")?1+s:a?2+s:3+s}var m,f=t.getOpeningBracket();return f?(m=f.getRange()).end.line===n.line&&m.end.character===n.character||f.isBefore(n)?1+s:0+s:0===t.getArguments().length?0+s:-1},DockerSignatures.prototype.getSignatureActiveParameter=function(e,t,n,r,i){var a=n?1:0,s=e.getArguments();if(i)for(var c=s.length-1;c>=0;c--){if(s[c].isBefore(t))return Math.min(c+1,r)+a;if(o.Util.isInsideRange(t,s[c].getRange()))return Math.min(c,r)+a}switch(s.length){case 1:return s[0].isBefore(t)?2+a:0+a;default:return s[s.length-1].isBefore(t)||o.Util.isInsideRange(t,s[s.length-1].getRange())?2+a:s[0].isBefore(t)?1+a:0+a}},DockerSignatures.prototype.getPropertySignatureHelp=function(e,t,n,r){return{signatures:this.getPropertySignatures(e,t,n,r),activeSignature:0,activeParameter:this.getPropertySignatureActiveParameter(e,t,r)}},DockerSignatures.prototype.getPropertySignatures=function(e,t,n,r){if(0===r.length)return n;if(1!==r.length)return[n[2]];var i=r[0].getValueRange();return null===i?DockerSignatures.isNameBefore(r[0],t)?[n[0]]:n:-1===e.getText().substring(e.offsetAt(r[0].getNameRange().end),e.offsetAt(i.start)).indexOf("=")?[n[0]]:DockerSignatures.isValueBefore(r[0],t)?[n[2]]:[n[1],n[2]]},DockerSignatures.prototype.getPropertySignatureActiveParameter=function(e,t,n){if(0===n.length)return 0;for(var r=n.length-1;r>0;r--){if(DockerSignatures.isInValue(n[r],t))return 3;if(DockerSignatures.isNameBefore(n[r],t)||DockerSignatures.isInName(n[r],t))return 2}return DockerSignatures.isInValue(n[0],t)?1:DockerSignatures.isValueBefore(n[0],t)?-1===e.getText().substring(e.offsetAt(n[0].getNameRange().end),e.offsetAt(n[0].getValueRange().start)).indexOf("=")?1:2:DockerSignatures.isNameBefore(n[0],t)?1:0},DockerSignatures.isInName=function(e,t){return o.Util.isInsideRange(t,e.getNameRange())},DockerSignatures.isNameBefore=function(e,t){var n=e.getNameRange();return!DockerSignatures.isInName(e,t)&&(n.start.line<t.line||n.start.line===t.line&&n.end.character<t.character)},DockerSignatures.isInValue=function(e,t){var n=e.getValueRange();return!!n&&o.Util.isInsideRange(t,n)},DockerSignatures.isValueBefore=function(e,t){var n=e.getValueRange();return null!==n&&(n.start.line<t.line||n.start.line===t.line&&(n.start.line===n.end.line?n.end.character<t.character:n.start.character<t.character))},DockerSignatures}();t.DockerSignatures=s},1937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerLinks=void 0;var r=n(51),i=function(){function DockerLinks(){}return DockerLinks.prototype.getLinks=function(e){for(var t=r.DockerfileParser.parse(e),n=[],i=t.getFROMs().reduce((function(e,t){var n=t.getBuildStage();return null!==n&&e.push(n),e}),[]),a=0,o=t.getFROMs();a<o.length;a++){var s=o[a],c=s.getImageName();null!==c&&-1===i.indexOf(c)&&(-1===c.indexOf("/")?n.push({range:s.getImageNameRange(),data:"_/"+c+"/"}):n.push({range:s.getImageNameRange(),data:"r/"+c+"/"}))}return n},DockerLinks.prototype.resolveLink=function(e){return e.data&&(e.target="https://hub.docker.com/"+e.data),e},DockerLinks}();t.DockerLinks=i},1938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerRename=void 0;var r=n(25),i=n(51),a=n(897),o=n(150),s=function(){function DockerRename(){}return DockerRename.prototype.prepareRename=function(e,t){for(var n=i.DockerfileParser.parse(e),r=n.getContainingImage(t),a=0,s=n.getCOPYs();a<s.length;a++){var c=s[a].getFromFlag();if(c){var u=c.getValueRange();if(o.Util.isInsideRange(t,u))return u}}for(var l=0,g=r.getFROMs();l<g.length;l++){var d=g[l];if(o.Util.isInsideRange(t,d.getBuildStageRange()))return d.getBuildStageRange()}for(var h=0,m=r.getENVs();h<m.length;h++)for(var f=0,p=m[h].getProperties();f<p.length;f++){var _=p[f];if(o.Util.isInsideRange(t,_.getNameRange()))return _.getNameRange()}for(var R=0,v=r.getARGs();R<v.length;R++){if(null!==(_=v[R].getProperty())&&o.Util.isInsideRange(t,_.getNameRange()))return _.getNameRange()}for(var S=0,k=r.getInstructions();S<k.length;S++)for(var y=0,D=k[S].getVariables();y<D.length;y++){var b=D[y];if(o.Util.isInsideRange(t,b.getNameRange()))return b.getNameRange()}return null},DockerRename.prototype.rename=function(e,t,n,i){for(var o=[],s=0,c=(new a.DockerHighlight).computeHighlightRanges(t,n);s<c.length;s++){var u=c[s];o.push(r.TextEdit.replace(u.range,i))}return o},DockerRename}();t.DockerRename=s},1939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerHover=void 0;var r=n(25),i=n(51),a=n(150),o=function(){function DockerHover(e,t){this.markdown=e,this.plainText=t}return DockerHover.prototype.onHover=function(e,t,n){var o=i.DockerfileParser.parse(e),s=o.getContainingImage(t);if(!s)return null;var c=this.computeHoverKey(o,t);if(c){if(n&&n.length>0){switch(n[0]){case r.MarkupKind.Markdown:var u=this.markdown.getMarkdown(c);return u?{contents:{kind:r.MarkupKind.Markdown,value:u.contents}}:null;case r.MarkupKind.PlainText:var l=this.plainText.getDocumentation(c);if(l)return{contents:{kind:r.MarkupKind.PlainText,value:l}}}return null}return this.markdown.getMarkdown(c)}for(var g=0,d=s.getInstructions();g<d.length;g++){if((R=d[g])instanceof i.Arg)if((f=R.getProperty())&&a.Util.isInsideRange(t,f.getNameRange())&&null!==f.getValue())return{contents:f.getValue()};if(R instanceof i.Env)for(var h=0,m=R.getProperties();h<m.length;h++){var f=m[h];if(a.Util.isInsideRange(t,f.getNameRange())&&null!==f.getValue())return{contents:f.getValue()}}}for(var p=0,_=s.getInstructions();p<_.length;p++)for(var R,v=0,S=(R=_[p]).getVariables();v<S.length;v++){var k=S[v];if(a.Util.isInsideRange(t,k.getNameRange())){var y=o.resolveVariable(k.getName(),k.getNameRange().start.line);if(y||""===y)return{contents:y};if(null===y)return null}}return null},DockerHover.prototype.computeHoverKey=function(e,t){for(var n=0,r=e.getDirectives();n<r.length;n++){var o=r[n],s=o.getNameRange();switch(o.getDirective()){case i.Directive.escape:if(a.Util.isInsideRange(t,s))return i.Directive.escape;break;case i.Directive.syntax:if(a.Util.isInsideRange(t,s))return i.Directive.syntax}}for(var c=0,u=e.getContainingImage(t).getInstructions();c<u.length;c++){var l=u[c],g=l.getInstructionRange();if(a.Util.isInsideRange(t,g))return l.getKeyword();if(l instanceof i.Onbuild){s=l.getTriggerRange();if(a.Util.isInsideRange(t,s))return l.getTrigger()}var d=this.getFlagsHover(t,l);if(null!==d)return d}return null},DockerHover.prototype.getFlagsHover=function(e,t){switch(t.getKeyword()){case"ADD":for(var n=0,r=t.getFlags();n<r.length;n++){var i=r[n];if(a.Util.isInsideRange(e,i.getNameRange()))switch(i.getName()){case"chown":return"ADD_FlagChown"}}break;case"COPY":for(var o=0,s=t.getFlags();o<s.length;o++){i=s[o];if(a.Util.isInsideRange(e,i.getNameRange()))switch(i.getName()){case"chown":return"COPY_FlagChown";case"from":return"COPY_FlagFrom"}}break;case"FROM":for(var c=0,u=t.getFlags();c<u.length;c++){i=u[c];if(a.Util.isInsideRange(e,i.getNameRange()))return"platform"===i.getName()?"FROM_FlagPlatform":null}break;case"HEALTHCHECK":for(var l=0,g=t.getFlags();l<g.length;l++){i=g[l];if(a.Util.isInsideRange(e,i.getNameRange())){switch(i.getName()){case"interval":return"HEALTHCHECK_FlagInterval";case"retries":return"HEALTHCHECK_FlagRetries";case"start-period":return"HEALTHCHECK_FlagStartPeriod";case"timeout":return"HEALTHCHECK_FlagTimeout"}return null}}break;case"ONBUILD":var d=t.getTriggerInstruction();if(null!==d)return this.getFlagsHover(e,d)}return null},DockerHover}();t.DockerHover=o},1940:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerFormatter=void 0;var r=n(25),i=n(51),a=function(){function DockerFormatter(){}return DockerFormatter.prototype.getIndentation=function(e){var t="\t";if(e&&e.insertSpaces){t="";for(var n=0;n<e.tabSize;n++)t+=" "}return t},DockerFormatter.prototype.createFormattingEdit=function(e,t,n,i,a){return i?r.TextEdit.replace({start:e.positionAt(t),end:e.positionAt(n)},a):r.TextEdit.del({start:e.positionAt(t),end:e.positionAt(n)})},DockerFormatter.prototype.formatOnType=function(e,t,n,a){var o=i.DockerfileParser.parse(e);if(o.getEscapeCharacter()===n){for(var s=0,c=o.getComments();s<c.length;s++){if(c[s].getRange().start.line===t.line)return[]}if(o.getDirective()&&0===t.line)return[];var u=r.TextDocument.create("","",0,e);e:for(var l=u.offsetAt(t);l<e.length;l++)switch(e.charAt(l)){case" ":case"\t":break;case"\r":case"\n":break e;default:return[]}var g=[t.line+1],d=[];return d[g[0]]=!0,this.formatLines(u,u.getText(),g,d,a)}return[]},DockerFormatter.prototype.formatRange=function(e,t,n){for(var r=[],i=t.start.line;i<=t.end.line;i++)r.push(i);return this.format(e,r,n)},DockerFormatter.prototype.format=function(e,t,n){for(var a=r.TextDocument.create("","",0,e),o=i.DockerfileParser.parse(e),s=[],c=0;c<a.lineCount;c++)s[c]=!1;for(var u=0,l=o.getInstructions();u<l.length;u++){var g=l[u].getRange();s[g.start.line]=!1;for(c=g.start.line+1;c<=g.end.line;c++)s[c]=!0}return this.formatLines(a,e,t,s,n)},DockerFormatter.prototype.formatLines=function(e,t,n,i,a){var o=this.getIndentation(a),s=[];e:for(var c=0,u=n;c<u.length;c++){for(var l=u[c],g=e.offsetAt(r.Position.create(l,0)),d=g;d<t.length;d++)switch(t.charAt(d)){case" ":case"\t":break;case"\r":case"\n":if(d!==g){var h=r.TextEdit.del({start:e.positionAt(g),end:e.positionAt(d)});s.push(h)}continue e;default:if(d!==g||i[l]){h=this.createFormattingEdit(e,g,d,i[l],o);s.push(h)}continue e}if(g<t.length){h=r.TextEdit.del({start:e.positionAt(g),end:e.positionAt(t.length)});s.push(h)}}return s},DockerFormatter}();t.DockerFormatter=a},1941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerCompletion=void 0;var r=n(25),i=n(898),a=n(512),o=function(){function DockerCompletion(){this.dockerMarkdown=new i.MarkdownDocumentation,this.dockerPlainText=new a.PlainTextDocumentation}return DockerCompletion.prototype.resolveCompletionItem=function(e,t){if(!e.documentation&&e.data)if(null==t)e.documentation=this.dockerPlainText.getDocumentation(e.data);else{for(var n=0,i=t;n<i.length;n++){var a=i[n];if(a===r.MarkupKind.PlainText)return e.documentation={kind:r.MarkupKind.PlainText,value:this.dockerPlainText.getDocumentation(e.data)},e;if(a===r.MarkupKind.Markdown)return e.documentation={kind:r.MarkupKind.Markdown,value:this.dockerMarkdown.getMarkdown(e.data).contents},e}e.documentation=this.dockerPlainText.getDocumentation(e.data)}return e},DockerCompletion}();t.DockerCompletion=o},1942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerSemanticTokens=t.TokensLegend=void 0;var r=n(21),i=n(51),a=n(25),o=n(150),s=function(){function TokensLegend(){}return TokensLegend.init=function(){this.tokenTypes[r.SemanticTokenTypes.keyword]=0,this.tokenTypes[r.SemanticTokenTypes.comment]=1,this.tokenTypes[r.SemanticTokenTypes.parameter]=2,this.tokenTypes[r.SemanticTokenTypes.property]=3,this.tokenTypes[r.SemanticTokenTypes.namespace]=4,this.tokenTypes[r.SemanticTokenTypes.class]=5,this.tokenTypes[r.SemanticTokenTypes.macro]=6,this.tokenTypes[r.SemanticTokenTypes.string]=7,this.tokenTypes[r.SemanticTokenTypes.variable]=8,this.tokenTypes[r.SemanticTokenTypes.operator]=9,this.tokenModifiers[r.SemanticTokenModifiers.declaration]=1,this.tokenModifiers[r.SemanticTokenModifiers.definition]=2,this.tokenModifiers[r.SemanticTokenModifiers.deprecated]=4},TokensLegend.getTokenType=function(e){return this.tokenTypes[e]},TokensLegend.getTokenModifiers=function(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n];t|=this.tokenModifiers[i]}return t},TokensLegend.tokenTypes={},TokensLegend.tokenModifiers={},TokensLegend}();t.TokensLegend=s,s.init();var c=function(){function DockerSemanticTokens(e){this.currentRange=null,this.tokens=[],this.quote=null,this.escapedQuote=null,this.content=e,this.document=a.TextDocument.create("","",0,e),this.dockerfile=i.DockerfileParser.parse(e),this.escapeCharacter=this.dockerfile.getEscapeCharacter()}return DockerSemanticTokens.prototype.computeSemanticTokens=function(){for(var e=this.dockerfile.getComments(),t=0,n=this.dockerfile.getInstructions();t<n.length;t++){if((l=n[t].getRange()).start.line!==l.end.line)for(var a=0;a<e.length;a++){var o=e[a].getRange();l.start.line<o.start.line&&o.start.line<l.end.line&&(e.splice(a,1),a--)}}(e=e.concat(this.dockerfile.getInstructions())).sort((function(e,t){return e.getRange().start.line-t.getRange().start.line}));for(var s=0,c=this.dockerfile.getDirectives();s<c.length;s++){var u=c[s],l=u.getRange(),g=u.getNameRange(),d={start:l.start,end:g.start};this.createToken(null,d,r.SemanticTokenTypes.comment,[],!1),this.createToken(null,g,r.SemanticTokenTypes.property,[],!1);var h=u.getValueRange(),m={start:{character:h.start.character-1,line:h.start.line},end:{character:h.start.character,line:h.start.line}};this.createToken(null,m,r.SemanticTokenTypes.operator,[],!1),h.start.character!==h.end.character&&this.createToken(null,h,r.SemanticTokenTypes.parameter,[],!1)}for(a=0;a<e.length;a++)if(e[a]instanceof i.Comment){l=e[a].getRange();this.createToken(null,l,r.SemanticTokenTypes.comment,[],!1)}else this.quote=null,this.escapedQuote=null,this.createTokensForInstruction(e[a]);return{data:this.tokens}},DockerSemanticTokens.prototype.createTokensForInstruction=function(e){var t=e.getInstructionRange(),n=[];if(e.getKeyword()===i.Keyword.MAINTAINER&&(n=[r.SemanticTokenModifiers.deprecated]),this.createToken(e,t,r.SemanticTokenTypes.keyword,n),e instanceof i.ModifiableInstruction)for(var a=0,o=e.getFlags();a<o.length;a++){var s=o[a],c=s.getRange(),u=s.getNameRange(),l={start:c.start,end:u.end};this.createToken(e,l,r.SemanticTokenTypes.parameter);var g=s.getValue();if(null!==g)if(s.hasOptions()){var d={start:l.end,end:{line:l.end.line,character:l.end.character+1}};this.createToken(e,d,r.SemanticTokenTypes.operator,[],!1,!1);for(var h=0,m=s.getOptions();h<m.length;h++){var f=m[h];if(u=f.getNameRange(),this.createToken(e,u,r.SemanticTokenTypes.parameter),null!==(_=f.getValueRange())){var p={start:u.end,end:_.start};this.createToken(e,p,r.SemanticTokenTypes.operator,[],!1,!1),""!==f.getValue()&&this.createToken(e,_,r.SemanticTokenTypes.property)}}}else{var _=s.getValueRange();d={start:l.end,end:_.start};this.createToken(e,d,r.SemanticTokenTypes.operator,[],!1,!1),""!==g&&this.createToken(e,_,r.SemanticTokenTypes.property)}}var R=e.getArguments();if(0!==R.length){switch(e.getKeyword()){case i.Keyword.ARG:case i.Keyword.ENV:for(var v=0,S=e.getProperties();v<S.length;v++){var k=S[v],y=k.getNameRange();if(this.createToken(e,y,r.SemanticTokenTypes.variable,[r.SemanticTokenModifiers.declaration],!1),null!==(_=k.getValueRange())){d={start:y.end,end:_.start};if(this.document.getText(d).startsWith("=")){var D=this.document.offsetAt(y.end);d={start:y.end,end:this.document.positionAt(D+1)},this.createToken(e,d,r.SemanticTokenTypes.operator,[],!1,!1)}this.createToken(e,_,r.SemanticTokenTypes.parameter,[],!0,!0)}}return;case i.Keyword.FROM:var b=e;null!==(u=b.getImageNameRange())&&this.createToken(e,u,r.SemanticTokenTypes.class);var T=b.getImageTagRange();null!==T&&this.createToken(e,T,r.SemanticTokenTypes.property);var C=b.getImageDigestRange();null!==C&&this.createToken(e,C,r.SemanticTokenTypes.property);var A=e.getArguments();if(A.length>1)if("AS"===A[1].getValue().toUpperCase()){var E=A[1].getRange();this.createToken(e,E,r.SemanticTokenTypes.keyword),A.length>2&&(this.createToken(e,A[2].getRange(),r.SemanticTokenTypes.namespace),A.length>3&&this.createArgumentTokens(e,A.slice(3)))}else this.createArgumentTokens(e,A.slice(1));return;case i.Keyword.HEALTHCHECK:var P=e.getSubcommand();if(null!==P){var I=P.getRange();this.createToken(e,I,r.SemanticTokenTypes.keyword),R.length>1&&this.createArgumentTokens(e,R.slice(1))}return;case i.Keyword.ONBUILD:var N=e;return void(null!==(M=N.getTriggerRange())&&this.createTokensForInstruction(N.getTriggerInstruction()))}this.createArgumentTokens(e,R)}else{var M;(M=e.getRange()).start.line!==M.end.line&&this.handleLineChange(e,t.end,M.end)}},DockerSemanticTokens.prototype.createArgumentTokens=function(e,t){for(var n=null,i=0;i<t.length;i++)n=t[i].getRange(),this.createToken(e,t[i].getRange(),r.SemanticTokenTypes.parameter,[],!0,!0);if(null!==n){var a=e.getRange();n.end.line===a.end.line&&n.end.character===a.end.character||this.handleLineChange(e,n.end,a.end)}},DockerSemanticTokens.prototype.handleLineChange=function(e,t,n){for(var i=-1,a=this.document.offsetAt(t);a<this.document.offsetAt(n);a++)switch(this.content.charAt(a)){case this.escapeCharacter:-1===i&&this.createEscapeToken(e,a);break;case"\r":case"\n":if(-1!==i){var o={start:this.document.positionAt(i),end:this.document.positionAt(a)};this.createToken(null,o,r.SemanticTokenTypes.comment,[],!1),i=-1}break;case"#":-1===i&&(i=a)}},DockerSemanticTokens.prototype.createEscapeToken=function(e,t){var n={start:this.document.positionAt(t),end:this.document.positionAt(t+1)};this.createToken(e,n,r.SemanticTokenTypes.macro,[],!1,!1,!1)},DockerSemanticTokens.prototype.createToken=function(e,t,n,i,a,c,u){if(void 0===i&&(i=[]),void 0===a&&(a=!0),void 0===c&&(c=!1),void 0===u&&(u=!0),u&&null!==this.currentRange&&this.currentRange.end.line!==t.start.line&&this.handleLineChange(e,this.currentRange.end,t.start),c){for(var l=y=this.document.offsetAt(t.start),g=-1,d=this.document.offsetAt(t.end),h=y;h<d;h++){switch(C=this.content.charAt(h)){case"\\":var m=this.content.charAt(h+1);if("'"===m||'"'===m){if(null===this.quote)if(null===this.escapedQuote){if(l=h,this.escapedQuote=m,y!==l){var f={start:this.document.positionAt(y),end:this.document.positionAt(l)};this.createToken(e,f,n,i)}}else{var p={start:this.document.positionAt(l),end:this.document.positionAt(h+2)};this.createToken(e,p,r.SemanticTokenTypes.string,[],!0,!1),g=h+2,this.escapedQuote=null}h++}break;case"'":case'"':if(null===this.quote){if(null===this.escapedQuote&&(this.quote=C,y!==(l=h))){f={start:this.document.positionAt(y),end:this.document.positionAt(l)};this.createToken(e,f,n,i)}}else if(this.quote===C){p={start:this.document.positionAt(l),end:this.document.positionAt(h+1)};this.createToken(e,p,r.SemanticTokenTypes.string,[],!0,!1),g=h+1,this.quote=null}}}if(null!==this.quote){p={start:this.document.positionAt(l),end:this.document.positionAt(d)};return void this.createToken(e,p,r.SemanticTokenTypes.string,[],!0,!1)}if(-1!==g){if(g!==d){f={start:this.document.positionAt(g),end:this.document.positionAt(d)};this.createToken(e,f,n,i)}return}null===this.quote&&null===this.escapedQuote||(n=r.SemanticTokenTypes.string,t={start:this.document.positionAt(l),end:t.end})}if(t.start.line===t.end.line){if(a){for(var _=t.start,R=null,v=0,S=e.getVariables();v<S.length;v++){var k=S[v].getRange();if(o.Util.isInsideRange(k.start,t)){if(o.Util.positionBefore(_,k.start)&&this.createToken(e,{start:_,end:k.start},n,i,!1),this.createToken(e,k,r.SemanticTokenTypes.variable,[],!1),R=k,o.Util.positionEquals(t.end,k.end))return;_=k.end}}null!==R&&(t={start:R.end,end:t.end})}null===this.currentRange?this.tokens=this.tokens.concat([t.start.line,t.start.character,t.end.character-t.start.character,s.getTokenType(n),s.getTokenModifiers(i)]):this.currentRange.end.line!==t.start.line?this.tokens=this.tokens.concat([t.start.line-this.currentRange.end.line,t.start.character,t.end.character-t.start.character,s.getTokenType(n),s.getTokenModifiers(i)]):this.tokens=this.tokens.concat([t.start.line-this.currentRange.start.line,t.start.character-this.currentRange.start.character,t.end.character-t.start.character,s.getTokenType(n),s.getTokenModifiers(i)]),this.currentRange=t}else{var y=this.document.offsetAt(t.start),D=(d=this.document.offsetAt(t.end),!1),b=!0,T=!1;for(h=y;h<d;h++){var C;switch(C=this.content.charAt(h)){case"#":if(T)e:for(var A=h+1;A<d;A++)switch(this.content.charAt(A)){case" ":case"\t":break;case"\r":var E={start:this.document.positionAt(h),end:this.document.positionAt(A)};this.createToken(null,E,r.SemanticTokenTypes.comment,[],!1),h=A+1,y=-1;break e;case"\n":var P={start:this.document.positionAt(h),end:this.document.positionAt(A)};this.createToken(null,P,r.SemanticTokenTypes.comment,[],!1),h=A,y=-1;break e}break;case this.escapeCharacter:var I=!1;e:for(A=h+1;A<d;A++)switch(this.content.charAt(A)){case" ":case"\t":case"\r":break;case"\n":if(!I){if(!D){var N={start:this.document.positionAt(y),end:this.document.positionAt(h)};this.createToken(e,N,n,i),D=!0}this.createEscapeToken(e,h)}b=!1,T=!0,I=!0,h=A,y=-1;break;default:-1===y&&(y=A);break e}break;default:-1===y&&(D=!1,T=!1,y=h)}}f={start:this.document.positionAt(y),end:this.document.positionAt(d)};this.createToken(e,f,n,i,a,c,b)}},DockerSemanticTokens}();t.DockerSemanticTokens=c},2:function(e,t){e.exports=require("path")},200:function(e,t,n){"use strict";e.exports=n(82)},201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function create(e){return{dispose:e}}}(t.Disposable||(t.Disposable={}))},202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.ProgressType=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.RAL=void 0,t.CancellationStrategy=void 0;const r=n(203);Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const i=n(201);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}});const a=n(84);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return a.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return a.Emitter}});const o=n(204);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const s=n(386);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return s.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return s.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return s.ReadableStreamMessageReader}});const c=n(387);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return c.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return c.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return c.WriteableStreamMessageWriter}});const u=n(389);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return u.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return u.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return u.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return u.createMessageConnection}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return u.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return u.Trace}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return u.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return u.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return u.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return u.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return u.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return u.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return u.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return u.CancellationStrategy}});const l=n(48);t.RAL=l.default},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponseMessage=t.isNotificationMessage=t.isRequestMessage=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(83);var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=e.jsonrpcReservedErrorRangeStart,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=e.jsonrpcReservedErrorRangeEnd}(i=t.ErrorCodes||(t.ErrorCodes={}));class ResponseError extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,ResponseError.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=ResponseError;class ParameterStructures{constructor(e){this.kind=e}static is(e){return e===ParameterStructures.auto||e===ParameterStructures.byName||e===ParameterStructures.byPosition}toString(){return this.kind}}t.ParameterStructures=ParameterStructures,ParameterStructures.auto=new ParameterStructures("auto"),ParameterStructures.byPosition=new ParameterStructures("byPosition"),ParameterStructures.byName=new ParameterStructures("byName");class AbstractMessageSignature{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return ParameterStructures.auto}}t.AbstractMessageSignature=AbstractMessageSignature;t.RequestType0=class RequestType0 extends AbstractMessageSignature{constructor(e){super(e,0)}};t.RequestType=class RequestType extends AbstractMessageSignature{constructor(e,t=ParameterStructures.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType1=class RequestType1 extends AbstractMessageSignature{constructor(e,t=ParameterStructures.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.RequestType2=class RequestType2 extends AbstractMessageSignature{constructor(e){super(e,2)}};t.RequestType3=class RequestType3 extends AbstractMessageSignature{constructor(e){super(e,3)}};t.RequestType4=class RequestType4 extends AbstractMessageSignature{constructor(e){super(e,4)}};t.RequestType5=class RequestType5 extends AbstractMessageSignature{constructor(e){super(e,5)}};t.RequestType6=class RequestType6 extends AbstractMessageSignature{constructor(e){super(e,6)}};t.RequestType7=class RequestType7 extends AbstractMessageSignature{constructor(e){super(e,7)}};t.RequestType8=class RequestType8 extends AbstractMessageSignature{constructor(e){super(e,8)}};t.RequestType9=class RequestType9 extends AbstractMessageSignature{constructor(e){super(e,9)}};t.NotificationType=class NotificationType extends AbstractMessageSignature{constructor(e,t=ParameterStructures.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType0=class NotificationType0 extends AbstractMessageSignature{constructor(e){super(e,0)}};t.NotificationType1=class NotificationType1 extends AbstractMessageSignature{constructor(e,t=ParameterStructures.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};t.NotificationType2=class NotificationType2 extends AbstractMessageSignature{constructor(e){super(e,2)}};t.NotificationType3=class NotificationType3 extends AbstractMessageSignature{constructor(e){super(e,3)}};t.NotificationType4=class NotificationType4 extends AbstractMessageSignature{constructor(e){super(e,4)}};t.NotificationType5=class NotificationType5 extends AbstractMessageSignature{constructor(e){super(e,5)}};t.NotificationType6=class NotificationType6 extends AbstractMessageSignature{constructor(e){super(e,6)}};t.NotificationType7=class NotificationType7 extends AbstractMessageSignature{constructor(e){super(e,7)}};t.NotificationType8=class NotificationType8 extends AbstractMessageSignature{constructor(e){super(e,8)}};t.NotificationType9=class NotificationType9 extends AbstractMessageSignature{constructor(e){super(e,9)}},t.isRequestMessage=function isRequestMessage(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function isNotificationMessage(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},t.isResponseMessage=function isResponseMessage(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(48),i=n(83),a=n(84);var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:a.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:a.Event.None}),e.is=function is(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){const n=r.default().timer.setTimeout(e.bind(t),0);return{dispose(){r.default().timer.clearTimeout(n)}}}));class MutableToken{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new a.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class CancellationTokenSource{get token(){return this._token||(this._token=new MutableToken),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this._token?this._token instanceof MutableToken&&this._token.dispose():this._token=o.None}}},205:function(e,t,n){"use strict";e.exports=n(21)},21:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const a=n(200);i(n(200),t),i(n(391),t),t.createProtocolConnection=function createProtocolConnection(e,t,n,r){return a.createMessageConnection(e,t,n,r)}},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=void 0;const r=n(82);t.RegistrationType=class RegistrationType{constructor(e){this.method=e}};class ProtocolRequestType0 extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=ProtocolRequestType0;class ProtocolRequestType extends r.RequestType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=ProtocolRequestType;class ProtocolNotificationType0 extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=ProtocolNotificationType0;class ProtocolNotificationType extends r.NotificationType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=ProtocolNotificationType},237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Argument=class Argument{constructor(e,t){this.value=e,this.range=t}toString(){return this.value}getRange(){return this.range}getValue(){return this.value}isAfter(e){return!(this.range.end.line<e.line)&&(this.range.start.line>e.line||this.range.start.character>e.character)}isBefore(e){return this.range.start.line<e.line||!(this.range.end.line>e.line)&&this.range.end.character<e.character}}},25:function(e,t,n){"use strict";var r,i,a,o,s,c,u,l,g,d,h,m,f,p,_,R,v,S,k,y,D,b,T,C,A,E;n.r(t),n.d(t,"integer",(function(){return r})),n.d(t,"uinteger",(function(){return i})),n.d(t,"Position",(function(){return a})),n.d(t,"Range",(function(){return o})),n.d(t,"Location",(function(){return s})),n.d(t,"LocationLink",(function(){return c})),n.d(t,"Color",(function(){return u})),n.d(t,"ColorInformation",(function(){return l})),n.d(t,"ColorPresentation",(function(){return g})),n.d(t,"FoldingRangeKind",(function(){return d})),n.d(t,"FoldingRange",(function(){return h})),n.d(t,"DiagnosticRelatedInformation",(function(){return m})),n.d(t,"DiagnosticSeverity",(function(){return f})),n.d(t,"DiagnosticTag",(function(){return p})),n.d(t,"CodeDescription",(function(){return _})),n.d(t,"Diagnostic",(function(){return R})),n.d(t,"Command",(function(){return v})),n.d(t,"TextEdit",(function(){return S})),n.d(t,"ChangeAnnotation",(function(){return k})),n.d(t,"ChangeAnnotationIdentifier",(function(){return y})),n.d(t,"AnnotatedTextEdit",(function(){return D})),n.d(t,"TextDocumentEdit",(function(){return b})),n.d(t,"CreateFile",(function(){return T})),n.d(t,"RenameFile",(function(){return C})),n.d(t,"DeleteFile",(function(){return A})),n.d(t,"WorkspaceEdit",(function(){return E})),n.d(t,"WorkspaceChange",(function(){return se})),n.d(t,"TextDocumentIdentifier",(function(){return P})),n.d(t,"VersionedTextDocumentIdentifier",(function(){return I})),n.d(t,"OptionalVersionedTextDocumentIdentifier",(function(){return N})),n.d(t,"TextDocumentItem",(function(){return M})),n.d(t,"MarkupKind",(function(){return O})),n.d(t,"MarkupContent",(function(){return w})),n.d(t,"CompletionItemKind",(function(){return x})),n.d(t,"InsertTextFormat",(function(){return F})),n.d(t,"CompletionItemTag",(function(){return L})),n.d(t,"InsertReplaceEdit",(function(){return V})),n.d(t,"InsertTextMode",(function(){return U})),n.d(t,"CompletionItem",(function(){return H})),n.d(t,"CompletionList",(function(){return q})),n.d(t,"MarkedString",(function(){return W})),n.d(t,"Hover",(function(){return j})),n.d(t,"ParameterInformation",(function(){return K})),n.d(t,"SignatureInformation",(function(){return G})),n.d(t,"DocumentHighlightKind",(function(){return B})),n.d(t,"DocumentHighlight",(function(){return $})),n.d(t,"SymbolKind",(function(){return Y})),n.d(t,"SymbolTag",(function(){return J})),n.d(t,"SymbolInformation",(function(){return z})),n.d(t,"DocumentSymbol",(function(){return Q})),n.d(t,"CodeActionKind",(function(){return X})),n.d(t,"CodeActionContext",(function(){return Z})),n.d(t,"CodeAction",(function(){return ee})),n.d(t,"CodeLens",(function(){return te})),n.d(t,"FormattingOptions",(function(){return ne})),n.d(t,"DocumentLink",(function(){return re})),n.d(t,"SelectionRange",(function(){return ie})),n.d(t,"EOL",(function(){return ue})),n.d(t,"TextDocument",(function(){return ce})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647}(r||(r={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(i||(i={})),function(e){e.create=function create(e,t){return e===Number.MAX_VALUE&&(e=i.MAX_VALUE),t===Number.MAX_VALUE&&(t=i.MAX_VALUE),{line:e,character:t}},e.is=function is(e){var t=e;return le.objectLiteral(t)&&le.uinteger(t.line)&&le.uinteger(t.character)}}(a||(a={})),function(e){e.create=function create(e,t,n,r){if(le.uinteger(e)&&le.uinteger(t)&&le.uinteger(n)&&le.uinteger(r))return{start:a.create(e,t),end:a.create(n,r)};if(a.is(e)&&a.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+r+"]")},e.is=function is(e){var t=e;return le.objectLiteral(t)&&a.is(t.start)&&a.is(t.end)}}(o||(o={})),function(e){e.create=function create(e,t){return{uri:e,range:t}},e.is=function is(e){var t=e;return le.defined(t)&&o.is(t.range)&&(le.string(t.uri)||le.undefined(t.uri))}}(s||(s={})),function(e){e.create=function create(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function is(e){var t=e;return le.defined(t)&&o.is(t.targetRange)&&le.string(t.targetUri)&&(o.is(t.targetSelectionRange)||le.undefined(t.targetSelectionRange))&&(o.is(t.originSelectionRange)||le.undefined(t.originSelectionRange))}}(c||(c={})),function(e){e.create=function create(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function is(e){var t=e;return le.numberRange(t.red,0,1)&&le.numberRange(t.green,0,1)&&le.numberRange(t.blue,0,1)&&le.numberRange(t.alpha,0,1)}}(u||(u={})),function(e){e.create=function create(e,t){return{range:e,color:t}},e.is=function is(e){var t=e;return o.is(t.range)&&u.is(t.color)}}(l||(l={})),function(e){e.create=function create(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function is(e){var t=e;return le.string(t.label)&&(le.undefined(t.textEdit)||S.is(t))&&(le.undefined(t.additionalTextEdits)||le.typedArray(t.additionalTextEdits,S.is))}}(g||(g={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(d||(d={})),function(e){e.create=function create(e,t,n,r,i){var a={startLine:e,endLine:t};return le.defined(n)&&(a.startCharacter=n),le.defined(r)&&(a.endCharacter=r),le.defined(i)&&(a.kind=i),a},e.is=function is(e){var t=e;return le.uinteger(t.startLine)&&le.uinteger(t.startLine)&&(le.undefined(t.startCharacter)||le.uinteger(t.startCharacter))&&(le.undefined(t.endCharacter)||le.uinteger(t.endCharacter))&&(le.undefined(t.kind)||le.string(t.kind))}}(h||(h={})),function(e){e.create=function create(e,t){return{location:e,message:t}},e.is=function is(e){var t=e;return le.defined(t)&&s.is(t.location)&&le.string(t.message)}}(m||(m={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(f||(f={})),function(e){e.Unnecessary=1,e.Deprecated=2}(p||(p={})),function(e){e.is=function is(e){var t=e;return null!=t&&le.string(t.href)}}(_||(_={})),function(e){e.create=function create(e,t,n,r,i,a){var o={range:e,message:t};return le.defined(n)&&(o.severity=n),le.defined(r)&&(o.code=r),le.defined(i)&&(o.source=i),le.defined(a)&&(o.relatedInformation=a),o},e.is=function is(e){var t,n=e;return le.defined(n)&&o.is(n.range)&&le.string(n.message)&&(le.number(n.severity)||le.undefined(n.severity))&&(le.integer(n.code)||le.string(n.code)||le.undefined(n.code))&&(le.undefined(n.codeDescription)||le.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(le.string(n.source)||le.undefined(n.source))&&(le.undefined(n.relatedInformation)||le.typedArray(n.relatedInformation,m.is))}}(R||(R={})),function(e){e.create=function create(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return le.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function is(e){var t=e;return le.defined(t)&&le.string(t.title)&&le.string(t.command)}}(v||(v={})),function(e){e.replace=function replace(e,t){return{range:e,newText:t}},e.insert=function insert(e,t){return{range:{start:e,end:e},newText:t}},e.del=function del(e){return{range:e,newText:""}},e.is=function is(e){var t=e;return le.objectLiteral(t)&&le.string(t.newText)&&o.is(t.range)}}(S||(S={})),function(e){e.create=function create(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function is(e){var t=e;return void 0!==t&&le.objectLiteral(t)&&le.string(t.label)&&(le.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(le.string(t.description)||void 0===t.description)}}(k||(k={})),function(e){e.is=function is(e){return"string"==typeof e}}(y||(y={})),function(e){e.replace=function replace(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function insert(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function del(e,t){return{range:e,newText:"",annotationId:t}},e.is=function is(e){var t=e;return S.is(t)&&(k.is(t.annotationId)||y.is(t.annotationId))}}(D||(D={})),function(e){e.create=function create(e,t){return{textDocument:e,edits:t}},e.is=function is(e){var t=e;return le.defined(t)&&N.is(t.textDocument)&&Array.isArray(t.edits)}}(b||(b={})),function(e){e.create=function create(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function is(e){var t=e;return t&&"create"===t.kind&&le.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||le.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||le.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||y.is(t.annotationId))}}(T||(T={})),function(e){e.create=function create(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function is(e){var t=e;return t&&"rename"===t.kind&&le.string(t.oldUri)&&le.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||le.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||le.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||y.is(t.annotationId))}}(C||(C={})),function(e){e.create=function create(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function is(e){var t=e;return t&&"delete"===t.kind&&le.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||le.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||le.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||y.is(t.annotationId))}}(A||(A={})),function(e){e.is=function is(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return le.string(e.kind)?T.is(e)||C.is(e)||A.is(e):b.is(e)})))}}(E||(E={}));var P,I,N,M,O,w,x,F,L,V,U,H,q,W,j,K,G,B,$,Y,J,z,Q,X,Z,ee,te,ne,re,ie,ae=function(){function TextEditChangeImpl(e,t){this.edits=e,this.changeAnnotations=t}return TextEditChangeImpl.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=S.insert(e,t):y.is(n)?(i=n,r=D.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=D.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},TextEditChangeImpl.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=S.replace(e,t):y.is(n)?(i=n,r=D.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=D.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},TextEditChangeImpl.prototype.delete=function(e,t){var n,r;if(void 0===t?n=S.del(e):y.is(t)?(r=t,n=D.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=D.del(e,r)),this.edits.push(n),void 0!==r)return r},TextEditChangeImpl.prototype.add=function(e){this.edits.push(e)},TextEditChangeImpl.prototype.all=function(){return this.edits},TextEditChangeImpl.prototype.clear=function(){this.edits.splice(0,this.edits.length)},TextEditChangeImpl.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},TextEditChangeImpl}(),oe=function(){function ChangeAnnotations(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return ChangeAnnotations.prototype.all=function(){return this._annotations},Object.defineProperty(ChangeAnnotations.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),ChangeAnnotations.prototype.manage=function(e,t){var n;if(y.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id "+n+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+n);return this._annotations[n]=t,this._size++,n},ChangeAnnotations.prototype.nextId=function(){return this._counter++,this._counter.toString()},ChangeAnnotations}(),se=function(){function WorkspaceChange(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new oe(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(b.is(e)){var n=new ae(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new ae(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(WorkspaceChange.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),WorkspaceChange.prototype.getTextEditChange=function(e){if(N.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new ae(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new ae(i),this._textEditChanges[e]=r}return r},WorkspaceChange.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new oe,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},WorkspaceChange.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},WorkspaceChange.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,a;if(k.is(t)||y.is(t)?r=t:n=t,void 0===r?i=T.create(e,n):(a=y.is(r)?r:this._changeAnnotations.manage(r),i=T.create(e,n,a)),this._workspaceEdit.documentChanges.push(i),void 0!==a)return a},WorkspaceChange.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,a,o;if(k.is(n)||y.is(n)?i=n:r=n,void 0===i?a=C.create(e,t,r):(o=y.is(i)?i:this._changeAnnotations.manage(i),a=C.create(e,t,r,o)),this._workspaceEdit.documentChanges.push(a),void 0!==o)return o},WorkspaceChange.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,a;if(k.is(t)||y.is(t)?r=t:n=t,void 0===r?i=A.create(e,n):(a=y.is(r)?r:this._changeAnnotations.manage(r),i=A.create(e,n,a)),this._workspaceEdit.documentChanges.push(i),void 0!==a)return a},WorkspaceChange}();!function(e){e.create=function create(e){return{uri:e}},e.is=function is(e){var t=e;return le.defined(t)&&le.string(t.uri)}}(P||(P={})),function(e){e.create=function create(e,t){return{uri:e,version:t}},e.is=function is(e){var t=e;return le.defined(t)&&le.string(t.uri)&&le.integer(t.version)}}(I||(I={})),function(e){e.create=function create(e,t){return{uri:e,version:t}},e.is=function is(e){var t=e;return le.defined(t)&&le.string(t.uri)&&(null===t.version||le.integer(t.version))}}(N||(N={})),function(e){e.create=function create(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function is(e){var t=e;return le.defined(t)&&le.string(t.uri)&&le.string(t.languageId)&&le.integer(t.version)&&le.string(t.text)}}(M||(M={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(O||(O={})),function(e){e.is=function is(t){var n=t;return n===e.PlainText||n===e.Markdown}}(O||(O={})),function(e){e.is=function is(e){var t=e;return le.objectLiteral(e)&&O.is(t.kind)&&le.string(t.value)}}(w||(w={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(x||(x={})),function(e){e.PlainText=1,e.Snippet=2}(F||(F={})),function(e){e.Deprecated=1}(L||(L={})),function(e){e.create=function create(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function is(e){var t=e;return t&&le.string(t.newText)&&o.is(t.insert)&&o.is(t.replace)}}(V||(V={})),function(e){e.asIs=1,e.adjustIndentation=2}(U||(U={})),function(e){e.create=function create(e){return{label:e}}}(H||(H={})),function(e){e.create=function create(e,t){return{items:e||[],isIncomplete:!!t}}}(q||(q={})),function(e){e.fromPlainText=function fromPlainText(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function is(e){var t=e;return le.string(t)||le.objectLiteral(t)&&le.string(t.language)&&le.string(t.value)}}(W||(W={})),function(e){e.is=function is(e){var t=e;return!!t&&le.objectLiteral(t)&&(w.is(t.contents)||W.is(t.contents)||le.typedArray(t.contents,W.is))&&(void 0===e.range||o.is(e.range))}}(j||(j={})),function(e){e.create=function create(e,t){return t?{label:e,documentation:t}:{label:e}}}(K||(K={})),function(e){e.create=function create(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return le.defined(t)&&(i.documentation=t),le.defined(n)?i.parameters=n:i.parameters=[],i}}(G||(G={})),function(e){e.Text=1,e.Read=2,e.Write=3}(B||(B={})),function(e){e.create=function create(e,t){var n={range:e};return le.number(t)&&(n.kind=t),n}}($||($={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Y||(Y={})),function(e){e.Deprecated=1}(J||(J={})),function(e){e.create=function create(e,t,n,r,i){var a={name:e,kind:t,location:{uri:r,range:n}};return i&&(a.containerName=i),a}}(z||(z={})),function(e){e.create=function create(e,t,n,r,i,a){var o={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==a&&(o.children=a),o},e.is=function is(e){var t=e;return t&&le.string(t.name)&&le.number(t.kind)&&o.is(t.range)&&o.is(t.selectionRange)&&(void 0===t.detail||le.string(t.detail))&&(void 0===t.deprecated||le.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(Q||(Q={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(X||(X={})),function(e){e.create=function create(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function is(e){var t=e;return le.defined(t)&&le.typedArray(t.diagnostics,R.is)&&(void 0===t.only||le.typedArray(t.only,le.string))}}(Z||(Z={})),function(e){e.create=function create(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):v.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function is(e){var t=e;return t&&le.string(t.title)&&(void 0===t.diagnostics||le.typedArray(t.diagnostics,R.is))&&(void 0===t.kind||le.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||v.is(t.command))&&(void 0===t.isPreferred||le.boolean(t.isPreferred))&&(void 0===t.edit||E.is(t.edit))}}(ee||(ee={})),function(e){e.create=function create(e,t){var n={range:e};return le.defined(t)&&(n.data=t),n},e.is=function is(e){var t=e;return le.defined(t)&&o.is(t.range)&&(le.undefined(t.command)||v.is(t.command))}}(te||(te={})),function(e){e.create=function create(e,t){return{tabSize:e,insertSpaces:t}},e.is=function is(e){var t=e;return le.defined(t)&&le.uinteger(t.tabSize)&&le.boolean(t.insertSpaces)}}(ne||(ne={})),function(e){e.create=function create(e,t,n){return{range:e,target:t,data:n}},e.is=function is(e){var t=e;return le.defined(t)&&o.is(t.range)&&(le.undefined(t.target)||le.string(t.target))}}(re||(re={})),function(e){e.create=function create(e,t){return{range:e,parent:t}},e.is=function is(t){var n=t;return void 0!==n&&o.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ie||(ie={}));var ce,ue=["\n","\r\n","\r"];!function(e){e.create=function create(e,t,n,r){return new ge(e,t,n,r)},e.is=function is(e){var t=e;return!!(le.defined(t)&&le.string(t.uri)&&(le.undefined(t.languageId)||le.string(t.languageId))&&le.uinteger(t.lineCount)&&le.func(t.getText)&&le.func(t.positionAt)&&le.func(t.offsetAt))},e.applyEdits=function applyEdits(e,t){for(var n=e.getText(),r=function mergeSort(e,t){if(e.length<=1)return e;var n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);mergeSort(r,t),mergeSort(i,t);var a=0,o=0,s=0;for(;a<r.length&&o<i.length;){var c=t(r[a],i[o]);e[s++]=c<=0?r[a++]:i[o++]}for(;a<r.length;)e[s++]=r[a++];for(;o<i.length;)e[s++]=i[o++];return e}(t,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=n.length,a=r.length-1;a>=0;a--){var o=r[a],s=e.offsetAt(o.range.start),c=e.offsetAt(o.range.end);if(!(c<=i))throw new Error("Overlapping edit");n=n.substring(0,s)+o.newText+n.substring(c,n.length),i=s}return n}}(ce||(ce={}));var le,ge=function(){function FullTextDocument(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(FullTextDocument.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(FullTextDocument.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),FullTextDocument.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},FullTextDocument.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},FullTextDocument.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},FullTextDocument.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return a.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return a.create(o,e-t[o])},FullTextDocument.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(FullTextDocument.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),FullTextDocument}();!function(e){var t=Object.prototype.toString;e.defined=function defined(e){return void 0!==e},e.undefined=function undefined(e){return void 0===e},e.boolean=function boolean(e){return!0===e||!1===e},e.string=function string(e){return"[object String]"===t.call(e)},e.number=function number(e){return"[object Number]"===t.call(e)},e.numberRange=function numberRange(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function integer(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function uinteger(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function func(e){return"[object Function]"===t.call(e)},e.objectLiteral=function objectLiteral(e){return null!==e&&"object"==typeof e},e.typedArray=function typedArray(e,t){return Array.isArray(e)&&e.every(t)}}(le||(le={}))},29:function(e,t){e.exports=require("https")},312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(1924),a=n(1929);!function(e){e[e.CASING_INSTRUCTION=0]="CASING_INSTRUCTION",e[e.CASING_DIRECTIVE=1]="CASING_DIRECTIVE",e[e.ARGUMENT_MISSING=2]="ARGUMENT_MISSING",e[e.ARGUMENT_EXTRA=3]="ARGUMENT_EXTRA",e[e.ARGUMENT_REQUIRES_ONE=4]="ARGUMENT_REQUIRES_ONE",e[e.ARGUMENT_REQUIRES_AT_LEAST_ONE=5]="ARGUMENT_REQUIRES_AT_LEAST_ONE",e[e.ARGUMENT_REQUIRES_TWO=6]="ARGUMENT_REQUIRES_TWO",e[e.ARGUMENT_REQUIRES_AT_LEAST_TWO=7]="ARGUMENT_REQUIRES_AT_LEAST_TWO",e[e.ARGUMENT_REQUIRES_ONE_OR_THREE=8]="ARGUMENT_REQUIRES_ONE_OR_THREE",e[e.ARGUMENT_UNNECESSARY=9]="ARGUMENT_UNNECESSARY",e[e.DUPLICATE_BUILD_STAGE_NAME=10]="DUPLICATE_BUILD_STAGE_NAME",e[e.EMPTY_CONTINUATION_LINE=11]="EMPTY_CONTINUATION_LINE",e[e.INVALID_BUILD_STAGE_NAME=12]="INVALID_BUILD_STAGE_NAME",e[e.FLAG_AT_LEAST_ONE=13]="FLAG_AT_LEAST_ONE",e[e.FLAG_DUPLICATE=14]="FLAG_DUPLICATE",e[e.FLAG_INVALID_DURATION=15]="FLAG_INVALID_DURATION",e[e.FLAG_LESS_THAN_1MS=16]="FLAG_LESS_THAN_1MS",e[e.FLAG_MISSING_DURATION=17]="FLAG_MISSING_DURATION",e[e.FLAG_MISSING_VALUE=18]="FLAG_MISSING_VALUE",e[e.FLAG_UNKNOWN_UNIT=19]="FLAG_UNKNOWN_UNIT",e[e.NO_SOURCE_IMAGE=20]="NO_SOURCE_IMAGE",e[e.INVALID_ESCAPE_DIRECTIVE=21]="INVALID_ESCAPE_DIRECTIVE",e[e.INVALID_AS=22]="INVALID_AS",e[e.INVALID_DESTINATION=23]="INVALID_DESTINATION",e[e.INVALID_PORT=24]="INVALID_PORT",e[e.INVALID_PROTO=25]="INVALID_PROTO",e[e.INVALID_REFERENCE_FORMAT=26]="INVALID_REFERENCE_FORMAT",e[e.INVALID_SIGNAL=27]="INVALID_SIGNAL",e[e.INVALID_SYNTAX=28]="INVALID_SYNTAX",e[e.ONBUILD_CHAINING_DISALLOWED=29]="ONBUILD_CHAINING_DISALLOWED",e[e.ONBUILD_TRIGGER_DISALLOWED=30]="ONBUILD_TRIGGER_DISALLOWED",e[e.SHELL_JSON_FORM=31]="SHELL_JSON_FORM",e[e.SHELL_REQUIRES_ONE=32]="SHELL_REQUIRES_ONE",e[e.SYNTAX_MISSING_EQUALS=33]="SYNTAX_MISSING_EQUALS",e[e.SYNTAX_MISSING_NAMES=34]="SYNTAX_MISSING_NAMES",e[e.SYNTAX_MISSING_SINGLE_QUOTE=35]="SYNTAX_MISSING_SINGLE_QUOTE",e[e.SYNTAX_MISSING_DOUBLE_QUOTE=36]="SYNTAX_MISSING_DOUBLE_QUOTE",e[e.MULTIPLE_INSTRUCTIONS=37]="MULTIPLE_INSTRUCTIONS",e[e.UNKNOWN_INSTRUCTION=38]="UNKNOWN_INSTRUCTION",e[e.UNKNOWN_ADD_FLAG=39]="UNKNOWN_ADD_FLAG",e[e.UNKNOWN_COPY_FLAG=40]="UNKNOWN_COPY_FLAG",e[e.UNKNOWN_FROM_FLAG=41]="UNKNOWN_FROM_FLAG",e[e.UNKNOWN_HEALTHCHECK_FLAG=42]="UNKNOWN_HEALTHCHECK_FLAG",e[e.UNKNOWN_TYPE=43]="UNKNOWN_TYPE",e[e.UNSUPPORTED_MODIFIER=44]="UNSUPPORTED_MODIFIER",e[e.DEPRECATED_MAINTAINER=45]="DEPRECATED_MAINTAINER",e[e.HEALTHCHECK_CMD_ARGUMENT_MISSING=46]="HEALTHCHECK_CMD_ARGUMENT_MISSING",e[e.FLAG_INVALID_FROM_VALUE=47]="FLAG_INVALID_FROM_VALUE",e[e.JSON_IN_SINGLE_QUOTES=48]="JSON_IN_SINGLE_QUOTES",e[e.WORKDIR_IS_NOT_ABSOLUTE=49]="WORKDIR_IS_NOT_ABSOLUTE",e[e.BASE_NAME_EMPTY=50]="BASE_NAME_EMPTY",e[e.DUPLICATED_ESCAPE_DIRECTIVE=51]="DUPLICATED_ESCAPE_DIRECTIVE"}(t.ValidationCode||(t.ValidationCode={})),function(e){e[e.IGNORE=0]="IGNORE",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR"}(t.ValidationSeverity||(t.ValidationSeverity={})),t.format=function format(e,t){const n=r.TextDocument.create("","",0,e);return(new i.DockerFormatter).formatDocument(n,t)},t.validate=function validate(e,t){const n=r.TextDocument.create("","",0,e);return new a.Validator(t).validate(n)}},313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Line=class Line{constructor(e,t){this.document=e,this.range=t}getRange(){return this.range}getTextContent(){return this.document.getText().substring(this.document.offsetAt(this.range.start),this.document.offsetAt(this.range.end))}isAfter(e){return this.range.start.line>e.range.start.line}isBefore(e){return this.range.start.line<e}}},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(888),a=n(122);class ModifiableInstruction extends a.Instruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}getFlags(){if(!this.flags){this.flags=[];for(let e of this.getArguments()){let t=e.getValue();if(this.stopSearchingForFlags(t))return this.flags;if(0===t.indexOf("--")){let n=e.getRange(),a=this.document.getText().substring(this.document.offsetAt(n.start),this.document.offsetAt(n.end)),o=t.indexOf("="),s=a.indexOf("="),c=!1,u=!1,l=-1;e:for(let e=0;e<a.length;e++)switch(a.charAt(e)){case"\\":case" ":case"\t":case"\r":case"\n":break;case"-":if(u){l=e;break e}c?u=!0:c=!0;break;default:l=e;break e}let g=this.document.positionAt(this.document.offsetAt(n.start)+l);if(-1===s)this.flags.push(new i.Flag(this.document,n,t.substring(2),r.Range.create(g,n.end),null,null));else if(s===t.length-1){let e=this.document.positionAt(this.document.offsetAt(n.start)+s);this.flags.push(new i.Flag(this.document,n,t.substring(2,s),r.Range.create(g,e),"",r.Range.create(n.end,n.end)))}else{let e=this.document.positionAt(this.document.offsetAt(n.start)+s);this.flags.push(new i.Flag(this.document,n,t.substring(2,o),r.Range.create(g,e),t.substring(o+1),r.Range.create(this.document.positionAt(this.document.offsetAt(n.start)+s+1),n.end)))}}}}return this.flags}getArguments(){const e=super.getArguments(),t=this.getFlags();if(0===t.length)return e;for(let n=0;n<t.length;n++)e.shift();return e}}t.ModifiableInstruction=ModifiableInstruction},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(122),a=n(505),o=n(237),s=n(149);class PropertyInstruction extends i.Instruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a),this.properties=void 0}getProperties(){if(void 0===this.properties){let e=this.getPropertyArguments();if(0===e.length)this.properties=[];else if(1===e.length)this.properties=[new a.Property(this.document,this.escapeChar,e[0])];else if(2===e.length)-1===e[0].getValue().indexOf("=")?this.properties=[new a.Property(this.document,this.escapeChar,e[0],e[1])]:this.properties=[new a.Property(this.document,this.escapeChar,e[0]),new a.Property(this.document,this.escapeChar,e[1])];else if(-1===e[0].getValue().indexOf("=")){let t=this.document.getText(),n=e[1].getRange().start,i=e[e.length-1].getRange().end;t=t.substring(this.document.offsetAt(n),this.document.offsetAt(i)),this.properties=[new a.Property(this.document,this.escapeChar,e[0],new o.Argument(t,r.Range.create(e[1].getRange().start,e[e.length-1].getRange().end)))]}else{this.properties=[];for(let t=0;t<e.length;t++)this.properties.push(new a.Property(this.document,this.escapeChar,e[t]))}}return this.properties}findTrailingNonWhitespace(e){let t=e.length;e:for(let n=e.length-1;n>=0;n--)switch(e.charAt(n)){case" ":case"\t":continue;case"\n":"\r"===e.charAt(n-1)&&(n-=1);case"\r":t:for(let r=n-1;r>=0;r--)switch(e.charAt(r)){case" ":case"\t":case"\r":case"\n":case this.escapeChar:continue;default:t=r;break t}break e;default:t=n;break e}return t}getPropertyArguments(){const e=[];let t=this.getInstructionRange(),n=this.document.offsetAt(t.end),i=n-this.document.offsetAt(t.start),a=this.getTextContent(),c=a.substring(i),u=s.Util.findLeadingNonWhitespace(c,this.escapeChar);if(-1===u)return[];const l=this.document.positionAt(n+u);let g=t.start.line!==l.line,d=!1,h=-1,m=this.findTrailingNonWhitespace(c);a=c.substring(u,m+1);let f=g?-1:0,p=!1;e:for(let t=0;t<a.length;t++){let i=a.charAt(t);switch(i){case this.escapeChar:if(t+1===a.length){d=!0;break e}switch(g||(h=t),a.charAt(t+1)){case" ":case"\t":if(!s.Util.isWhitespace(a.charAt(t+2))){t+=1;continue e}t:for(let i=t+2;i<a.length;i++)switch(a.charAt(i)){case"\r":i++;case"\n":g=!0,t=i;continue e;case" ":case"\t":break;default:e.push(new o.Argument(a.substring(f,t),r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+t+2)))),f=i;break t}t=f-1;continue e;case"\r":t++;case"\n":g=!0,t+=1;continue e;case this.escapeChar:-1===f&&(f=t),t+=1;continue e;default:-1===f&&(f=t);continue e}case"'":case'"':-1===f&&(f=t);for(let s=t+1;s<a.length;s++)switch(a.charAt(s)){case i:if(" "!==a.charAt(s+1)&&""!==a.charAt(s+1)){t=s;continue e}e.push(new o.Argument(a.substring(f,s+1),r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+s+1)))),t=s,f=-1;continue e;case this.escapeChar:s++}break e;case" ":case"\t":g?-1!==f&&(p=!0):-1!==f&&(e.push(new o.Argument(a.substring(f,t),r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+t)))),f=-1);break;case"\r":t++;case"\n":p=!1;break;case"#":if(g){for(let e=t+1;e<a.length;e++)switch(a.charAt(e)){case"\r":e++;case"\n":t=e,p=!1;continue e}if(-1!==f){let t=a.substring(f,h);e.push(new o.Argument(t,r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+h)))),f=-1}break e}-1===f&&(f=t);break;default:if(p&&(-1!==f&&(e.push(new o.Argument(a.substring(f,h),r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+h)))),f=-1),p=!1),g=!1,-1===f&&(f=t),"$"===i&&"{"===a.charAt(t+1)){let e=!1,n=!1,r=!1;for(let i=t+1;i<a.length;i++)switch(a.charAt(i)){case this.escapeChar:r=!0;break;case"\r":case"\n":break;case"'":e=!e,r=!1;break;case'"':n=!n,r=!1;break;case" ":case"\t":if(r||e||n)break;t=i-1;continue e;case"}":t=i;continue e;default:r=!1}break e}}}if(-1!==f&&f!==a.length){let t=d?a.length-1:a.length,i=a.substring(f,t);e.push(new o.Argument(i,r.Range.create(this.document.positionAt(n+u+f),this.document.positionAt(n+u+t))))}return e}}t.PropertyInstruction=PropertyInstruction},316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(314);class From extends i.ModifiableInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}stopSearchingForFlags(e){return-1===e.indexOf("--")}getImage(){return this.getRangeContent(this.getImageRange())}getImageName(){return this.getRangeContent(this.getImageNameRange())}getImageNameRange(){let e=this.getImageRange();if(e){let t=this.getRegistryRange();t&&(e.start=this.document.positionAt(this.document.offsetAt(t.end)+1));let n=this.getImageTagRange(),r=this.getImageDigestRange();return null===n?null!==r&&(e.end=this.document.positionAt(this.document.offsetAt(r.start)-1)):e.end=this.document.positionAt(this.document.offsetAt(n.start)-1),e}return null}getImageRange(){let e=this.getArguments();return 0!==e.length?e[0].getRange():null}getImageTag(){return this.getRangeContent(this.getImageTagRange())}getImageTagRange(){const e=this.getImageRange();if(e&&null===this.getImageDigestRange()){let t=this.getRangeContent(e),n=this.lastIndexOf(this.document.offsetAt(e.start),t,":");if(n>t.indexOf("/"))return r.Range.create(e.start.line,e.start.character+n+1,e.end.line,e.end.character)}return null}getImageDigest(){return this.getRangeContent(this.getImageDigestRange())}getImageDigestRange(){let e=this.getImageRange();if(e){let t=this.getRangeContent(e),n=this.lastIndexOf(this.document.offsetAt(e.start),t,"@");if(-1!==n)return r.Range.create(e.start.line,e.start.character+n+1,e.end.line,e.end.character)}return null}indexOf(e,t,n){let r=t.indexOf(n);const i=this.getVariables();for(let a=0;a<i.length;a++){const o=e+r,s=i[a].getRange();if(this.document.offsetAt(s.start)<o&&o<this.document.offsetAt(s.end)){const i=this.document.offsetAt(s.end)-e,o=t.substring(i).indexOf(n);if(-1===o)return-1;r=o+i,a=-1}else;}return r}lastIndexOf(e,t,n){let r=t.lastIndexOf(n);const i=this.getVariables();for(let a=0;a<i.length;a++){const o=e+r,s=i[a].getRange();if(this.document.offsetAt(s.start)<o&&o<this.document.offsetAt(s.end)){if(r=t.substring(0,r).lastIndexOf(n),-1===r)return-1;a=-1}else;}return r}getRegistry(){return this.getRangeContent(this.getRegistryRange())}getRegistryRange(){const e=this.getImageRange();if(e){const t=this.getImageTagRange(),n=this.getImageDigestRange();null===t?null!==n&&(e.end=this.document.positionAt(this.document.offsetAt(n.start)-1)):e.end=this.document.positionAt(this.document.offsetAt(t.start)-1);const i=this.getRangeContent(e),a=this.document.offsetAt(e.start),o=this.indexOf(a,i,":"),s=this.indexOf(a,i,"."),c=this.indexOf(a,i,"/");if(-1!==o||-1!==s)return r.Range.create(e.start,this.document.positionAt(a+c));if("localhost"===i.substring(0,c))return r.Range.create(e.start,this.document.positionAt(a+c))}return null}getBuildStage(){let e=this.getBuildStageRange();return null===e?null:this.getRangeContent(e)}getBuildStageRange(){let e=this.getArguments();return e.length>2&&"AS"===e[1].getValue().toUpperCase()?e[2].getRange():null}getPlatformFlag(){let e=super.getFlags();return 1===e.length&&"platform"===e[0].getName()?e[0]:null}}t.From=From},384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48),i=n(4),a=n(201),o=n(385);class MessageBuffer extends o.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return MessageBuffer.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}MessageBuffer.emptyBuffer=Buffer.allocUnsafe(0);class ReadableStreamWrapper{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),a.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),a.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),a.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),a.Disposable.create(()=>this.stream.off("data",e))}}class WritableStreamWrapper{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),a.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),a.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),a.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,r)=>{const callback=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,callback):this.stream.write(e,callback)})}end(){this.stream.end()}}const s=Object.freeze({messageBuffer:Object.freeze({create:e=>new MessageBuffer(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new ReadableStreamWrapper(e),asWritableStream:e=>new WritableStreamWrapper(e)}),console:console,timer:Object.freeze({setTimeout:(e,t,...n)=>setTimeout(e,t,...n),clearTimeout(e){clearTimeout(e)},setImmediate:(e,...t)=>setImmediate(e,...t),clearImmediate(e){clearImmediate(e)}})});function RIL(){return s}!function(e){e.install=function install(){r.default.install(s)}}(RIL||(RIL={})),t.default=RIL},385:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0;t.AbstractMessageBuffer=class AbstractMessageBuffer{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),a=new Map,o=this.toString(i,"ascii").split("\r\n");if(o.length<2)return a;for(let e=0;e<o.length-2;e++){const t=o[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),i=t.substr(n+1).trim();a.set(r,i)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(48),i=n(83),a=n(84);var o;!function(e){e.is=function is(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)}}(t.MessageReader||(t.MessageReader={}));class AbstractMessageReader{constructor(){this.errorEmitter=new a.Emitter,this.closeEmitter=new a.Emitter,this.partialMessageEmitter=new a.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error("Reader received error. Reason: "+(i.string(e.message)?e.message:"unknown"))}}t.AbstractMessageReader=AbstractMessageReader,function(e){e.fromOptions=function fromOptions(e){var t;let n,i;const a=new Map;let o;const s=new Map;if(void 0===e||"string"==typeof e)n=null!=e?e:"utf-8";else{if(n=null!==(t=e.charset)&&void 0!==t?t:"utf-8",void 0!==e.contentDecoder&&(i=e.contentDecoder,a.set(i.name,i)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)a.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(o=e.contentTypeDecoder,s.set(o.name,o)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===o&&(o=r.default().applicationJson.decoder,s.set(o.name,o)),{charset:n,contentDecoder:i,contentDecoders:a,contentTypeDecoder:o,contentTypeDecoders:s}}}(o||(o={}));t.ReadableStreamMessageReader=class ReadableStreamMessageReader extends AbstractMessageReader{constructor(e,t){super(),this.readable=e,this.options=o.fromOptions(t),this.buffer=r.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData(e=>{this.onData(e)});return this.readable.onError(e=>this.fireError(e)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then(e=>{this.options.contentTypeDecoder.decode(e,this.options).then(e=>{this.callback(e)},e=>{this.fireError(e)})},e=>{this.fireError(e)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(r.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=r.default().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},387:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(48),i=n(83),a=n(388),o=n(84);var s;!function(e){e.is=function is(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)}}(t.MessageWriter||(t.MessageWriter={}));class AbstractMessageWriter{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error("Writer received error. Reason: "+(i.string(e.message)?e.message:"unknown"))}}t.AbstractMessageWriter=AbstractMessageWriter,function(e){e.fromOptions=function fromOptions(e){var t,n;return void 0===e||"string"==typeof e?{charset:null!=e?e:"utf-8",contentTypeEncoder:r.default().applicationJson.encoder}:{charset:null!==(t=e.charset)&&void 0!==t?t:"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:null!==(n=e.contentTypeEncoder)&&void 0!==n?n:r.default().applicationJson.encoder}}}(s||(s={}));t.WriteableStreamMessageWriter=class WriteableStreamMessageWriter extends AbstractMessageWriter{constructor(e,t){super(),this.writable=e,this.options=s.fromOptions(t),this.errorCount=0,this.writeSemaphore=new a.Semaphore(1),this.writable.onError(e=>this.fireError(e)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e).then(t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)},e=>{throw this.fireError(e),e}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(48);t.Semaphore=class Semaphore{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&r.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then(t=>{this._active--,e.resolve(t),this.runNext()},t=>{this._active--,e.reject(t),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.Trace=t.NullLogger=t.ProgressType=void 0;const r=n(48),i=n(83),a=n(203),o=n(390),s=n(84),c=n(204);var u,l,g,d,h,m,f,p,_,R,v,S,k;!function(e){e.type=new a.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.type=new a.NotificationType("$/progress")}(l||(l={}));t.ProgressType=class ProgressType{constructor(){}},function(e){e.is=function is(e){return i.func(e)}}(g||(g={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(d=t.Trace||(t.Trace={})),function(e){e.fromString=function fromString(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function toString(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(d=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function fromString(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(h=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new a.NotificationType("$/setTrace")}(m=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new a.NotificationType("$/logTrace")}(f=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(p=t.ConnectionErrors||(t.ConnectionErrors={}));class ConnectionError extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,ConnectionError.prototype)}}t.ConnectionError=ConnectionError,function(e){e.is=function is(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(_=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function is(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(R=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation(e,t){e.sendNotification(u.type,{id:t})},cleanup(e){}}),e.is=function is(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(v=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:R.Message,sender:v.Message}),e.is=function is(e){const t=e;return t&&R.is(t.receiver)&&v.is(t.sender)}}(S=t.CancellationStrategy||(t.CancellationStrategy={})),function(e){e.is=function is(e){const t=e;return t&&(S.is(t.cancellationStrategy)||_.is(t.connectionStrategy))}}(t.ConnectionOptions||(t.ConnectionOptions={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(k||(k={})),t.createMessageConnection=function createMessageConnection(e,n,_,R){const v=void 0!==_?_:t.NullLogger;let y=0,D=0,b=0,T=void 0;const C=Object.create(null);let A=void 0;const E=Object.create(null),P=new Map;let I,N,M=new o.LinkedMap,O=Object.create(null),w=Object.create(null),x=d.Off,F=h.Text,L=k.New;const V=new s.Emitter,U=new s.Emitter,H=new s.Emitter,q=new s.Emitter,W=new s.Emitter,j=R&&R.cancellationStrategy?R.cancellationStrategy:S.Message;function createRequestQueueKey(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function addMessageToQueue(e,t){a.isRequestMessage(t)?e.set(createRequestQueueKey(t.id),t):a.isResponseMessage(t)?e.set(function createResponseQueueKey(e){return null===e?"res-unknown-"+(++b).toString():"res-"+e.toString()}(t.id),t):e.set(function createNotificationQueueKey(){return"not-"+(++D).toString()}(),t)}function cancelUndispatched(e){}function isListening(){return L===k.Listening}function isClosed(){return L===k.Closed}function isDisposed(){return L===k.Disposed}function closeHandler(){L!==k.New&&L!==k.Listening||(L=k.Closed,U.fire(void 0))}function triggerMessageQueue(){I||0===M.size||(I=r.default().timer.setImmediate(()=>{I=void 0,function processMessageQueue(){if(0===M.size)return;const e=M.shift();try{a.isRequestMessage(e)?function handleRequest(e){if(isDisposed())return;function reply(t,r,i){const o={jsonrpc:"2.0",id:e.id};t instanceof a.ResponseError?o.error=t.toJson():o.result=void 0===t?null:t,traceSendingResponse(o,r,i),n.write(o)}function replyError(t,r,i){const a={jsonrpc:"2.0",id:e.id,error:t.toJson()};traceSendingResponse(a,r,i),n.write(a)}!function traceReceivedRequest(e){if(x===d.Off||!N)return;if(F===h.Text){let t=void 0;x===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),N.log(`Received request '${e.method} - (${e.id})'.`,t)}else logLSPMessage("receive-request",e)}(e);const t=C[e.method];let r,o;t&&(r=t.type,o=t.handler);const s=Date.now();if(o||T){const t=String(e.id),c=j.receiver.createCancellationTokenSource(t);w[t]=c;try{let u;if(o)if(void 0===e.params){if(void 0!==r&&0!==r.numberOfParams)return void replyError(new a.ResponseError(a.ErrorCodes.InvalidParams,`Request ${e.method} defines ${r.numberOfParams} params but recevied none.`),e.method,s);u=o(c.token)}else if(Array.isArray(e.params)){if(void 0!==r&&r.parameterStructures===a.ParameterStructures.byName)return void replyError(new a.ResponseError(a.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,s);u=o(...e.params,c.token)}else{if(void 0!==r&&r.parameterStructures===a.ParameterStructures.byPosition)return void replyError(new a.ResponseError(a.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,s);u=o(e.params,c.token)}else T&&(u=T(e.method,e.params,c.token));const l=u;u?l.then?l.then(n=>{delete w[t],reply(n,e.method,s)},n=>{delete w[t],n instanceof a.ResponseError?replyError(n,e.method,s):n&&i.string(n.message)?replyError(new a.ResponseError(a.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,s):replyError(new a.ResponseError(a.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,s)}):(delete w[t],reply(u,e.method,s)):(delete w[t],function replySuccess(t,r,i){void 0===t&&(t=null);const a={jsonrpc:"2.0",id:e.id,result:t};traceSendingResponse(a,r,i),n.write(a)}(u,e.method,s))}catch(n){delete w[t],n instanceof a.ResponseError?reply(n,e.method,s):n&&i.string(n.message)?replyError(new a.ResponseError(a.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,s):replyError(new a.ResponseError(a.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,s)}}else replyError(new a.ResponseError(a.ErrorCodes.MethodNotFound,"Unhandled method "+e.method),e.method,s)}(e):a.isNotificationMessage(e)?function handleNotification(e){if(isDisposed())return;let t,n=void 0;if(e.method===u.type.method)t=e=>{const t=e.id,n=w[String(t)];n&&n.cancel()};else{const r=E[e.method];r&&(t=r.handler,n=r.type)}if(t||A)try{!function traceReceivedNotification(e){if(x===d.Off||!N||e.method===f.type.method)return;if(F===h.Text){let t=void 0;x===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),N.log(`Received notification '${e.method}'.`,t)}else logLSPMessage("receive-notification",e)}(e),t?void 0===e.params?(void 0!==n&&0!==n.numberOfParams&&n.parameterStructures!==a.ParameterStructures.byName&&v.error(`Notification ${e.method} defines ${n.numberOfParams} params but recevied none.`),t()):Array.isArray(e.params)?(void 0!==n&&(n.parameterStructures===a.ParameterStructures.byName&&v.error(`Notification ${e.method} defines parameters by name but received parameters by position`),n.numberOfParams!==e.params.length&&v.error(`Notification ${e.method} defines ${n.numberOfParams} params but received ${e.params.length} argumennts`)),t(...e.params)):(void 0!==n&&n.parameterStructures===a.ParameterStructures.byPosition&&v.error(`Notification ${e.method} defines parameters by position but received parameters by name`),t(e.params)):A&&A(e.method,e.params)}catch(t){t.message?v.error(`Notification handler '${e.method}' failed with message: ${t.message}`):v.error(`Notification handler '${e.method}' failed unexpectedly.`)}else H.fire(e)}(e):a.isResponseMessage(e)?function handleResponse(e){if(isDisposed())return;if(null===e.id)e.error?v.error("Received response message without id: Error is: \n"+JSON.stringify(e.error,void 0,4)):v.error("Received response message without id. No further error information provided.");else{const t=String(e.id),n=O[t];if(function traceReceivedResponse(e,t){if(x===d.Off||!N)return;if(F===h.Text){let n=void 0;if(x===d.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";N.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else N.log(`Received response ${e.id} without active response promise.`,n)}else logLSPMessage("receive-response",e)}(e,n),n){delete O[t];try{if(e.error){const t=e.error;n.reject(new a.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?v.error(`Response handler '${n.method}' failed with message: ${e.message}`):v.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function handleInvalidMessage(e){if(!e)return void v.error("Received empty message.");v.error("Received message which is neither a response nor a notification message:\n"+JSON.stringify(e,null,4));const t=e;if(i.string(t.id)||i.number(t.id)){const e=String(t.id),n=O[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{triggerMessageQueue()}}()}))}e.onClose(closeHandler),e.onError((function readErrorHandler(e){V.fire([e,void 0,void 0])})),n.onClose(closeHandler),n.onError((function writeErrorHandler(e){V.fire(e)}));const callback=e=>{try{if(a.isNotificationMessage(e)&&e.method===u.type.method){const t=createRequestQueueKey(e.params.id),r=M.get(t);if(a.isRequestMessage(r)){const i=null==R?void 0:R.connectionStrategy,a=i&&i.cancelUndispatched?i.cancelUndispatched(r,cancelUndispatched):void 0;if(a&&(void 0!==a.error||void 0!==a.result))return M.delete(t),a.id=r.id,traceSendingResponse(a,e.method,Date.now()),void n.write(a)}}addMessageToQueue(M,e)}finally{triggerMessageQueue()}};function traceSendingResponse(e,t,n){if(x!==d.Off&&N)if(F===h.Text){let r=void 0;x===d.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),N.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else logLSPMessage("send-response",e)}function logLSPMessage(e,t){if(!N||x===d.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};N.log(n)}function throwIfClosedOrDisposed(){if(isClosed())throw new ConnectionError(p.Closed,"Connection is closed.");if(isDisposed())throw new ConnectionError(p.Disposed,"Connection is disposed.")}function undefinedToNull(e){return void 0===e?null:e}function nullToUndefined(e){return null===e?void 0:e}function isNamedParam(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function computeSingleParam(e,t){switch(e){case a.ParameterStructures.auto:return isNamedParam(t)?nullToUndefined(t):[undefinedToNull(t)];case a.ParameterStructures.byName:if(!isNamedParam(t))throw new Error("Recevied parameters by name but param is not an object literal.");return nullToUndefined(t);case a.ParameterStructures.byPosition:return[undefinedToNull(t)];default:throw new Error("Unknown parameter structure "+e.toString())}}function computeMessageParams(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=computeSingleParam(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(undefinedToNull(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const K={sendNotification:(e,...t)=>{let r,o;if(throwIfClosedOrDisposed(),i.string(e)){r=e;const n=t[0];let i=0,s=a.ParameterStructures.auto;a.ParameterStructures.is(n)&&(i=1,s=n);let c=t.length;const u=c-i;switch(u){case 0:o=void 0;break;case 1:o=computeSingleParam(s,t[i]);break;default:if(s===a.ParameterStructures.byName)throw new Error(`Recevied ${u} parameters for 'by Name' notification parameter structure.`);o=t.slice(i,c).map(e=>undefinedToNull(e))}}else{const n=t;r=e.method,o=computeMessageParams(e,n)}const s={jsonrpc:"2.0",method:r,params:o};!function traceSendingNotification(e){if(x!==d.Off&&N)if(F===h.Text){let t=void 0;x===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),N.log(`Sending notification '${e.method}'.`,t)}else logLSPMessage("send-notification",e)}(s),n.write(s)},onNotification:(e,t)=>{let n;return throwIfClosedOrDisposed(),i.func(e)?A=e:t&&(i.string(e)?(n=e,E[e]={type:void 0,handler:t}):(n=e.method,E[e.method]={type:e,handler:t})),{dispose:()=>{void 0!==n?delete E[n]:A=void 0}}},onProgress:(e,t,n)=>{if(P.has(t))throw new Error(`Progress handler for token ${t} already registered`);return P.set(t,n),{dispose:()=>{P.delete(t)}}},sendProgress:(e,t,n)=>{K.sendNotification(l.type,{token:t,value:n})},onUnhandledProgress:q.event,sendRequest:(e,...t)=>{let r,o;throwIfClosedOrDisposed(),function throwIfNotListening(){if(!isListening())throw new Error("Call listen() first.")}();let s=void 0;if(i.string(e)){r=e;const n=t[0],i=t[t.length-1];let u=0,l=a.ParameterStructures.auto;a.ParameterStructures.is(n)&&(u=1,l=n);let g=t.length;c.CancellationToken.is(i)&&(g-=1,s=i);const d=g-u;switch(d){case 0:o=void 0;break;case 1:o=computeSingleParam(l,t[u]);break;default:if(l===a.ParameterStructures.byName)throw new Error(`Recevied ${d} parameters for 'by Name' request parameter structure.`);o=t.slice(u,g).map(e=>undefinedToNull(e))}}else{const n=t;r=e.method,o=computeMessageParams(e,n);const i=e.numberOfParams;s=c.CancellationToken.is(n[i])?n[i]:void 0}const u=y++;let l;s&&(l=s.onCancellationRequested(()=>{j.sender.sendCancellation(K,u)}));return new Promise((e,t)=>{const i={jsonrpc:"2.0",id:u,method:r,params:o};let s={method:r,timerStart:Date.now(),resolve:t=>{e(t),j.sender.cleanup(u),null==l||l.dispose()},reject:e=>{t(e),j.sender.cleanup(u),null==l||l.dispose()}};!function traceSendingRequest(e){if(x!==d.Off&&N)if(F===h.Text){let t=void 0;x===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),N.log(`Sending request '${e.method} - (${e.id})'.`,t)}else logLSPMessage("send-request",e)}(i);try{n.write(i)}catch(e){s.reject(new a.ResponseError(a.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(O[String(u)]=s)})},onRequest:(e,t)=>{throwIfClosedOrDisposed();let n=null;return g.is(e)?(n=void 0,T=e):i.string(e)?(n=null,void 0!==t&&(n=e,C[e]={handler:t,type:void 0})):void 0!==t&&(n=e.method,C[e.method]={type:e,handler:t}),{dispose:()=>{null!==n&&(void 0!==n?delete C[n]:T=void 0)}}},trace:(e,t,n)=>{let r=!1,a=h.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,a=n.traceFormat||h.Text)),x=e,F=a,N=x===d.Off?void 0:t,!r||isClosed()||isDisposed()||K.sendNotification(m.type,{value:d.toString(e)})},onError:V.event,onClose:U.event,onUnhandledNotification:H.event,onDispose:W.event,end:()=>{n.end()},dispose:()=>{if(isDisposed())return;L=k.Disposed,W.fire(void 0);const t=new Error("Connection got disposed.");Object.keys(O).forEach(e=>{O[e].reject(t)}),O=Object.create(null),w=Object.create(null),M=new o.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{throwIfClosedOrDisposed(),function throwIfListening(){if(isListening())throw new ConnectionError(p.AlreadyListening,"Connection is already listening")}(),L=k.Listening,e.listen(callback)},inspect:()=>{r.default().console.log("inspect")}};return K.onNotification(f.type,e=>{x!==d.Off&&N&&N.log(e.message,x===d.Verbose?e.verbose:void 0)}),K.onNotification(l.type,e=>{const t=P.get(e.token);t?t(e.value):q.fire(e)}),K}},390:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class LinkedMap{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.key,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:n.value,done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const e={value:[n.key,n.value],done:!1};return n=n.next,e}return{value:void 0,done:!0}}};return r}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=LinkedMap;t.LRUCache=class LRUCache extends LinkedMap{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},391:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(82),t),i(n(25),t),i(n(22),t),i(n(392),t);var a=n(409);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return a.createProtocolConnection}}),function(e){e.lspReservedErrorRangeStart=-32899,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800}(t.LSPErrorCodes||(t.LSPErrorCodes={}))},392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeError=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.DocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=void 0;const r=n(393),i=n(22),a=n(394);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return a.ImplementationRequest}});const o=n(395);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const s=n(396);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const c=n(397);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return c.ConfigurationRequest}});const u=n(398);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return u.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return u.ColorPresentationRequest}});const l=n(399);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return l.FoldingRangeRequest}});const g=n(400);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return g.DeclarationRequest}});const d=n(401);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return d.SelectionRangeRequest}});const h=n(402);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return h.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return h.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return h.WorkDoneProgressCancelNotification}});const m=n(403);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.CallHierarchyPrepareRequest}});const f=n(404);Object.defineProperty(t,"SemanticTokenTypes",{enumerable:!0,get:function(){return f.SemanticTokenTypes}}),Object.defineProperty(t,"SemanticTokenModifiers",{enumerable:!0,get:function(){return f.SemanticTokenModifiers}}),Object.defineProperty(t,"SemanticTokens",{enumerable:!0,get:function(){return f.SemanticTokens}}),Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return f.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return f.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return f.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return f.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return f.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return f.SemanticTokensRegistrationType}});const p=n(405);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return p.ShowDocumentRequest}});const _=n(406);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return _.LinkedEditingRangeRequest}});const R=n(407);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return R.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return R.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return R.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return R.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return R.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return R.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return R.WillDeleteFilesRequest}});const v=n(408);var S,k;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return v.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return v.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return v.MonikerRequest}}),function(e){e.is=function is(e){const t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(S=t.DocumentFilter||(t.DocumentFilter={})),function(e){e.is=function is(e){if(!Array.isArray(e))return!1;for(let t of e)if(!r.string(t)&&!S.is(t))return!1;return!0}}(k=t.DocumentSelector||(t.DocumentSelector={})),function(e){e.type=new i.ProtocolRequestType("client/registerCapability")}(t.RegistrationRequest||(t.RegistrationRequest={})),function(e){e.type=new i.ProtocolRequestType("client/unregisterCapability")}(t.UnregistrationRequest||(t.UnregistrationRequest={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),function(e){e.hasId=function hasId(e){const t=e;return t&&r.string(t.id)&&t.id.length>0}}(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})),function(e){e.is=function is(e){const t=e;return t&&(null===t.documentSelector||k.is(t.documentSelector))}}(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})),function(e){e.is=function is(e){const t=e;return r.objectLiteral(t)&&(void 0===t.workDoneProgress||r.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function hasWorkDoneProgress(e){const t=e;return t&&r.boolean(t.workDoneProgress)}}(t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})),function(e){e.type=new i.ProtocolRequestType("initialize")}(t.InitializeRequest||(t.InitializeRequest={})),function(e){e.unknownProtocolVersion=1}(t.InitializeError||(t.InitializeError={})),function(e){e.type=new i.ProtocolNotificationType("initialized")}(t.InitializedNotification||(t.InitializedNotification={})),function(e){e.type=new i.ProtocolRequestType0("shutdown")}(t.ShutdownRequest||(t.ShutdownRequest={})),function(e){e.type=new i.ProtocolNotificationType0("exit")}(t.ExitNotification||(t.ExitNotification={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeConfiguration")}(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),function(e){e.type=new i.ProtocolNotificationType("window/showMessage")}(t.ShowMessageNotification||(t.ShowMessageNotification={})),function(e){e.type=new i.ProtocolRequestType("window/showMessageRequest")}(t.ShowMessageRequest||(t.ShowMessageRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/logMessage")}(t.LogMessageNotification||(t.LogMessageNotification={})),function(e){e.type=new i.ProtocolNotificationType("telemetry/event")}(t.TelemetryEventNotification||(t.TelemetryEventNotification={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.method="textDocument/didOpen",e.type=new i.ProtocolNotificationType(e.method)}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.isIncremental=function isIncremental(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function isFull(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}(t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})),function(e){e.method="textDocument/didChange",e.type=new i.ProtocolNotificationType(e.method)}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.method="textDocument/didClose",e.type=new i.ProtocolNotificationType(e.method)}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.method="textDocument/didSave",e.type=new i.ProtocolNotificationType(e.method)}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})),function(e){e.method="textDocument/willSave",e.type=new i.ProtocolNotificationType(e.method)}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.method="textDocument/willSaveWaitUntil",e.type=new i.ProtocolRequestType(e.method)}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),function(e){e.type=new i.ProtocolNotificationType("workspace/didChangeWatchedFiles")}(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),function(e){e.type=new i.ProtocolNotificationType("textDocument/publishDiagnostics")}(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.method="textDocument/completion",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.method="completionItem/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.method="textDocument/hover",e.type=new i.ProtocolRequestType(e.method)}(t.HoverRequest||(t.HoverRequest={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})),function(e){e.method="textDocument/signatureHelp",e.type=new i.ProtocolRequestType(e.method)}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.method="textDocument/definition",e.type=new i.ProtocolRequestType(e.method)}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.method="textDocument/references",e.type=new i.ProtocolRequestType(e.method)}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.method="textDocument/documentHighlight",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.method="textDocument/documentSymbol",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.method="textDocument/codeAction",e.type=new i.ProtocolRequestType(e.method)}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.method="codeAction/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})),function(e){e.method="workspace/symbol",e.type=new i.ProtocolRequestType(e.method)}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.method="textDocument/codeLens",e.type=new i.ProtocolRequestType(e.method)}(t.CodeLensRequest||(t.CodeLensRequest={})),function(e){e.method="codeLens/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})),function(e){e.method="workspace/codeLens/refresh",e.type=new i.ProtocolRequestType0(e.method)}(t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})),function(e){e.method="textDocument/documentLink",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),function(e){e.method="documentLink/resolve",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})),function(e){e.method="textDocument/formatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.method="textDocument/rangeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.method="textDocument/onTypeFormatting",e.type=new i.ProtocolRequestType(e.method)}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.Identifier=1}(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})),function(e){e.method="textDocument/rename",e.type=new i.ProtocolRequestType(e.method)}(t.RenameRequest||(t.RenameRequest={})),function(e){e.method="textDocument/prepareRename",e.type=new i.ProtocolRequestType(e.method)}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/executeCommand")}(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})),function(e){e.type=new i.ProtocolRequestType("workspace/applyEdit")}(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={}))},393:function(e,t,n){"use strict";function string(e){return"string"==typeof e||e instanceof String}function array(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function boolean(e){return!0===e||!1===e},t.string=string,t.number=function number(e){return"number"==typeof e||e instanceof Number},t.error=function error(e){return e instanceof Error},t.func=function func(e){return"function"==typeof e},t.array=array,t.stringArray=function stringArray(e){return array(e)&&e.every(e=>string(e))},t.typedArray=function typedArray(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function objectLiteral(e){return null!==e&&"object"==typeof e}},394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(22);!function(e){e.method="textDocument/implementation",e.type=new r.ProtocolRequestType(e.method)}(t.ImplementationRequest||(t.ImplementationRequest={}))},395:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(22);!function(e){e.method="textDocument/typeDefinition",e.type=new r.ProtocolRequestType(e.method)}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},396:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(22);!function(e){e.type=new r.ProtocolRequestType0("workspace/workspaceFolders")}(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})),function(e){e.type=new r.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")}(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={}))},397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(22);!function(e){e.type=new r.ProtocolRequestType("workspace/configuration")}(t.ConfigurationRequest||(t.ConfigurationRequest={}))},398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(22);!function(e){e.method="textDocument/documentColor",e.type=new r.ProtocolRequestType(e.method)}(t.DocumentColorRequest||(t.DocumentColorRequest={})),function(e){e.type=new r.ProtocolRequestType("textDocument/colorPresentation")}(t.ColorPresentationRequest||(t.ColorPresentationRequest={}))},399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=t.FoldingRangeKind=void 0;const r=n(22);!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.method="textDocument/foldingRange",e.type=new r.ProtocolRequestType(e.method)}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},4:function(e,t){e.exports=require("util")},400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(22);!function(e){e.method="textDocument/declaration",e.type=new r.ProtocolRequestType(e.method)}(t.DeclarationRequest||(t.DeclarationRequest={}))},401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(22);!function(e){e.method="textDocument/selectionRange",e.type=new r.ProtocolRequestType(e.method)}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(82),i=n(22);!function(e){e.type=new r.ProgressType,e.is=function is(t){return t===e.type}}(t.WorkDoneProgress||(t.WorkDoneProgress={})),function(e){e.type=new i.ProtocolRequestType("window/workDoneProgress/create")}(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})),function(e){e.type=new i.ProtocolNotificationType("window/workDoneProgress/cancel")}(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={}))},403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(22);!function(e){e.method="textDocument/prepareCallHierarchy",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})),function(e){e.method="callHierarchy/incomingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})),function(e){e.method="callHierarchy/outgoingCalls",e.type=new r.ProtocolRequestType(e.method)}(t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={}))},404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=void 0;const r=n(22);!function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator"}(t.SemanticTokenTypes||(t.SemanticTokenTypes={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(t.SemanticTokenModifiers||(t.SemanticTokenModifiers={})),function(e){e.is=function is(e){const t=e;return void 0!==t&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(t.SemanticTokens||(t.SemanticTokens={})),function(e){e.Relative="relative"}(t.TokenFormat||(t.TokenFormat={})),function(e){e.method="textDocument/semanticTokens",e.type=new r.RegistrationType(e.method)}(t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})),function(e){e.method="textDocument/semanticTokens/full",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRequest||(t.SemanticTokensRequest={})),function(e){e.method="textDocument/semanticTokens/full/delta",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})),function(e){e.method="textDocument/semanticTokens/range",e.type=new r.ProtocolRequestType(e.method)}(t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})),function(e){e.method="workspace/semanticTokens/refresh",e.type=new r.ProtocolRequestType0(e.method)}(t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={}))},405:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(22);!function(e){e.method="window/showDocument",e.type=new r.ProtocolRequestType(e.method)}(t.ShowDocumentRequest||(t.ShowDocumentRequest={}))},406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(22);!function(e){e.method="textDocument/linkedEditingRange",e.type=new r.ProtocolRequestType(e.method)}(t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={}))},407:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(22);!function(e){e.file="file",e.folder="folder"}(t.FileOperationPatternKind||(t.FileOperationPatternKind={})),function(e){e.method="workspace/willCreateFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})),function(e){e.method="workspace/didCreateFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})),function(e){e.method="workspace/willRenameFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})),function(e){e.method="workspace/didRenameFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})),function(e){e.method="workspace/didDeleteFiles",e.type=new r.ProtocolNotificationType(e.method)}(t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})),function(e){e.method="workspace/willDeleteFiles",e.type=new r.ProtocolRequestType(e.method)}(t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={}))},408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(22);!function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"}(t.UniquenessLevel||(t.UniquenessLevel={})),function(e){e.import="import",e.export="export",e.local="local"}(t.MonikerKind||(t.MonikerKind={})),function(e){e.method="textDocument/moniker",e.type=new r.ProtocolRequestType(e.method)}(t.MonikerRequest||(t.MonikerRequest={}))},409:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(82);t.createProtocolConnection=function createProtocolConnection(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),r.createMessageConnection(e,t,n,i)}},44:function(e,t){e.exports=require("net")},48:function(e,t,n){"use strict";let r;function RAL(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function install(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(RAL||(RAL={})),t.default=RAL},503:function(e,t,n){"use strict";function string(e){return"string"==typeof e||e instanceof String}function func(e){return"function"==typeof e}function array(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function boolean(e){return!0===e||!1===e},t.string=string,t.number=function number(e){return"number"==typeof e||e instanceof Number},t.error=function error(e){return e instanceof Error},t.func=func,t.array=array,t.stringArray=function stringArray(e){return array(e)&&e.every(e=>string(e))},t.typedArray=function typedArray(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function thenable(e){return e&&func(e.then)}},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(505),i=n(315);class Arg extends i.PropertyInstruction{constructor(e,t,n,i,a,o){super(e,t,n,i,a,o),this.property=null;const s=this.getPropertyArguments();1===s.length?this.property=new r.Property(this.document,this.escapeChar,s[0]):this.property=null}getProperty(){return this.property}}t.Arg=Arg},505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(149);class Property{constructor(e,t,n,i){this.assignmentOperatorRange=null,this.assignmentOperator=null,this.valueRange=null,this.value=null,this.document=e,this.escapeChar=t,this.nameRange=Property.getNameRange(e,n);let a=e.getText().substring(e.offsetAt(this.nameRange.start),e.offsetAt(this.nameRange.end));if(this.name=Property.getValue(a,t),i)this.valueRange=i.getRange(),a=e.getText().substring(e.offsetAt(this.valueRange.start),e.offsetAt(this.valueRange.end)),this.value=Property.getValue(a,t),this.range=r.Range.create(this.nameRange.start,this.valueRange.end);else{let i=n.getRange();this.nameRange.start.line===i.start.line&&this.nameRange.start.character===i.start.character&&this.nameRange.end.line===i.end.line&&this.nameRange.end.character===i.end.character||(this.valueRange=Property.getValueRange(e,n),a=e.getText().substring(e.offsetAt(this.valueRange.start),e.offsetAt(this.valueRange.end)),this.value=Property.getValue(a,t),this.assignmentOperatorRange=r.Range.create(this.nameRange.end,this.valueRange.start),this.assignmentOperator="="),this.range=i}}getRange(){return this.range}getName(){return this.name}getNameRange(){return this.nameRange}getValue(){return this.value}getValueRange(){return this.valueRange}getAssignmentOperator(){return this.assignmentOperator}getAssignmentOperatorRange(){return this.assignmentOperatorRange}getUnescapedValue(){if(null===this.valueRange)return null;let e=!1,t="",n=this.document.getText().substring(this.document.offsetAt(this.valueRange.start),this.document.offsetAt(this.valueRange.end));e:for(let r=0;r<n.length;r++){let i=n.charAt(r);switch(i){case this.escapeChar:for(let a=r+1;a<n.length;a++)switch(n.charAt(a)){case"\r":a++;case"\n":e=!0,r=a;continue e;case" ":case"\t":break;default:t+=i;continue e}t+=i;break;case"\r":case"\n":break;case" ":case"\t":e||(t+=i);break;case"#":if(e)for(let e=r+1;e<n.length;e++)switch(n.charAt(e)){case"\r":e++;case"\n":r=e;continue e}else t+=i;break;default:t+=i,e=!1}}return t}static getNameRange(e,t){let n=t.getValue(),i=n.indexOf("=");if(-1!==i){let a=n.charAt(0),o=n.charAt(i-1);if('"'===a&&'"'===o||"'"===a&&"'"===o||'"'!==a&&"'"!==a)return r.Range.create(t.getRange().start,e.positionAt(e.offsetAt(t.getRange().start)+i))}return t.getRange()}static getValueRange(e,t){return r.Range.create(e.positionAt(e.offsetAt(t.getRange().start)+t.getValue().indexOf("=")+1),e.positionAt(e.offsetAt(t.getRange().end)))}static getValue(e,t){let n=!1;const r=i.Util.findLeadingNonWhitespace(e,t);0!==r&&"#"===e.charAt(r)&&(n=!0);let a=(e=e.substring(r)).charAt(0),o=e.charAt(e.length-1),s="'"===a||'"'===a,c="'"===a&&"'"===o,u=!1;if('"'===a)for(let n=1;n<e.length;n++)e.charAt(n)===t?n++:'"'===e.charAt(n)&&n===e.length-1&&(u=!0);(c||u)&&(e=e.substring(1,e.length-1));let l=-1,g="",d=0;e:for(let r=0;r<e.length;r++){let i=e.charAt(r);switch(i){case t:if(r+1===e.length){g+=t;break e}if(i=e.charAt(r+1)," "===i||"\t"===i)t:for(let a=r+2;a<e.length;a++){let o=e.charAt(a);switch(o){case" ":case"\t":break;case"\r":a++;case"\n":n=!0,r=a;continue e;default:if(!u&&!c&&!s){o===t?(g+=i,r+=1):(g=g+i+o,r=a);continue e}break t}}if(u){"\r"===i?(n=!0,r+=2):"\n"===i?(n=!0,r++):'"'!==i&&(i===t&&r++,g+=t);continue e}if(c||s){"\r"===i?(n=!0,r+=2):"\n"===i?(n=!0,r++):g+=t;continue e}i===t?(g+=t,r++):"\r"===i?(n=!0,r+=2):"\n"===i?(n=!0,r++,d=r):(g+=i,r++);break;case" ":case"\t":n&&-1===l&&(l=r),g+=i;break;case"\r":r++;case"\n":n&&-1!==l&&(g=g.substring(0,g.length-(r-l-1)),l=-1);break;case"#":if(n){-1!==l&&(g=g.substring(0,g.length-(r-l)),l=-1);t:for(let t=r+1;t<e.length;t++)switch(e.charAt(t)){case"\r":t++;case"\n":r=t;break t}continue e}default:n&&(n=!1,l=-1),g+=i}}return g}}t.Property=Property},506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123);class Cmd extends r.JSONInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}}t.Cmd=Cmd},507:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123);class Copy extends r.JSONInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}stopSearchingForFlags(e){return-1===e.indexOf("--")}getFromFlag(){let e=super.getFlags();return 1===e.length&&"from"===e[0].getName()?e[0]:null}}t.Copy=Copy},508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(315);class Env extends r.PropertyInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}getProperties(){return super.getProperties()}}t.Env=Env},509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123);class Entrypoint extends r.JSONInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}}t.Entrypoint=Entrypoint},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(237);t.Argument=r.Argument;var i=n(882);t.JSONArgument=i.JSONArgument;const a=n(883);t.Comment=a.Comment;const o=n(884);var s=n(888);t.Flag=s.Flag;const c=n(122);t.Instruction=c.Instruction;var u=n(313);t.Line=u.Line;const l=n(885);t.ParserDirective=l.ParserDirective;var g=n(505);t.Property=g.Property;var d=n(886);t.Variable=d.Variable;var h=n(887);t.Add=h.Add;const m=n(504);t.Arg=m.Arg;const f=n(506);t.Cmd=f.Cmd;const p=n(507);t.Copy=p.Copy;const _=n(509);t.Entrypoint=_.Entrypoint;const R=n(508);t.Env=R.Env;const v=n(316);t.From=v.From;const S=n(510);t.Healthcheck=S.Healthcheck;var k=n(123);t.JSONInstruction=k.JSONInstruction;var y=n(889);t.Label=y.Label;var D=n(314);t.ModifiableInstruction=D.ModifiableInstruction;var b=n(511);t.Onbuild=b.Onbuild;var T=n(315);t.PropertyInstruction=T.PropertyInstruction;var C=n(890);t.Shell=C.Shell;var A=n(891);t.Stopsignal=A.Stopsignal;var E=n(893);t.User=E.User;var P=n(894);t.Volume=P.Volume;var I=n(892);t.Workdir=I.Workdir,function(e){e.ADD="ADD",e.ARG="ARG",e.CMD="CMD",e.COPY="COPY",e.ENTRYPOINT="ENTRYPOINT",e.ENV="ENV",e.EXPOSE="EXPOSE",e.FROM="FROM",e.HEALTHCHECK="HEALTHCHECK",e.LABEL="LABEL",e.MAINTAINER="MAINTAINER",e.ONBUILD="ONBUILD",e.RUN="RUN",e.SHELL="SHELL",e.STOPSIGNAL="STOPSIGNAL",e.USER="USER",e.VOLUME="VOLUME",e.WORKDIR="WORKDIR"}(t.Keyword||(t.Keyword={})),function(e){e.escape="escape",e.syntax="syntax"}(t.Directive||(t.Directive={})),t.DefaultVariables=["FTP_PROXY","ftp_proxy","HTTP_PROXY","http_proxy","HTTPS_PROXY","https_proxy","NO_PROXY","no_proxy"],function(e){e.parse=function parse(e){return(new o.Parser).parse(e)}}(t.DockerfileParser||(t.DockerfileParser={}))},510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(314);class Healthcheck extends r.ModifiableInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}stopSearchingForFlags(e){return"CMD"===(e=e.toUpperCase())||"NONE"===e}getSubcommand(){let e=this.getArguments();return 0!==e.length?e[0]:null}}t.Healthcheck=Healthcheck},511:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(884),a=n(122);class Onbuild extends a.Instruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}getTrigger(){let e=this.getTriggerWord();return null===e?null:e.toUpperCase()}getTriggerWord(){return this.getRangeContent(this.getTriggerRange())}getTriggerRange(){let e=this.getArguments();return e.length>0?e[0].getRange():null}getTriggerInstruction(){let e=this.getTriggerRange();if(null===e)return null;let t=this.getArguments();return i.Parser.createInstruction(this.document,this.dockerfile,this.escapeChar,r.Range.create(t[0].getRange().start,this.getRange().end),this.getTriggerWord(),e)}}t.Onbuild=Onbuild},512:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlainTextDocumentation=void 0;var r=function(){function PlainTextDocumentation(){this.dockerMessages={hoverAdd:"Copy files, folders, or remote URLs from `source` to the `dest` path in the image's filesystem.\n\n",hoverArg:"Define a variable with an optional default value that users can override at build-time when using `docker build`.\n\nSince Docker 1.9\n\n",hoverCmd:"Provide defaults for an executing container. If an executable is not specified, then ENTRYPOINT must be specified as well. There can only be one CMD instruction in a Dockerfile.\n\n",hoverCopy:"Copy files or folders from `source` to the `dest` path in the image's filesystem.\n\n",hoverEntrypoint:"Configures the container to be run as an executable.\n\n",hoverEnv:"Set the environment variable `key` to the value `value`.\n\n",hoverExpose:"Define the network `port`s that this container will listen on at runtime.\n\n",hoverFrom:"Set the `baseImage` to use for subsequent instructions. FROM must be the first instruction in a Dockerfile.\n\n",hoverHealthcheck:"Define how Docker should test the container to check that it is still working. Alternatively, disable the base image's HEALTHCHECK instruction. There can only be one HEALTHCHECK instruction in a Dockerfile.\n\nSince Docker 1.12\n\n",hoverLabel:"Adds metadata to an image.\n\nSince Docker 1.6\n\n",hoverMaintainer:"Set the Author field of the generated images. This instruction has been deprecated in favor of LABEL.\n\n",hoverOnbuild:"Add a trigger instruction to the image that will be executed when the image is used as a base image for another build.\n\n",hoverRun:"Execute any commands on top of the current image as a new layer and commit the results.\n\n",hoverShell:"Override the default shell used for the shell form of commands.\n\nSince Docker 1.12\n\n",hoverStopsignal:"Set the system call signal to use to send to the container to exit. Signals can be valid unsigned numbers or a signal name in the SIGNAME format such as SIGKILL.\n\nSince Docker 1.9\n\n",hoverUser:"Set the user name or UID to use when running the image in addition to any subsequent CMD, ENTRYPOINT, or RUN instructions that follow it in the Dockerfile.\n\n",hoverVolume:"Create a mount point with the specified name and mark it as holding externally mounted volumes from the native host or from other containers.\n\n",hoverWorkdir:"Set the working directory for any subsequent ADD, COPY, CMD, ENTRYPOINT, or RUN` instructions that follow it in the `Dockerfile`.\n\n",hoverAddFlagChown:"The username, groupname, or UID/GID combination to own the added content.",hoverCopyFlagChown:"The username, groupname, or UID/GID combination to own the copied content.",hoverCopyFlagFrom:"The previous build stage to use as the source location instead of the build's context.\n\nSince Docker 17.05.0-ce.",hoverFromFlagPlatform:"The platform of the image if referencing a multi-platform image.\n\nSince Docker CE 18.04.",hoverHealthcheckFlagInterval:"The seconds to wait for the health check to run after the container has started, and then again the number of seconds to wait before running again after the previous check has completed.",hoverHealthcheckFlagRetries:"The number of consecutive failures of this health check before the container is considered to be `unhealthy`.",hoverHealthcheckFlagStartPeriod:"The number of seconds to wait for the container to startup. Failures during this grace period will not count towards the maximum number of retries. However, should a health check succeed during this period then any subsequent failures will count towards the maximum number of retries.\n\nSince Docker 17.05.0-ce.",hoverHealthcheckFlagTimeout:"The number of seconds to wait for the check to complete before considering it to have failed.",hoverEscape:"Sets the character to use to escape characters and newlines in this Dockerfile. If unspecified, the default escape character is `\\`.\n\n",hoverSyntax:"Set the location of the Dockerfile builder to use for building the current Dockerfile.\n\n",signatureEscape:"Sets this Dockerfile's escape character. If unspecified, the default escape character is `\\`.",signatureEscape_Param:"The character to use to escape characters and newlines in this Dockerfile.",signatureAdd_Signature0:"Copy new files, directories or remote URLs to the image's filesystem.",signatureAdd_Signature0_Param1:"The resource to copy or unpack if it is a local tar archive in a recognized compression format.",signatureAdd_Signature0_Param3:"The name of the destination file or folder.",signatureArg_Signature0:"Define a variable that users can pass a value to at build-time with `docker build`.",signatureArg_Signature0_Param:"The name of the variable.",signatureArg_Signature1:"Define a variable with an optional default value that users can override at build-time with `docker build`.",signatureArg_Signature1_Param1:"The default value of the variable.",signatureCmd_Signature0:"Set the default executable and parameters for this executing container.",signatureCmd_Signature0_Param0:"The default executable for this executing container.",signatureCmd_Signature0_Param1:"A parameter to the default executable.",signatureCmd_Signature1:"Set the default parameters for this executing container. An ENTRYPOINT instruction must also be specified.",signatureCmd_Signature1_Param0:"A parameter to the entrypoint executable.",signatureCopy_Signature0:"Copy new files and directories to the image's filesystem.",signatureCopy_Signature0_Param0:"Optional flags to configure this instruction.",signatureCopy_Signature0_Param1:"The resource to copy.",signatureCopyFlagFrom:"Set the build stage to use as the source location of this copy instruction instead of the build's context.",signatureCopyFlagFrom_Param:"The build stage or image name to use as the source. Also may be a numeric index.",signatureEntrypoint_Signature0:"Configure this container for running as an executable.",signatureEntrypoint_Signature0_Param1:"The container's main executable.",signatureEntrypoint_Signature0_Param2:"A parameter to the entrypoint executable.",signatureEnv_Signature0:"Set an environment variable to the specified value. The value will be in the environment of any descendent Dockerfiles",signatureEnv_Signature0_Param0:"The name of the environment variable.",signatureEnv_Signature0_Param1:"The value to set the environment variable to.",signatureExpose:"Define network ports for this container to listen on at runtime.",signatureExpose_Param0:"The port that this container should listen on.",signatureFrom_Signature0:"Set the base image to use for any subsequent instructions that follow.",signatureFrom_Signature0_Param:"The name of the base image to use.",signatureFrom_Signature1_Param1:"The tag of the base image to use.",signatureFrom_Signature2_Param1:"The digest of the base image to use.",signatureFrom_Signature3:"Set the base image to use for any subsequent instructions that follow and also give this build stage a name.",signatureFrom_Signature3_Param2:"The name of this build stage.",signatureFrom_Param2:"The name of this build stage.",signatureHealthcheck_Signature0:"Define how Docker should test the container to check that it is still working.",signatureHealthcheck_Signature1_Param2:"The parameters to the CMD instruction for the healthcheck.",signatureHealthcheck_Signature2:"Disable the inherited HEALTHCHECK instruction from the base image.",signatureLabel_Signature0:"Set metadata to an image.",signatureLabel_Signature0_Param0:"The name of the metadata.",signatureLabel_Signature0_Param1:"The value of the metadata.",signatureMaintainer:'Set the "Author" field of this image.',signatureMaintainer_Param:"The name of this image's maintainer.",signatureOnbuild:"Register a build instruction as a trigger to be executed when this image is used as a base image for another build.",signatureOnbuild_Param:"The build instruction to register as a trigger instruction.",signatureRun_Signature0:"Execute commands inside a shell.",signatureRun_Signature0_Param0:"The command to run.",signatureRun_Signature0_Param1:"A parameter to the command.",signatureRun_Signature1:"Execute commands without invoking a command shell.",signatureShell:"Override default shell used for the shell form of commands.",signatureShell_Param1:"The shell executable to use.",signatureShell_Param2:"The parameters to the shell executable.",signatureStopsignal:"Set the system call signal to use to send to the container to exit.",signatureStopsignal_Param:"The signal to send to the container to exit. This may be an valid unsigned number or a signal name in the SIGNAME format such as SIGKILL.",signatureUser_Signature0:"Set the user name to use for running any RUN, CMD, and ENTRYPOINT instructions that follow.",signatureUser_Signature0_Param:"The user name to use.",signatureUser_Signature1:"Set the user name and user group to use for running any RUN, CMD, and ENTRYPOINT instructions that follow.",signatureUser_Signature1_Param1:"The group name to use.",signatureUser_Signature2:"Set the UID to use for running any RUN, CMD, and ENTRYPOINT instructions that follow.",signatureUser_Signature2_Param:"The UID to use.",signatureUser_Signature3:"Set the UID and GID to use for running any RUN, CMD, and ENTRYPOINT instructions that follow.",signatureUser_Signature3_Param1:"The GID to use.",signatureVolume_Signature0:"Create mount points for holding externally mounted volumes from the native host or other containers.",signatureVolume_Signature0_Param0:"The name of the mount point.",signatureWorkdir:"Set the working directory for any ADD, COPY, CMD, ENTRYPOINT, or RUN instructions that follow.",signatureWorkdir_Param:"The absolute or relative path to use as the working directory. Will be created if it does not exist.",proposalArgNameOnly:"Define a variable that users can set at build-time when using `docker build`.\n\n",proposalArgDefaultValue:"Define a variable with the given default value that users can override at build-time when using `docker build`.\n\n",proposalHealthcheckExec:"Define how Docker should test the container to check that it is still working. There can only be one HEALTHCHECK instruction in a Dockerfile.\n\nSince Docker 1.12\n\n",proposalHealthcheckNone:"Disable the HEALTHCHECK instruction inherited from the base image if one exists. There can only be one HEALTHCHECK instruction in a Dockerfile.\n\nSince Docker 1.12"},this.markdowns={ADD:this.dockerMessages.hoverAdd+"ADD hello.txt /absolute/path\nADD hello.txt relative/to/workdir",ADD_FlagChown:this.dockerMessages.hoverAddFlagChown,ARG:this.dockerMessages.hoverArg+"ARG userName\nARG testOutputDir=test",ARG_NameOnly:this.dockerMessages.proposalArgNameOnly+"ARG userName",ARG_DefaultValue:this.dockerMessages.proposalArgDefaultValue+"ARG testOutputDir=test",CMD:this.dockerMessages.hoverCmd+'CMD [ "/bin/ls", "-l" ]',COPY:this.dockerMessages.hoverCopy+"COPY hello.txt /absolute/path\nCOPY hello.txt relative/to/workdir",COPY_FlagChown:this.dockerMessages.hoverCopyFlagChown,COPY_FlagFrom:this.dockerMessages.hoverCopyFlagFrom,ENTRYPOINT:this.dockerMessages.hoverEntrypoint+'ENTRYPOINT [ "/opt/app/run.sh", "--port", "8080" ]',ENV:this.dockerMessages.hoverEnv+"ENV buildTag=1.0",EXPOSE:this.dockerMessages.hoverExpose+"EXPOSE 8080\nEXPOSE 80 443 22\nEXPOSE 7000-8000",FROM:this.dockerMessages.hoverFrom+"FROM baseImage\nFROM baseImage:tag\nFROM baseImage@digest",FROM_FlagPlatform:this.dockerMessages.hoverFromFlagPlatform,HEALTHCHECK:this.dockerMessages.hoverHealthcheck+"HEALTHCHECK --interval=10m --timeout=5s \\\n    CMD curl -f http://localhost/ || exit 1\nHEALTHCHECK NONE",HEALTHCHECK_CMD:this.dockerMessages.proposalHealthcheckExec+"HEALTHCHECK --interval=10m --timeout=5s \\\n    CMD curl -f http://localhost/ || exit 1",HEALTHCHECK_FlagInterval:this.dockerMessages.hoverHealthcheckFlagInterval,HEALTHCHECK_FlagRetries:this.dockerMessages.hoverHealthcheckFlagRetries,HEALTHCHECK_FlagStartPeriod:this.dockerMessages.hoverHealthcheckFlagStartPeriod,HEALTHCHECK_FlagTimeout:this.dockerMessages.hoverHealthcheckFlagTimeout,HEALTHCHECK_NONE:this.dockerMessages.proposalHealthcheckNone,LABEL:this.dockerMessages.hoverLabel+'LABEL version="1.0"',MAINTAINER:this.dockerMessages.hoverMaintainer+"MAINTAINER name",ONBUILD:this.dockerMessages.hoverOnbuild+"ONBUILD ADD . /opt/app/src/extensions\nONBUILD RUN /usr/local/bin/build.sh /opt/app",RUN:this.dockerMessages.hoverRun+"RUN apt-get update && apt-get install -y curl",SHELL:this.dockerMessages.hoverShell+'SHELL [ "powershell", "-command" ]',STOPSIGNAL:this.dockerMessages.hoverStopsignal+"STOPSIGNAL 9",USER:this.dockerMessages.hoverUser+"USER daemon",VOLUME:this.dockerMessages.hoverVolume+'VOLUME [ "/var/db" ]',WORKDIR:this.dockerMessages.hoverWorkdir+"WORKDIR /path/to/workdir\nWORKDIR relative/path",escape:this.dockerMessages.hoverEscape+"# escape=`",syntax:this.dockerMessages.hoverSyntax+"# syntax=docker/dockerfile:1.0\n# syntax=docker/dockerfile:1.0.0-experimental",signatureEscape:this.dockerMessages.signatureEscape,signatureEscape_Param:this.dockerMessages.signatureEscape_Param,signatureAdd_Signature0:this.dockerMessages.signatureAdd_Signature0,signatureAdd_Signature0_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureAdd_Signature0_Param1:this.dockerMessages.signatureAdd_Signature0_Param1,signatureAdd_Signature0_Param2:this.dockerMessages.signatureAdd_Signature0_Param1,signatureAdd_Signature0_Param3:this.dockerMessages.signatureAdd_Signature0_Param3,signatureAdd_Signature1:this.dockerMessages.signatureAdd_Signature0,signatureAdd_Signature1_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureAdd_Signature1_Param2:this.dockerMessages.signatureAdd_Signature0_Param1,signatureAdd_Signature1_Param3:this.dockerMessages.signatureAdd_Signature0_Param1,signatureAdd_Signature1_Param4:this.dockerMessages.signatureAdd_Signature0_Param3,signatureArg_Signature0:this.dockerMessages.signatureArg_Signature0,signatureArg_Signature0_Param:this.dockerMessages.signatureArg_Signature0_Param,signatureArg_Signature1:this.dockerMessages.signatureArg_Signature1,signatureArg_Signature1_Param0:this.dockerMessages.signatureArg_Signature0_Param,signatureArg_Signature1_Param1:this.dockerMessages.signatureArg_Signature1_Param1,signatureCmd_Signature0:this.dockerMessages.signatureCmd_Signature0,signatureCmd_Signature0_Param1:this.dockerMessages.signatureCmd_Signature0_Param0,signatureCmd_Signature0_Param2:this.dockerMessages.signatureCmd_Signature0_Param1,signatureCmd_Signature0_Param3:this.dockerMessages.signatureCmd_Signature0_Param1,signatureCmd_Signature1:this.dockerMessages.signatureCmd_Signature1,signatureCmd_Signature1_Param1:this.dockerMessages.signatureCmd_Signature1_Param0,signatureCmd_Signature1_Param2:this.dockerMessages.signatureCmd_Signature1_Param0,signatureCmd_Signature1_Param3:this.dockerMessages.signatureCmd_Signature1_Param0,signatureCmd_Signature2:this.dockerMessages.signatureCmd_Signature0,signatureCmd_Signature2_Param0:this.dockerMessages.signatureCmd_Signature0_Param0,signatureCmd_Signature2_Param1:this.dockerMessages.signatureCmd_Signature0_Param1,signatureCmd_Signature2_Param2:this.dockerMessages.signatureCmd_Signature0_Param1,signatureCopy_Signature0:this.dockerMessages.signatureCopy_Signature0,signatureCopy_Signature0_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureCopy_Signature0_Param1:this.dockerMessages.signatureCopy_Signature0_Param1,signatureCopy_Signature0_Param2:this.dockerMessages.signatureCopy_Signature0_Param1,signatureCopy_Signature0_Param3:this.dockerMessages.signatureAdd_Signature0_Param3,signatureCopy_Signature1:this.dockerMessages.signatureCopy_Signature0,signatureCopy_Signature1_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureCopy_Signature1_Param2:this.dockerMessages.signatureCopy_Signature0_Param1,signatureCopy_Signature1_Param3:this.dockerMessages.signatureCopy_Signature0_Param1,signatureCopy_Signature1_Param4:this.dockerMessages.signatureAdd_Signature0_Param3,signatureCopyFlagFrom:this.dockerMessages.signatureCopyFlagFrom,signatureCopyFlagFrom_Param:this.dockerMessages.signatureCopyFlagFrom_Param,signatureEntrypoint_Signature0:this.dockerMessages.signatureEntrypoint_Signature0,signatureEntrypoint_Signature0_Param1:this.dockerMessages.signatureEntrypoint_Signature0_Param1,signatureEntrypoint_Signature0_Param2:this.dockerMessages.signatureEntrypoint_Signature0_Param2,signatureEntrypoint_Signature0_Param3:this.dockerMessages.signatureEntrypoint_Signature0_Param2,signatureEntrypoint_Signature1:this.dockerMessages.signatureEntrypoint_Signature0,signatureEntrypoint_Signature1_Param0:this.dockerMessages.signatureEntrypoint_Signature0_Param1,signatureEntrypoint_Signature1_Param1:this.dockerMessages.signatureEntrypoint_Signature0_Param2,signatureEntrypoint_Signature1_Param2:this.dockerMessages.signatureEntrypoint_Signature0_Param2,signatureEnv_Signature0:this.dockerMessages.signatureEnv_Signature0,signatureEnv_Signature0_Param0:this.dockerMessages.signatureEnv_Signature0_Param0,signatureEnv_Signature0_Param1:this.dockerMessages.signatureEnv_Signature0_Param1,signatureEnv_Signature1:this.dockerMessages.signatureEnv_Signature0,signatureEnv_Signature1_Param0:this.dockerMessages.signatureEnv_Signature0_Param0,signatureEnv_Signature1_Param1:this.dockerMessages.signatureEnv_Signature0_Param1,signatureEnv_Signature2:this.dockerMessages.signatureEnv_Signature0,signatureEnv_Signature2_Param0:this.dockerMessages.signatureEnv_Signature0_Param0,signatureEnv_Signature2_Param1:this.dockerMessages.signatureEnv_Signature0_Param1,signatureEnv_Signature2_Param2:this.dockerMessages.signatureEnv_Signature0_Param0,signatureEnv_Signature2_Param3:this.dockerMessages.signatureEnv_Signature0_Param1,signatureExpose:this.dockerMessages.signatureExpose,signatureExpose_Param0:this.dockerMessages.signatureExpose_Param0,signatureExpose_Param1:this.dockerMessages.signatureExpose_Param0,signatureFrom_Signature0:this.dockerMessages.signatureFrom_Signature0,signatureFrom_Signature0_Param:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature1:this.dockerMessages.signatureFrom_Signature0,signatureFrom_Signature1_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature1_Param1:this.dockerMessages.signatureFrom_Signature1_Param1,signatureFrom_Signature2:this.dockerMessages.signatureFrom_Signature0,signatureFrom_Signature2_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature2_Param1:this.dockerMessages.signatureFrom_Signature2_Param1,signatureFrom_Signature3:this.dockerMessages.signatureFrom_Signature3,signatureFrom_Signature3_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature3_Param2:this.dockerMessages.signatureFrom_Signature3_Param2,signatureFrom_Signature4:this.dockerMessages.signatureFrom_Signature3,signatureFrom_Signature4_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature4_Param1:this.dockerMessages.signatureFrom_Signature1_Param1,signatureFrom_Signature4_Param3:this.dockerMessages.signatureFrom_Signature3_Param2,signatureFrom_Signature5:this.dockerMessages.signatureFrom_Signature3,signatureFrom_Signature5_Param0:this.dockerMessages.signatureFrom_Signature0_Param,signatureFrom_Signature5_Param1:this.dockerMessages.signatureFrom_Signature2_Param1,signatureFrom_Signature5_Param3:this.dockerMessages.signatureFrom_Signature3_Param2,signatureHealthcheck:this.dockerMessages.signatureHealthcheck_Signature0,signatureHealthcheck_Signature0:this.dockerMessages.signatureHealthcheck_Signature0,signatureHealthcheck_Signature1:this.dockerMessages.signatureHealthcheck_Signature0,signatureHealthcheck_Signature1_Param0:this.dockerMessages.signatureCopy_Signature0_Param0,signatureHealthcheck_Signature1_Param2:this.dockerMessages.signatureHealthcheck_Signature1_Param2,signatureHealthcheck_Signature2:this.dockerMessages.signatureHealthcheck_Signature0,signatureHealthcheckFlagInterval_Param:this.dockerMessages.hoverHealthcheckFlagInterval,signatureHealthcheckFlagRetries_Param:this.dockerMessages.hoverHealthcheckFlagRetries,signatureHealthcheckFlagStartPeriod_Param:this.dockerMessages.hoverHealthcheckFlagStartPeriod,signatureHealthcheckFlagTimeout_Param:this.dockerMessages.hoverHealthcheckFlagTimeout,signatureLabel_Signature0:this.dockerMessages.signatureLabel_Signature0,signatureLabel_Signature0_Param0:this.dockerMessages.signatureLabel_Signature0_Param0,signatureLabel_Signature0_Param1:this.dockerMessages.signatureLabel_Signature0_Param1,signatureLabel_Signature1:this.dockerMessages.signatureLabel_Signature0,signatureLabel_Signature1_Param0:this.dockerMessages.signatureLabel_Signature0_Param0,signatureLabel_Signature1_Param1:this.dockerMessages.signatureLabel_Signature0_Param1,signatureLabel_Signature2:this.dockerMessages.signatureLabel_Signature0,signatureLabel_Signature2_Param0:this.dockerMessages.signatureLabel_Signature0_Param0,signatureLabel_Signature2_Param1:this.dockerMessages.signatureLabel_Signature0_Param1,signatureLabel_Signature2_Param2:this.dockerMessages.signatureLabel_Signature0_Param0,signatureLabel_Signature2_Param3:this.dockerMessages.signatureLabel_Signature0_Param1,signatureMaintainer:this.dockerMessages.signatureMaintainer,signatureMaintainer_Param:this.dockerMessages.signatureMaintainer_Param,signatureOnbuild:this.dockerMessages.signatureOnbuild,signatureOnbuild_Param:this.dockerMessages.signatureOnbuild_Param,signatureRun_Signature0:this.dockerMessages.signatureRun_Signature0,signatureRun_Signature0_Param0:this.dockerMessages.signatureRun_Signature0_Param0,signatureRun_Signature0_Param1:this.dockerMessages.signatureRun_Signature0_Param1,signatureRun_Signature0_Param2:this.dockerMessages.signatureRun_Signature0_Param1,signatureRun_Signature1:this.dockerMessages.signatureRun_Signature1,signatureRun_Signature1_Param1:this.dockerMessages.signatureRun_Signature0_Param0,signatureRun_Signature1_Param2:this.dockerMessages.signatureRun_Signature0_Param1,signatureRun_Signature1_Param3:this.dockerMessages.signatureRun_Signature0_Param1,signatureShell:this.dockerMessages.signatureShell,signatureShell_Param1:this.dockerMessages.signatureShell_Param1,signatureShell_Param2:this.dockerMessages.signatureShell_Param2,signatureShell_Param3:this.dockerMessages.signatureShell_Param2,signatureStopsignal:this.dockerMessages.signatureStopsignal,signatureStopsignal_Param:this.dockerMessages.signatureStopsignal_Param,signatureUser_Signature0:this.dockerMessages.signatureUser_Signature0,signatureUser_Signature0_Param:this.dockerMessages.signatureUser_Signature0_Param,signatureUser_Signature1:this.dockerMessages.signatureUser_Signature1,signatureUser_Signature1_Param0:this.dockerMessages.signatureUser_Signature0,signatureUser_Signature1_Param1:this.dockerMessages.signatureUser_Signature1_Param1,signatureUser_Signature2:this.dockerMessages.signatureUser_Signature2,signatureUser_Signature2_Param:this.dockerMessages.signatureUser_Signature2_Param,signatureUser_Signature3:this.dockerMessages.signatureUser_Signature3,signatureUser_Signature3_Param0:this.dockerMessages.signatureUser_Signature2_Param,signatureUser_Signature3_Param1:this.dockerMessages.signatureUser_Signature3_Param1,signatureVolume_Signature0:this.dockerMessages.signatureVolume_Signature0,signatureVolume_Signature0_Param0:this.dockerMessages.signatureVolume_Signature0_Param0,signatureVolume_Signature0_Param1:this.dockerMessages.signatureVolume_Signature0_Param0,signatureVolume_Signature1:this.dockerMessages.signatureVolume_Signature0,signatureVolume_Signature1_Param1:this.dockerMessages.signatureVolume_Signature0_Param0,signatureVolume_Signature1_Param2:this.dockerMessages.signatureVolume_Signature0_Param0,signatureWorkdir:this.dockerMessages.signatureWorkdir,signatureWorkdir_Param:this.dockerMessages.signatureWorkdir_Param}}return PlainTextDocumentation.prototype.getDocumentation=function(e){return this.markdowns[e]},PlainTextDocumentation}();t.PlainTextDocumentation=r},82:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const a=n(384);a.default.install();const o=n(202),s=n(2),c=n(14),u=n(13),l=n(44);i(n(202),t);class IPCMessageReader extends o.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),o.Disposable.create(()=>this.process.off("message",e))}}t.IPCMessageReader=IPCMessageReader;class IPCMessageWriter extends o.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=IPCMessageWriter;class SocketMessageReader extends o.ReadableStreamMessageReader{constructor(e,t="utf-8"){super(a.default().stream.asReadableStream(e),t)}}t.SocketMessageReader=SocketMessageReader;class SocketMessageWriter extends o.WriteableStreamMessageWriter{constructor(e,t){super(a.default().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=SocketMessageWriter;class StreamMessageReader extends o.ReadableStreamMessageReader{constructor(e,t){super(a.default().stream.asReadableStream(e),t)}}t.StreamMessageReader=StreamMessageReader;class StreamMessageWriter extends o.WriteableStreamMessageWriter{constructor(e,t){super(a.default().stream.asWritableStream(e),t)}}t.StreamMessageWriter=StreamMessageWriter;const g=process.env.XDG_RUNTIME_DIR,d=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function generateRandomPipeName(){const e=u.randomBytes(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=g?s.join(g,`vscode-ipc-${e}.sock`):s.join(c.tmpdir(),`vscode-${e}.sock`);const n=d.get(process.platform);return void 0!==n&&t.length>=n&&a.default().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function createClientPipeTransport(e,t="utf-8"){let n;const r=new Promise((e,t)=>{n=e});return new Promise((i,a)=>{let o=l.createServer(e=>{o.close(),n([new SocketMessageReader(e,t),new SocketMessageWriter(e,t)])});o.on("error",a),o.listen(e,()=>{o.removeListener("error",a),i({onConnected:()=>r})})})},t.createServerPipeTransport=function createServerPipeTransport(e,t="utf-8"){const n=l.createConnection(e);return[new SocketMessageReader(n,t),new SocketMessageWriter(n,t)]},t.createClientSocketTransport=function createClientSocketTransport(e,t="utf-8"){let n;const r=new Promise((e,t)=>{n=e});return new Promise((i,a)=>{const o=l.createServer(e=>{o.close(),n([new SocketMessageReader(e,t),new SocketMessageWriter(e,t)])});o.on("error",a),o.listen(e,"127.0.0.1",()=>{o.removeListener("error",a),i({onConnected:()=>r})})})},t.createServerSocketTransport=function createServerSocketTransport(e,t="utf-8"){const n=l.createConnection(e,"127.0.0.1");return[new SocketMessageReader(n,t),new SocketMessageWriter(n,t)]},t.createMessageConnection=function createMessageConnection(e,t,n,r){n||(n=o.NullLogger);const i=function isReadableStream(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new StreamMessageReader(e):e,a=function isWritableStream(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new StreamMessageWriter(t):t;return o.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),o.createMessageConnection(i,a,n,r)}},83:function(e,t,n){"use strict";function string(e){return"string"==typeof e||e instanceof String}function array(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function boolean(e){return!0===e||!1===e},t.string=string,t.number=function number(e){return"number"==typeof e||e instanceof Number},t.error=function error(e){return e instanceof Error},t.func=function func(e){return"function"==typeof e},t.array=array,t.stringArray=function stringArray(e){return array(e)&&e.every(e=>string(e))}},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(48);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class CallbackList{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,o=n.length;a<o;a++)try{t.push(n[a].apply(i[a],e))}catch(e){r.default().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class Emitter{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new CallbackList),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=Emitter._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=Emitter,Emitter._noop=function(){}},878:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=t.combineFeatures=t.combineLanguagesFeatures=t.combineWorkspaceFeatures=t.combineWindowFeatures=t.combineClientFeatures=t.combineTracerFeatures=t.combineTelemetryFeatures=t.combineConsoleFeatures=t._LanguagesImpl=t.BulkUnregistration=t.BulkRegistration=t.ErrorMessageTracker=t.TextDocuments=void 0;const r=n(21),i=n(503),a=n(879),o=n(1915),s=n(1916),c=n(1917),u=n(1918),l=n(880),g=n(1919),d=n(1920),h=n(1921),m=n(1922);function null2Undefined(e){if(null!==e)return e}t.TextDocuments=class TextDocuments{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new r.Emitter,this._onDidOpen=new r.Emitter,this._onDidClose=new r.Emitter,this._onDidSave=new r.Emitter,this._onWillSave=new r.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=r.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(e=>{let t=e.textDocument,n=this._configuration.create(t.uri,t.languageId,t.version,t.text);this._documents[t.uri]=n;let r=Object.freeze({document:n});this._onDidOpen.fire(r),this._onDidChangeContent.fire(r)}),e.onDidChangeTextDocument(e=>{let t=e.textDocument,n=e.contentChanges;if(0===n.length)return;let r=this._documents[t.uri];const{version:i}=t;if(null==i)throw new Error(`Received document change event for ${t.uri} without valid version identifier`);r=this._configuration.update(r,n,i),this._documents[t.uri]=r,this._onDidChangeContent.fire(Object.freeze({document:r}))}),e.onDidCloseTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&(delete this._documents[e.textDocument.uri],this._onDidClose.fire(Object.freeze({document:t})))}),e.onWillSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onWillSave.fire(Object.freeze({document:t,reason:e.reason}))}),e.onWillSaveTextDocumentWaitUntil((e,t)=>{let n=this._documents[e.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:e.reason}),t):[]}),e.onDidSaveTextDocument(e=>{let t=this._documents[e.textDocument.uri];t&&this._onDidSave.fire(Object.freeze({document:t}))})}};t.ErrorMessageTracker=class ErrorMessageTracker{constructor(){this._messages=Object.create(null)}add(e){let t=this._messages[e];t||(t=0),t++,this._messages[e]=t}sendErrors(e){Object.keys(this._messages).forEach(t=>{e.window.showErrorMessage(t)})}};class RemoteConsoleImpl{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(r.MessageType.Error,e)}warn(e){this.send(r.MessageType.Warning,e)}info(e){this.send(r.MessageType.Info,e)}log(e){this.send(r.MessageType.Log,e)}send(e,t){this._rawConnection&&this._rawConnection.sendNotification(r.LogMessageNotification.type,{type:e,message:t})}}const f=g.ShowDocumentFeature(o.ProgressFeature(class _RemoteWindowImpl{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...t){let n={type:r.MessageType.Error,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(null2Undefined)}showWarningMessage(e,...t){let n={type:r.MessageType.Warning,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(null2Undefined)}showInformationMessage(e,...t){let n={type:r.MessageType.Info,message:e,actions:t};return this.connection.sendRequest(r.ShowMessageRequest.type,n).then(null2Undefined)}}));!function(e){e.create=function create(){return new BulkRegistrationImpl}}(t.BulkRegistration||(t.BulkRegistration={}));class BulkRegistrationImpl{constructor(){this._registrations=[],this._registered=new Set}add(e,t){const n=i.string(e)?e:e.method;if(this._registered.has(n))throw new Error(n+" is already added to this registration");const r=a.generateUuid();this._registrations.push({id:r,method:n,registerOptions:t||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}}!function(e){e.create=function create(){return new BulkUnregistrationImpl(void 0,[])}}(t.BulkUnregistration||(t.BulkUnregistration={}));class BulkUnregistrationImpl{constructor(e,t){this._connection=e,this._unregistrations=new Map,t.forEach(e=>{this._unregistrations.set(e.method,e)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let t of this._unregistrations.values())e.push(t);let t={unregisterations:e};this._connection.sendRequest(r.UnregistrationRequest.type,t).then(void 0,e=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const t=i.string(e)?e:e.method,n=this._unregistrations.get(t);if(!n)return!1;let a={unregisterations:[n]};return this._connection.sendRequest(r.UnregistrationRequest.type,a).then(()=>{this._unregistrations.delete(t)},e=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}}class RemoteClientImpl{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,t,n){return e instanceof BulkRegistrationImpl?this.registerMany(e):e instanceof BulkUnregistrationImpl?this.registerSingle1(e,t,n):this.registerSingle2(e,t)}registerSingle1(e,t,n){const o=i.string(t)?t:t.method,s=a.generateUuid();let c={registrations:[{id:s,method:o,registerOptions:n||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(r.RegistrationRequest.type,c).then(t=>(e.add({id:s,method:o}),e),e=>(this.connection.console.info(`Registering request handler for ${o} failed.`),Promise.reject(e)))}registerSingle2(e,t){const n=i.string(e)?e:e.method,o=a.generateUuid();let s={registrations:[{id:o,method:n,registerOptions:t||{}}]};return this.connection.sendRequest(r.RegistrationRequest.type,s).then(e=>r.Disposable.create(()=>{this.unregisterSingle(o,n)}),e=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(e)))}unregisterSingle(e,t){let n={unregisterations:[{id:e,method:t}]};return this.connection.sendRequest(r.UnregistrationRequest.type,n).then(void 0,t=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let t=e.asRegistrationParams();return this.connection.sendRequest(r.RegistrationRequest.type,t).then(()=>new BulkUnregistrationImpl(this._connection,t.registrations.map(e=>({id:e.id,method:e.method}))),e=>(this.connection.console.info("Bulk registration failed."),Promise.reject(e)))}}const p=d.FileOperationsFeature(c.WorkspaceFoldersFeature(s.ConfigurationFeature(class _RemoteWorkspaceImpl{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){let t=function isApplyWorkspaceEditParams(e){return e&&!!e.edit}(e)?e:{edit:e};return this.connection.sendRequest(r.ApplyWorkspaceEditRequest.type,t)}})));class TracerImpl{constructor(){this._trace=r.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,t){this._trace!==r.Trace.Off&&this.connection.sendNotification(r.LogTraceNotification.type,{message:e,verbose:this._trace===r.Trace.Verbose?t:void 0})}}class TelemetryImpl{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(r.TelemetryEventNotification.type,e)}}class _LanguagesImpl{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return o.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,t){return o.attachPartialResult(this.connection,t)}}t._LanguagesImpl=_LanguagesImpl;const _=m.MonikerFeature(h.LinkedEditingRangeFeature(l.SemanticTokensFeature(u.CallHierarchyFeature(_LanguagesImpl))));function combineConsoleFeatures(e,t){return function(n){return t(e(n))}}function combineTelemetryFeatures(e,t){return function(n){return t(e(n))}}function combineTracerFeatures(e,t){return function(n){return t(e(n))}}function combineClientFeatures(e,t){return function(n){return t(e(n))}}function combineWindowFeatures(e,t){return function(n){return t(e(n))}}function combineWorkspaceFeatures(e,t){return function(n){return t(e(n))}}t.combineConsoleFeatures=combineConsoleFeatures,t.combineTelemetryFeatures=combineTelemetryFeatures,t.combineTracerFeatures=combineTracerFeatures,t.combineClientFeatures=combineClientFeatures,t.combineWindowFeatures=combineWindowFeatures,t.combineWorkspaceFeatures=combineWorkspaceFeatures,t.combineLanguagesFeatures=function combineLanguagesFeatures(e,t){return function(n){return t(e(n))}},t.combineFeatures=function combineFeatures(e,t){function combine(e,t,n){return e&&t?n(e,t):e||t}return{__brand:"features",console:combine(e.console,t.console,combineConsoleFeatures),tracer:combine(e.tracer,t.tracer,combineTracerFeatures),telemetry:combine(e.telemetry,t.telemetry,combineTelemetryFeatures),client:combine(e.client,t.client,combineClientFeatures),window:combine(e.window,t.window,combineWindowFeatures),workspace:combine(e.workspace,t.workspace,combineWorkspaceFeatures)}},t.createConnection=function createConnection(e,t,n){const a=n&&n.console?new(n.console(RemoteConsoleImpl)):new RemoteConsoleImpl,s=e(a);a.rawAttach(s);const c=n&&n.tracer?new(n.tracer(TracerImpl)):new TracerImpl,u=n&&n.telemetry?new(n.telemetry(TelemetryImpl)):new TelemetryImpl,l=n&&n.client?new(n.client(RemoteClientImpl)):new RemoteClientImpl,g=n&&n.window?new(n.window(f)):new f,d=n&&n.workspace?new(n.workspace(p)):new p,h=n&&n.languages?new(n.languages(_)):new _,m=[a,c,u,l,g,d,h];function asPromise(e){return e instanceof Promise?e:i.thenable(e)?new Promise((t,n)=>{e.then(e=>t(e),e=>n(e))}):Promise.resolve(e)}let R=void 0,v=void 0,S=void 0,k={listen:()=>s.listen(),sendRequest:(e,...t)=>s.sendRequest(i.string(e)?e:e.method,...t),onRequest:(e,t)=>s.onRequest(e,t),sendNotification:(e,t)=>{const n=i.string(e)?e:e.method;1===arguments.length?s.sendNotification(n):s.sendNotification(n,t)},onNotification:(e,t)=>s.onNotification(e,t),onProgress:s.onProgress,sendProgress:s.sendProgress,onInitialize:e=>v=e,onInitialized:e=>s.onNotification(r.InitializedNotification.type,e),onShutdown:e=>R=e,onExit:e=>S=e,get console(){return a},get telemetry(){return u},get tracer(){return c},get client(){return l},get window(){return g},get workspace(){return d},get languages(){return h},onDidChangeConfiguration:e=>s.onNotification(r.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>s.onNotification(r.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>s.onNotification(r.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>s.onNotification(r.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>s.onNotification(r.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>s.onNotification(r.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>s.onRequest(r.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>s.onNotification(r.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>s.sendNotification(r.PublishDiagnosticsNotification.type,e),onHover:e=>s.onRequest(r.HoverRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),void 0)),onCompletion:e=>s.onRequest(r.CompletionRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onCompletionResolve:e=>s.onRequest(r.CompletionResolveRequest.type,e),onSignatureHelp:e=>s.onRequest(r.SignatureHelpRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),void 0)),onDeclaration:e=>s.onRequest(r.DeclarationRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onDefinition:e=>s.onRequest(r.DefinitionRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onTypeDefinition:e=>s.onRequest(r.TypeDefinitionRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onImplementation:e=>s.onRequest(r.ImplementationRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onReferences:e=>s.onRequest(r.ReferencesRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onDocumentHighlight:e=>s.onRequest(r.DocumentHighlightRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onDocumentSymbol:e=>s.onRequest(r.DocumentSymbolRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onWorkspaceSymbol:e=>s.onRequest(r.WorkspaceSymbolRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onCodeAction:e=>s.onRequest(r.CodeActionRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onCodeActionResolve:e=>s.onRequest(r.CodeActionResolveRequest.type,(t,n)=>e(t,n)),onCodeLens:e=>s.onRequest(r.CodeLensRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onCodeLensResolve:e=>s.onRequest(r.CodeLensResolveRequest.type,(t,n)=>e(t,n)),onDocumentFormatting:e=>s.onRequest(r.DocumentFormattingRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),void 0)),onDocumentRangeFormatting:e=>s.onRequest(r.DocumentRangeFormattingRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),void 0)),onDocumentOnTypeFormatting:e=>s.onRequest(r.DocumentOnTypeFormattingRequest.type,(t,n)=>e(t,n)),onRenameRequest:e=>s.onRequest(r.RenameRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),void 0)),onPrepareRename:e=>s.onRequest(r.PrepareRenameRequest.type,(t,n)=>e(t,n)),onDocumentLinks:e=>s.onRequest(r.DocumentLinkRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onDocumentLinkResolve:e=>s.onRequest(r.DocumentLinkResolveRequest.type,(t,n)=>e(t,n)),onDocumentColor:e=>s.onRequest(r.DocumentColorRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onColorPresentation:e=>s.onRequest(r.ColorPresentationRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onFoldingRanges:e=>s.onRequest(r.FoldingRangeRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onSelectionRanges:e=>s.onRequest(r.SelectionRangeRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),o.attachPartialResult(s,t))),onExecuteCommand:e=>s.onRequest(r.ExecuteCommandRequest.type,(t,n)=>e(t,n,o.attachWorkDone(s,t),void 0)),dispose:()=>s.dispose()};for(let e of m)e.attach(k);return s.onRequest(r.InitializeRequest.type,e=>{t.initialize(e),i.string(e.trace)&&(c.trace=r.Trace.fromString(e.trace));for(let t of m)t.initialize(e.capabilities);if(v){return asPromise(v(e,(new r.CancellationTokenSource).token,o.attachWorkDone(s,e),void 0)).then(e=>{if(e instanceof r.ResponseError)return e;let t=e;t||(t={capabilities:{}});let n=t.capabilities;n||(n={},t.capabilities=n),void 0===n.textDocumentSync||null===n.textDocumentSync?n.textDocumentSync=i.number(k.__textDocumentSync)?k.__textDocumentSync:r.TextDocumentSyncKind.None:i.number(n.textDocumentSync)||i.number(n.textDocumentSync.change)||(n.textDocumentSync.change=i.number(k.__textDocumentSync)?k.__textDocumentSync:r.TextDocumentSyncKind.None);for(let e of m)e.fillServerCapabilities(n);return t})}{let e={capabilities:{textDocumentSync:r.TextDocumentSyncKind.None}};for(let t of m)t.fillServerCapabilities(e.capabilities);return e}}),s.onRequest(r.ShutdownRequest.type,()=>(t.shutdownReceived=!0,R?R((new r.CancellationTokenSource).token):void 0)),s.onNotification(r.ExitNotification.type,()=>{try{S&&S()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),s.onNotification(r.SetTraceNotification.type,e=>{c.trace=r.Trace.fromString(e.value)}),k}},879:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class ValueUUID{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class V4UUID extends ValueUUID{constructor(){super([V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-","4",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._oneOf(V4UUID._timeHighBits),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return V4UUID._oneOf(V4UUID._chars)}}function v4(){return new V4UUID}V4UUID._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],V4UUID._timeHighBits=["8","9","a","b"],t.empty=new ValueUUID("00000000-0000-0000-0000-000000000000"),t.v4=v4;const r=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function isUUID(e){return r.test(e)}t.isUUID=isUUID,t.parse=function parse(e){if(!isUUID(e))throw new Error("invalid uuid");return new ValueUUID(e)},t.generateUuid=function generateUuid(){return v4().asHex()}},880:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensBuilder=t.SemanticTokensFeature=void 0;const r=n(21);t.SemanticTokensFeature=e=>class extends e{get semanticTokens(){return{on:e=>{const t=r.SemanticTokensRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))},onDelta:e=>{const t=r.SemanticTokensDeltaRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))},onRange:e=>{const t=r.SemanticTokensRangeRequest.type;this.connection.onRequest(t,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(t,n)))}}}};t.SemanticTokensBuilder=class SemanticTokensBuilder{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,t,n,r,i){let a=e,o=t;this._dataLen>0&&(a-=this._prevLine,0===a&&(o-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=o,this._data[this._dataLen++]=n,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._prevLine=e,this._prevChar=t}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){if(void 0!==this._prevData){const e=this._prevData.length,t=this._data.length;let n=0;for(;n<t&&n<e&&this._prevData[n]===this._data[n];)n++;if(n<t&&n<e){let r=0;for(;r<t&&r<e&&this._prevData[e-1-r]===this._data[t-1-r];)r++;const i=this._data.slice(n,t-r);return{resultId:this.id,edits:[{start:n,deleteCount:e-r-n,data:i}]}}return n<t?{resultId:this.id,edits:[{start:n,deleteCount:0,data:this._data.slice(n)}]}:n<e?{resultId:this.id,edits:[{start:n,deleteCount:e-n}]}:{resultId:this.id,edits:[]}}return this.build()}}},881:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveModulePath=t.FileSystem=t.resolveGlobalYarnPath=t.resolveGlobalNodePath=t.resolve=t.uriToFilePath=void 0;const r=n(19),i=n(2),a=n(10),o=n(94);function isWindows(){return"win32"===process.platform}function resolve(e,t,n,r){const s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((c,u)=>{let l=process.env,g=Object.create(null);Object.keys(l).forEach(e=>g[e]=l[e]),t&&a.existsSync(t)&&(g.NODE_PATH?g.NODE_PATH=t+i.delimiter+g.NODE_PATH:g.NODE_PATH=t,r&&r("NODE_PATH value is: "+g.NODE_PATH)),g.ELECTRON_RUN_AS_NODE="1";try{let t=o.fork("",[],{cwd:n,env:g,execArgv:["-e",s]});if(void 0===t.pid)return void u(new Error(`Starting process to resolve node module  ${e} failed`));t.on("error",e=>{u(e)}),t.on("message",n=>{"r"===n.c&&(t.send({c:"e"}),n.s?c(n.r):u(new Error("Failed to resolve module: "+e)))});let r={c:"rs",a:e};t.send(r)}catch(e){u(e)}})}function resolveGlobalNodePath(e){let t="npm";const n=Object.create(null);Object.keys(process.env).forEach(e=>n[e]=process.env[e]),n.NO_UPDATE_NOTIFIER="true";const r={encoding:"utf8",env:n};isWindows()&&(t="npm.cmd",r.shell=!0);let handler=()=>{};try{process.on("SIGPIPE",handler);let n=o.spawnSync(t,["config","get","prefix"],r).stdout;if(!n)return void(e&&e("'npm config get prefix' didn't return a value."));let a=n.trim();return e&&e("'npm config get prefix' value is: "+a),a.length>0?isWindows()?i.join(a,"node_modules"):i.join(a,"lib","node_modules"):void 0}catch(e){return}finally{process.removeListener("SIGPIPE",handler)}}var s;t.uriToFilePath=function uriToFilePath(e){let t=r.parse(e);if("file:"!==t.protocol||!t.path)return;let n=t.path.split("/");for(var a=0,o=n.length;a<o;a++)n[a]=decodeURIComponent(n[a]);if("win32"===process.platform&&n.length>1){let e=n[0],t=n[1];0===e.length&&t.length>1&&":"===t[1]&&n.shift()}return i.normalize(n.join("/"))},t.resolve=resolve,t.resolveGlobalNodePath=resolveGlobalNodePath,t.resolveGlobalYarnPath=function resolveGlobalYarnPath(e){let t="yarn",n={encoding:"utf8"};isWindows()&&(t="yarn.cmd",n.shell=!0);let handler=()=>{};try{process.on("SIGPIPE",handler);let r=o.spawnSync(t,["global","dir","--json"],n),a=r.stdout;if(!a)return void(e&&(e("'yarn global dir' didn't return a value."),r.stderr&&e(r.stderr)));let s=a.trim().split(/\r?\n/);for(let e of s)try{let t=JSON.parse(e);if("log"===t.type)return i.join(t.data,"node_modules")}catch(e){}return}catch(e){return}finally{process.removeListener("SIGPIPE",handler)}},function(e){let t=void 0;function isCaseSensitive(){return void 0!==t||(t="win32"!==process.platform&&(!a.existsSync(__filename.toUpperCase())||!a.existsSync(__filename.toLowerCase()))),t}e.isCaseSensitive=isCaseSensitive,e.isParent=function isParent(e,t){return isCaseSensitive()?0===i.normalize(t).indexOf(i.normalize(e)):0===i.normalize(t).toLowerCase().indexOf(i.normalize(e).toLowerCase())}}(s=t.FileSystem||(t.FileSystem={})),t.resolveModulePath=function resolveModulePath(e,t,n,r){return n?(i.isAbsolute(n)||(n=i.join(e,n)),resolve(t,n,n,r).then(e=>s.isParent(n,e)?e:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,n=>resolve(t,resolveGlobalNodePath(r),e,r))):resolve(t,resolveGlobalNodePath(r),e,r)}},882:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(237);class JSONArgument extends r.Argument{constructor(e,t,n){super(e,t),this.jsonRange=n}getJSONRange(){return this.jsonRange}getJSONValue(){let e=super.getValue();return e=e.substring(1,e.length-1),e}}t.JSONArgument=JSONArgument},883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(313),a=n(149);class Comment extends i.Line{constructor(e,t){super(e,t)}toString(){const e=this.getContent();return e?"# "+e:"#"}getContent(){let e=this.getContentRange();return null===e?"":this.document.getText().substring(this.document.offsetAt(e.start),this.document.offsetAt(e.end))}getContentRange(){let e=this.getRange();const t=this.document.offsetAt(e.start);let n=this.document.getText().substring(t,this.document.offsetAt(e.end)),i=-1,o=-1;for(let e=1;e<n.length;e++)if(!a.Util.isWhitespace(n.charAt(e))){i=e;break}if(-1===i)return null;for(let e=n.length-1;e>=1;e--)if(!a.Util.isWhitespace(n.charAt(e))){o=e+1;break}return r.Range.create(this.document.positionAt(t+i),this.document.positionAt(t+o))}}t.Comment=Comment},884:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(883),a=n(885),o=n(122),s=n(887),c=n(504),u=n(506),l=n(507),g=n(508),d=n(509),h=n(316),m=n(510),f=n(889),p=n(511),_=n(1926),R=n(890),v=n(891),S=n(892),k=n(893),y=n(894),D=n(1927);class Parser{constructor(){this.escapeChar=null}static createInstruction(e,t,n,r,i,a){switch(i.toUpperCase()){case"ADD":return new s.Add(e,r,t,n,i,a);case"ARG":return new c.Arg(e,r,t,n,i,a);case"CMD":return new u.Cmd(e,r,t,n,i,a);case"COPY":return new l.Copy(e,r,t,n,i,a);case"ENTRYPOINT":return new d.Entrypoint(e,r,t,n,i,a);case"ENV":return new g.Env(e,r,t,n,i,a);case"FROM":return new h.From(e,r,t,n,i,a);case"HEALTHCHECK":return new m.Healthcheck(e,r,t,n,i,a);case"LABEL":return new f.Label(e,r,t,n,i,a);case"ONBUILD":return new p.Onbuild(e,r,t,n,i,a);case"RUN":return new _.Run(e,r,t,n,i,a);case"SHELL":return new R.Shell(e,r,t,n,i,a);case"STOPSIGNAL":return new v.Stopsignal(e,r,t,n,i,a);case"WORKDIR":return new S.Workdir(e,r,t,n,i,a);case"USER":return new k.User(e,r,t,n,i,a);case"VOLUME":return new y.Volume(e,r,t,n,i,a)}return new o.Instruction(e,r,t,n,i,a)}getParserDirectives(e,t){const n=[];this.escapeChar="";e:for(let i=0;i<t.length;i++)switch(t.charAt(i)){case" ":case"\t":break;case"\r":case"\n":break e;case"#":let o=i,s=-1,c=-1;for(let u=i+1;u<t.length;u++){let l=t.charAt(u);switch(l){case" ":case"\t":-1!==s&&-1===c&&(c=u);break;case"\r":case"\n":break e;case"=":let g=-1,d=-1;-1===c&&(c=u);let h=t.length;t:for(let e=u+1;e<t.length;e++)switch(l=t.charAt(e),l){case"\r":case"\n":-1!==g&&-1===d&&(d=e),h=e;break t;case"\t":case" ":-1!==g&&-1===d&&(d=e);continue;default:-1===g&&(g=e)}let m=r.Range.create(e.positionAt(o),e.positionAt(h));if(-1===s)break e;-1===g?(g=u+1,d=h):-1===d&&(d=t.length);let f=r.Range.create(e.positionAt(s),e.positionAt(c)),p=r.Range.create(e.positionAt(g),e.positionAt(d));n.push(new a.ParserDirective(e,m,f,p)),s=-1,i="\r"===t.charAt(d)?d+1:d;continue e;default:-1===s&&(s=u)}}break;default:break e}return n}parse(e){let t=r.TextDocument.create("","",0,e),n=new D.Dockerfile(t),a=this.getParserDirectives(t,e),o=0;this.escapeChar="\\",a.length>0&&(n.setDirectives(a),this.escapeChar=n.getEscapeCharacter(),o=t.offsetAt(r.Position.create(a.length,0)));e:for(let a=o;a<e.length;a++){let o=e.charAt(a);switch(o){case" ":case"\t":case"\r":case"\n":break;case"#":for(let s=a+1;s<e.length;s++)switch(o=e.charAt(s),o){case"\r":n.addComment(new i.Comment(t,r.Range.create(t.positionAt(a),t.positionAt(s)))),a=s+1;continue e;case"\n":n.addComment(new i.Comment(t,r.Range.create(t.positionAt(a),t.positionAt(s)))),a=s;continue e}let s=r.Range.create(t.positionAt(a),t.positionAt(e.length));n.addComment(new i.Comment(t,s));break e;default:let c=o,u=a,l=-1,g=null,d=null,h=!1;t:for(let s=a+1;s<e.length;s++)switch(o=e.charAt(s),o){case this.escapeChar:if(h=!0,o=e.charAt(s+1),"\r"===o)s+=2;else if("\n"===o)s++;else{if(" "===o||"\t"===o){for(let t=s+2;t<e.length;t++)switch(e.charAt(t)){case" ":case"\t":break;case"\r":s=t+1;continue t;case"\n":s=t;continue t;default:l=s+1,c+=this.escapeChar,s=t-2;continue t}l=s+1,c+=this.escapeChar;break t}l=s+1,c+=this.escapeChar}break;case" ":case"\t":if(h){n:for(let t=s+1;t<e.length;t++)switch(e.charAt(t)){case" ":case"\t":break;case"\r":s=t+1;continue t;case"\n":s=t;continue t;default:break n}h=!1}-1===l&&(l=s);let m=!1;n:for(let o=s+1;o<e.length;o++)switch(e.charAt(o)){case"\r":case"\n":if(m)continue;a=o,g=r.Range.create(t.positionAt(u),t.positionAt(o)),d=r.Range.create(t.positionAt(u),t.positionAt(l)),n.addInstruction(Parser.createInstruction(t,n,this.escapeChar,g,c,d));continue e;case this.escapeChar:let s=e.charAt(o+1);if("\n"===s)m=!0,o++;else if("\r"===s)m=!0,o+=2;else if(" "===s||"\t"===s)r:for(let t=o+2;t<e.length;t++)switch(e.charAt(t)){case" ":case"\t":break;case"\r":m=!0,o=t+1;break r;case"\n":m=!0,o=t;break r;default:o=t;break r}continue;case"#":if(m){for(let a=o+1;a<e.length;a++)switch(e.charAt(a)){case"\r":n.addComment(new i.Comment(t,r.Range.create(t.positionAt(o),t.positionAt(a)))),o=a+1;continue n;case"\n":let e=r.Range.create(t.positionAt(o),t.positionAt(a));n.addComment(new i.Comment(t,e)),o=a;continue n}let a=r.Range.create(t.positionAt(o),t.positionAt(e.length));n.addComment(new i.Comment(t,a));break n}break;case" ":case"\t":break;default:m&&(m=!1)}g=r.Range.create(t.positionAt(u),t.positionAt(e.length)),d=r.Range.create(t.positionAt(u),t.positionAt(l)),n.addInstruction(Parser.createInstruction(t,n,this.escapeChar,g,c,d));break e;case"\r":-1===l&&(l=s),s++;case"\n":if(h)continue;-1===l&&(l=s),g=r.Range.create(t.positionAt(u),t.positionAt(l)),n.addInstruction(Parser.createInstruction(t,n,this.escapeChar,g,c,g)),a=s;continue e;default:l=s+1,c+=o}-1===l&&(l=e.length),g=r.Range.create(t.positionAt(u),t.positionAt(l)),n.addInstruction(Parser.createInstruction(t,n,this.escapeChar,g,c,g));break e}}return n.organizeComments(),n}}t.Parser=Parser},885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(51),i=n(313);class ParserDirective extends i.Line{constructor(e,t,n,r){super(e,t),this.nameRange=n,this.valueRange=r}toString(){return"# "+this.getName()+"="+this.getValue()}getNameRange(){return this.nameRange}getValueRange(){return this.valueRange}getName(){return this.document.getText().substring(this.document.offsetAt(this.nameRange.start),this.document.offsetAt(this.nameRange.end))}getValue(){return this.document.getText().substring(this.document.offsetAt(this.valueRange.start),this.document.offsetAt(this.valueRange.end))}getDirective(){const e=r.Directive[this.getName().toLowerCase()];return void 0===e?null:e}}t.ParserDirective=ParserDirective},886:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Variable=class Variable{constructor(e,t,n,r,i,a,o,s,c,u){this.name=e,this.nameRange=t,this.range=n,this.modifier=r,this.modifierRange=i,this.substitutionParameter=a,this.substitutionRange=o,this.defined=s,this.buildVariable=c,this.stringValue=u}toString(){return this.stringValue}getName(){return this.name}getNameRange(){return this.nameRange}getRange(){return this.range}getModifier(){return this.modifier}getModifierRange(){return this.modifierRange}getSubstitutionParameter(){return this.substitutionParameter}getSubstitutionRange(){return this.substitutionRange}isDefined(){return this.defined}isBuildVariable(){return!0===this.buildVariable}isEnvironmentVariable(){return!1===this.buildVariable}}},887:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123);class Add extends r.JSONInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}stopSearchingForFlags(e){return-1===e.indexOf("--")}}t.Add=Add},888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(25),i=n(1925);t.Flag=class Flag{constructor(e,t,n,r,i,a){if(this.options=[],this.range=t,this.name=n,this.nameRange=r,this.value=i,this.valueRange=a,null!==this.value){let t=e.offsetAt(a.start),n=-1,r=-1,o=!1;for(let a=0;a<i.length;a++)switch(i.charAt(a)){case"=":if(o=!0,-1===r){r=a+1;break}break;case",":this.options.push(this.createFlagOption(e,i,t,n,r,a)),n=-1,r=-1;break;default:-1===n&&(n=a)}o&&-1!==n&&this.options.push(this.createFlagOption(e,i,t,n,r,i.length))}}createFlagOption(e,t,n,a,o,s){const c=r.Range.create(e.positionAt(n+a),e.positionAt(n+s));return-1===o?new i.FlagOption(c,t.substring(a,s),c,null,null):new i.FlagOption(c,t.substring(a,o-1),r.Range.create(e.positionAt(n+a),e.positionAt(n+o-1)),t.substring(o,s),r.Range.create(e.positionAt(n+o),e.positionAt(n+s)))}toString(){return this.valueRange?"--"+this.name+"="+this.value:"--"+this.name}getRange(){return this.range}getName(){return this.name}getNameRange(){return this.nameRange}getValue(){return this.value}getValueRange(){return this.valueRange}getOption(e){for(const t of this.options)if(t.getName()===e)return t;return null}getOptions(){return this.options}hasOptions(){return this.options.length>0}}},889:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(315),i=n(149);class Label extends r.PropertyInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}getVariables(){const e=super.getVariables(),t=this.getProperties();for(const n of t){const t=n.getUnescapedValue();if(null!==t&&t.length>2&&"'"===t.charAt(0)&&"'"===t.charAt(t.length-1)){const t=n.getValueRange();for(let n=0;n<e.length;n++)i.Util.isInsideRange(e[n].getRange().start,t)&&(e.splice(n,1),n--)}}return e}getProperties(){return super.getProperties()}}t.Label=Label},890:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123);class Shell extends r.JSONInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}}t.Shell=Shell},891:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122);class Stopsignal extends r.Instruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}}t.Stopsignal=Stopsignal},892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122);class Workdir extends r.Instruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}}t.Workdir=Workdir},893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(122);class User extends r.Instruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}}t.User=User},894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(123);class Volume extends r.JSONInstruction{constructor(e,t,n,r,i,a){super(e,t,n,r,i,a)}}t.Volume=Volume},895:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerfileLanguageServiceFactory=t.CommandIds=void 0;var r=n(1930);!function(e){e.LOWERCASE="docker.command.convertToLowercase",e.UPPERCASE="docker.command.convertToUppercase",e.EXTRA_ARGUMENT="docker.command.removeExtraArgument",e.DIRECTIVE_TO_BACKTICK="docker.command.directiveToBacktick",e.DIRECTIVE_TO_BACKSLASH="docker.command.directiveToBackslash",e.FLAG_TO_CHOWN="docker.command.flagToChown",e.FLAG_TO_COPY_FROM="docker.command.flagToCopyFrom",e.FLAG_TO_HEALTHCHECK_INTERVAL="docker.command.flagToHealthcheckInterval",e.FLAG_TO_HEALTHCHECK_RETRIES="docker.command.flagToHealthcheckRetries",e.FLAG_TO_HEALTHCHECK_START_PERIOD="docker.command.flagToHealthcheckStartPeriod",e.FLAG_TO_HEALTHCHECK_TIMEOUT="docker.command.flagToHealthcheckTimeout",e.REMOVE_EMPTY_CONTINUATION_LINE="docker.command.removeEmptyContinuationLine",e.CONVERT_TO_AS="docker.command.convertToAS"}(t.CommandIds||(t.CommandIds={})),function(e){e.createLanguageService=function createLanguageService(){return new r.LanguageService}}(t.DockerfileLanguageServiceFactory||(t.DockerfileLanguageServiceFactory={}))},896:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerDefinition=void 0;var r=n(25),i=n(150),a=n(51),o=function(){function DockerDefinition(){}return DockerDefinition.prototype.computeBuildStageDefinition=function(e,t){for(var n=void 0,r=0,a=e.getCOPYs();r<a.length;r++){var o=(u=a[r]).getFromFlag();if(o)if((l=o.getValueRange())&&l.start.line===t.line&&l.start.character<=t.character&&t.character<=l.end.character){n=o.getValue();break}}for(var s=0,c=e.getFROMs();s<c.length;s++){var u,l;if(l=(u=c[s]).getBuildStageRange()){if(l.start.line===t.line&&l.start.character<=t.character&&t.character<=l.end.character)return l;if(void 0!==n&&u.getBuildStage().toLowerCase()===n.toLowerCase())return l}if(l=u.getImageNameRange(),i.Util.isInsideRange(t,l)){for(var g=u.getImageName(),d=0,h=e.getFROMs();d<h.length;d++){var m=h[d];if(g===m.getBuildStage())return m.getBuildStageRange()}return null}}return null},DockerDefinition.computeVariableDefinition=function(e,t){for(var n=null,r=0,o=e.getARGs();r<o.length;r++){if((g=o[r].getProperty())&&i.Util.isInsideRange(t,g.getNameRange())){n=g.getName();break}}if(null===n)e:for(var s=0,c=e.getENVs();s<c.length;s++)for(var u=0,l=c[s].getProperties();u<l.length;u++){var g=l[u];if(i.Util.isInsideRange(t,g.getNameRange())){n=g.getName();break e}}if(null===n)e:for(var d=0,h=e.getInstructions();d<h.length;d++)for(var m=0,f=(v=h[d]).getVariables();m<f.length;m++){var p=f[m];if(i.Util.isInsideRange(t,p.getNameRange())){n=p.getName();break e}}for(var _=0,R=e.getInstructions();_<R.length;_++){var v;if((v=R[_])instanceof a.Arg){if((g=v.getProperty())&&g.getName()===n)return g}else if(v instanceof a.Env)for(var S=0,k=v.getProperties();S<k.length;S++){if((g=k[S]).getName()===n)return g}}return null},DockerDefinition.findDefinition=function(e,t){for(var n=0,r=e.getFROMs();n<r.length;n++)for(var a=0,o=r[n].getVariables();a<o.length;a++){var s=o[a];if(i.Util.isInsideRange(t,s.getNameRange())){for(var c=0,u=e.getInitialARGs();c<u.length;c++){var l=u[c].getProperty();if(l&&l.getName()===s.getName())return l}return null}}var g=e.getContainingImage(t);return DockerDefinition.computeVariableDefinition(g,t)},DockerDefinition.prototype.computeVariableDefinition=function(e,t){var n=DockerDefinition.findDefinition(e,t);return n?n.getNameRange():null},DockerDefinition.prototype.computeDefinitionRange=function(e,t){var n=a.DockerfileParser.parse(e),r=this.computeBuildStageDefinition(n,t);return r||this.computeVariableDefinition(n,t)},DockerDefinition.prototype.computeDefinition=function(e,t,n){var i=a.DockerfileParser.parse(t),o=this.computeBuildStageDefinition(i,n);return null!==o||null!==(o=this.computeVariableDefinition(i,n))?r.Location.create(e.uri,o):null},DockerDefinition}();t.DockerDefinition=o},897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DockerHighlight=void 0;var r=n(25),i=n(51),a=n(896),o=n(150),s=function(){function DockerHighlight(){}return DockerHighlight.prototype.computeHighlightRanges=function(e,t){var n=i.DockerfileParser.parse(e),s=(new a.DockerDefinition).computeDefinitionRange(e,t),c=null===s?n.getContainingImage(t):n.getContainingImage(s.start),u=[];if(null===s){for(var l=0,g=n.getCOPYs();l<g.length;l++){if(G=(ee=g[l]).getFromFlag()){var d=G.getValueRange();if(d&&d.start.line===t.line&&d.start.character<=t.character&&t.character<=d.end.character){for(var h=G.getValue(),m=0,f=n.getCOPYs();m<f.length;m++){var p=f[m].getFromFlag();p&&p.getValue().toLowerCase()===h.toLowerCase()&&u.push(r.DocumentHighlight.create(p.getValueRange(),r.DocumentHighlightKind.Read))}return u}}}for(var _=0,R=n.getFROMs();_<R.length;_++)for(var v=0,S=(ce=R[_]).getVariables();v<S.length;v++){var k=S[v];if(o.Util.isInsideRange(t,k.getNameRange())){for(var y=k.getName(),D=0,b=n.getFROMs();D<b.length;D++)for(var T=0,C=b[D].getVariables();T<C.length;T++){var A=C[T];A.getName()===y&&u.push(r.DocumentHighlight.create(A.getNameRange(),r.DocumentHighlightKind.Read))}return u}}for(var E=0,P=c.getInstructions();E<P.length;E++)for(var I=0,N=(ee=P[E]).getVariables();I<N.length;I++){k=N[I];if(o.Util.isInsideRange(t,k.getNameRange())){y=k.getName();for(var M=0,O=c.getInstructions();M<O.length;M++){var w=O[M];if(!(w instanceof i.From))for(var x=0,F=w.getVariables();x<F.length;x++){var L=F[x];L.getName()===y&&u.push(r.DocumentHighlight.create(L.getNameRange(),r.DocumentHighlightKind.Read))}}return u}}}else{for(var V=r.TextDocument.create("","",0,e),U=V.getText().substring(V.offsetAt(s.start),V.offsetAt(s.end)),H=!1,q=0,W=n.getFROMs();q<W.length;q++){(h=(ce=W[q]).getBuildStage())&&U.toLowerCase()===h.toLowerCase()&&(u.push(r.DocumentHighlight.create(ce.getBuildStageRange(),r.DocumentHighlightKind.Write)),H=!0)}if(H){for(var j=0,K=n.getCOPYs();j<K.length;j++){var G;(G=(ee=K[j]).getFromFlag())&&G.getValue().toLowerCase()===U.toLowerCase()&&u.push(r.DocumentHighlight.create(G.getValueRange(),r.DocumentHighlightKind.Read))}return u}for(var B=0,$=c.getARGs();B<$.length;B++){(ae=$[B].getProperty())&&ae.getName()===U&&u.push(r.DocumentHighlight.create(ae.getNameRange(),r.DocumentHighlightKind.Write))}for(var Y=0,J=c.getENVs();Y<J.length;Y++)for(var z=0,Q=J[Y].getProperties();z<Q.length;z++){(ae=Q[z]).getName()===U&&u.push(r.DocumentHighlight.create(ae.getNameRange(),r.DocumentHighlightKind.Write))}for(var X=0,Z=c.getInstructions();X<Z.length;X++){var ee;if(!((ee=Z[X])instanceof i.From))for(var te=0,ne=ee.getVariables();te<ne.length;te++){(k=ne[te]).getName()===U&&u.push(r.DocumentHighlight.create(k.getNameRange(),r.DocumentHighlightKind.Read))}}for(var re=0,ie=n.getInitialARGs();re<ie.length;re++){var ae;if((ae=ie[re].getProperty())&&o.Util.rangeEquals(ae.getNameRange(),s))for(var oe=0,se=n.getFROMs();oe<se.length;oe++)for(var ce,ue=0,le=(ce=se[oe]).getVariables();ue<le.length;ue++){(k=le[ue]).getName()===U&&u.push(r.DocumentHighlight.create(k.getNameRange(),r.DocumentHighlightKind.Read))}}}return u},DockerHighlight}();t.DockerHighlight=s},898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownDocumentation=void 0;var r=function(){function MarkdownDocumentation(){this.dockerMessages={hoverAdd:"Copy files, folders, or remote URLs from `source` to the `dest` path in the image's filesystem.\n\n",hoverArg:"Define a variable with an optional default value that users can override at build-time when using `docker build`.\n\nSince Docker 1.9\n\n",hoverCmd:"Provide defaults for an executing container. If an executable is not specified, then `ENTRYPOINT` must be specified as well. There can only be one `CMD` instruction in a `Dockerfile`.\n\n",hoverCopy:"Copy files or folders from `source` to the `dest` path in the image's filesystem.\n\n",hoverEntrypoint:"Configures the container to be run as an executable.\n\n",hoverEnv:"Set the environment variable `key` to the value `value`.\n\n",hoverExpose:"Define the network `port`s that this container will listen on at runtime.\n\n",hoverFrom:"Set the `baseImage` to use for subsequent instructions. `FROM` must be the first instruction in a `Dockerfile`.\n\n",hoverHealthcheck:"Define how Docker should test the container to check that it is still working. Alternatively, disable the base image's `HEALTHCHECK` instruction. There can only be one `HEALTHCHECK` instruction in a `Dockerfile`.\n\nSince Docker 1.12\n\n",hoverLabel:"Adds metadata to an image.\n\nSince Docker 1.6\n\n",hoverMaintainer:"Set the _Author_ field of the generated images. This instruction has been deprecated in favor of `LABEL`.\n\n",hoverOnbuild:"Add a _trigger_ instruction to the image that will be executed when the image is used as a base image for another build.\n\n",hoverRun:"Execute any commands on top of the current image as a new layer and commit the results.\n\n",hoverShell:"Override the default shell used for the _shell_ form of commands.\n\nSince Docker 1.12\n\n",hoverStopsignal:"Set the system call signal to use to send to the container to exit. Signals can be valid unsigned numbers or a signal name in the `SIGNAME` format such as `SIGKILL`.\n\nSince Docker 1.9\n\n",hoverUser:"Set the user name or UID to use when running the image in addition to any subsequent `CMD`, `ENTRYPOINT`, or `RUN` instructions that follow it in the `Dockerfile`.\n\n",hoverVolume:"Create a mount point with the specified name and mark it as holding externally mounted volumes from the native host or from other containers.\n\n",hoverWorkdir:"Set the working directory for any subsequent `ADD`, `COPY`, `CMD`, `ENTRYPOINT`, or `RUN` instructions that follow it in the `Dockerfile`.\n\n",hoverEscape:"Sets the character to use to escape characters and newlines in this Dockerfile. If unspecified, the default escape character is `\\`.\n\n",hoverSyntax:"Set the location of the Dockerfile builder to use for building the current Dockerfile.\n\n",hoverOnlineDocumentationFooter:"\n\n[Online documentation](${0})",hoverAddFlagChown:"The username, groupname, or UID/GID combination to own the added content.",hoverCopyFlagChown:"The username, groupname, or UID/GID combination to own the copied content.",hoverCopyFlagFrom:"The previous build stage to use as the source location instead of the build's context.\n\nSince Docker 17.05.0-ce.",hoverFromFlagPlatform:"The platform of the image if referencing a multi-platform image.\n\nSince Docker CE 18.04.",hoverHealthcheckFlagInterval:"The seconds to wait for the health check to run after the container has started, and then again the number of seconds to wait before running again after the previous check has completed.",hoverHealthcheckFlagRetries:"The number of consecutive failures of this health check before the container is considered to be `unhealthy`.",hoverHealthcheckFlagStartPeriod:"The number of seconds to wait for the container to startup. Failures during this grace period will not count towards the maximum number of retries. However, should a health check succeed during this period then any subsequent failures will count towards the maximum number of retries.\n\nSince Docker 17.05.0-ce.",hoverHealthcheckFlagTimeout:"The number of seconds to wait for the check to complete before considering it to have failed.",proposalArgNameOnly:"Define a variable that users can set at build-time when using `docker build`.\n\n",proposalArgDefaultValue:"Define a variable with the given default value that users can override at build-time when using `docker build`.\n\n",proposalHealthcheckExec:"Define how Docker should test the container to check that it is still working. There can only be one `HEALTHCHECK` instruction in a `Dockerfile`.\n\nSince Docker 1.12\n\n",proposalHealthcheckNone:"Disable the `HEALTHCHECK` instruction inherited from the base image if one exists. There can only be one `HEALTHCHECK` instruction in a `Dockerfile`.\n\nSince Docker 1.12"},this.markdowns={ADD:{contents:this.dockerMessages.hoverAdd+"```\nADD hello.txt /absolute/path\nADD hello.txt relative/to/workdir\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#add")},ADD_FlagChown:{contents:this.dockerMessages.hoverAddFlagChown},ARG:{contents:this.dockerMessages.hoverArg+"```\nARG userName\nARG testOutputDir=test\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#arg")},ARG_NameOnly:{contents:this.dockerMessages.proposalArgNameOnly+"```\nARG userName\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#arg")},ARG_DefaultValue:{contents:this.dockerMessages.proposalArgDefaultValue+"```\nARG testOutputDir=test\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#arg")},CMD:{contents:this.dockerMessages.hoverCmd+'```\nCMD [ "/bin/ls", "-l" ]\n```\n'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#cmd")},COPY:{contents:this.dockerMessages.hoverCopy+"```\nCOPY hello.txt /absolute/path\nCOPY hello.txt relative/to/workdir\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#copy")},COPY_FlagChown:{contents:this.dockerMessages.hoverCopyFlagChown},COPY_FlagFrom:{contents:this.dockerMessages.hoverCopyFlagFrom},ENTRYPOINT:{contents:this.dockerMessages.hoverEntrypoint+'```\nENTRYPOINT [ "/opt/app/run.sh", "--port", "8080" ]\n```'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#entrypoint")},ENV:{contents:this.dockerMessages.hoverEnv+"```\nENV buildTag=1.0\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#env")},EXPOSE:{contents:this.dockerMessages.hoverExpose+"```\nEXPOSE 8080\nEXPOSE 80 443 22\nEXPOSE 7000-8000\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#expose")},FROM:{contents:this.dockerMessages.hoverFrom+"```\nFROM baseImage\nFROM baseImage:tag\nFROM baseImage@digest\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#from")},FROM_FlagPlatform:{contents:this.dockerMessages.hoverFromFlagPlatform},HEALTHCHECK:{contents:this.dockerMessages.hoverHealthcheck+"```\nHEALTHCHECK --interval=10m --timeout=5s \\\n    CMD curl -f http://localhost/ || exit 1\nHEALTHCHECK NONE\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#healthcheck")},HEALTHCHECK_CMD:{contents:this.dockerMessages.proposalHealthcheckExec+"```\nHEALTHCHECK --interval=10m --timeout=5s \\\n    CMD curl -f http://localhost/ || exit 1\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#healthcheck")},HEALTHCHECK_FlagInterval:{contents:this.dockerMessages.hoverHealthcheckFlagInterval},HEALTHCHECK_FlagRetries:{contents:this.dockerMessages.hoverHealthcheckFlagRetries},HEALTHCHECK_FlagStartPeriod:{contents:this.dockerMessages.hoverHealthcheckFlagStartPeriod},HEALTHCHECK_FlagTimeout:{contents:this.dockerMessages.hoverHealthcheckFlagTimeout},HEALTHCHECK_NONE:{contents:this.dockerMessages.proposalHealthcheckNone+"```\nHEALTHCHECK NONE\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#healthcheck")},LABEL:{contents:this.dockerMessages.hoverLabel+'```\nLABEL version="1.0"\n```\n'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#label")},MAINTAINER:{contents:this.dockerMessages.hoverMaintainer+"```\nMAINTAINER name\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#maintainer")},ONBUILD:{contents:this.dockerMessages.hoverOnbuild+"```\nONBUILD ADD . /opt/app/src/extensions\nONBUILD RUN /usr/local/bin/build.sh /opt/app```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#cmd")},RUN:{contents:this.dockerMessages.hoverRun+"```\nRUN apt-get update && apt-get install -y curl\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#run")},SHELL:{contents:this.dockerMessages.hoverShell+'```\nSHELL [ "powershell", "-command" ]\n```\n'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#shell")},STOPSIGNAL:{contents:this.dockerMessages.hoverStopsignal+"```\nSTOPSIGNAL 9\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#stopsignal")},USER:{contents:this.dockerMessages.hoverUser+"```\nUSER daemon\n```\n"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#user")},VOLUME:{contents:this.dockerMessages.hoverVolume+'```\nVOLUME [ "/var/db" ]\n```\n'+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#volume")},WORKDIR:{contents:this.dockerMessages.hoverWorkdir+"```\nWORKDIR /path/to/workdir\nWORKDIR relative/path\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#workdir")},escape:{contents:this.dockerMessages.hoverEscape+"```\n# escape=`\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#escape")},syntax:{contents:this.dockerMessages.hoverSyntax+"```\n# syntax=docker/dockerfile:1.0\n# syntax=docker/dockerfile:1.0.0-experimental\n```"+this.formatMessage(this.dockerMessages.hoverOnlineDocumentationFooter,"https://docs.docker.com/engine/reference/builder/#syntax")}}}return MarkdownDocumentation.prototype.formatMessage=function(e,t){return e.replace("${0}",t)},MarkdownDocumentation.prototype.getMarkdown=function(e){return this.markdowns[e]},MarkdownDocumentation}();t.MarkdownDocumentation=r},94:function(e,t){e.exports=require("child_process")}});